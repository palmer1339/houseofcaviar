/*!
 * WalkMe
 * http://www.walkme.com/
 *
 * Copyright 2012, WalkMe LTD
 */
function ClassMakeTutorial(){function e(e,t,n,r,i,o,a,s,c,d,f,p,g,h){function m(){M=o.addScript,v(),(!s||s.isSelfHosted)&&(X=!1)}function v(){window.wmPlaySnippet?(F=window.wmPlaySnippet,K=!0,Y=!0):window.wmPreviewSnippet?(F=window.wmPreviewSnippet,q=!0,Y=!0):window.wmSnippet&&(F=window.wmSnippet,Y=!0)}function y(t){var n=e.Logger.timer("init data files and widget");U=0;var r=!(q||K);if(void 0!=window.wm_walkmeLibLoaded)_walkMe=_makeTutorial=e,window._walkmeInternals.continueLoad=function(){w(t)},wm_walkmeLibLoaded(e);else{if(!Y)return;window.document.dontLoadTriangle&&r?(window._walkmeInternals.blocked=!0,window._walkmeInternals.continueLoad=function(){w(t)}):w(t)}n.stop()}function w(t){var n=a.getSettingsFile();n&&(e.setPetaServerName(n.PetaServer),e.setCdnServer(n.CdnServerName),n.IsInEditor&&e.setIsInEditor(!0),e.setUserGuid(n.UserGuids&&n.UserGuids[0]),B=n.PlayerServer,r.init(),K?n.data&&(n.data.tutorials?(e.setSurveysForRecorder("[]"),e.setSiteConfig(n.data.siteConfig),e.setTutorialsForEditor(n.data.tutorials,n.UserGuids[0]),h.setWalkmeTimeout(function(){e.dataFinishedLoading(!0,!0)},1)):n.data.flows&&(e.setSiteConfig(n.data.siteConfig),h.setWalkmeTimeout(function(){e.dataFinishedLoading(!0,!0),e.setDeployablesJson(g.DEPLOYABLE_TYPE.BusinessSolutions,n.data.flows),e.getDeployablesManager(g.DEPLOYABLE_TYPE.BusinessSolutions).restore()},1))):b(n,function(e){T(n,e)}))}function b(t,r){var i=f.Data;if(null==i||void 0==i.Permutations)r();else{var o=i.DefaultPermutation,a=i.Permutations;n.setPermutations(a,o);var s=S(i.ActivationRules);n.initGetPermutation(s,function(t){var o=n.getPermutationById(t);return 0===o.LoadWalkMe?(el("WalkMe ABTesting - WalkMe Loading canceled. Stopping execution"),void e.removeWalkMe("AbTesting - LoadWalkMe is false")):(e.appendWalkMeConfigData(i),void r(t))})}}function S(e){for(var t=0;t<e.length;t++){var n=e[t],r=i.evaluate(n.Settings.conditionTree);if(r===!0){var o=n.PermutationIds[0];return o}}return null}function T(e,t){for(var n=e.DataFiles,r=0;r<n.length;r++)if(n[r].metaData)return void I(e,n[r]);C(e.DataFiles,e.WidgetFile,t)}function I(e,t){function n(t,n,r){var i=[];t=F.fixAutoDetectPaths(t);for(var o=0;o<e.DataFiles.length;o++)1==e.DataFiles[o].metaData?i=i.concat(t.DataFiles):i.push(e.DataFiles[o]);C(i,e.WidgetFile)}d.loadTextFile(t.url,"fixedCallback",n,void 0,!1)}function C(e,t,n){G=l(u(e)),E(t),k(e,n)}function E(e){if(s&&s.localWidgetUrl)return void(L=s.localWidgetUrl);if(o.isLocalStorageEnabled()){var t=localStorage.getItem(R);if(t)return void(L=t)}L=e}function k(e,t){W=c.fixLanguageUrlInDataFiles(l(u(e)),H),void 0!==t&&t>-1&&(W=_(W,t)),c.setLanguages(W),A()}function _(e,t){for(var n=0;n<e.length;n++)e[n].url=x(e[n],t);return e}function x(e,t){var n=e.url,r=".js";return n.substring(0,n.length-r.length)+"_"+t+r}function P(e){Ea("dataFileStartLoad"),M(e)}function D(e){Ea("widgetStartLoad"),p.async("WidgetLoad",[e],function(){M(e)})}function A(){try{var t=W[U].url;Q=void 0!=W[U].isHidden?W[U].isHidden:!1,P(t)}catch(n){e.Logger.error("faild to load data file: "+n)}}function O(){e.dataFinishedLoading()&&(H?(H=!1,V&&V(!0)):D(L))}function N(e){var t={};t=a.getSettingsFile();var n;o.isLocalStorageEnabled()&&(n=window.localStorage.getItem(j)),n&&(t.PostLibJsFile=n),t.PostLibJsFile&&""!=t.PostLibJsFile?(window.walkme_post_lib_loaded=function(){e()},Ea("postLibStartLoad"),M(t.PostLibJsFile)):e()}var M,L,B,F,j="wm-postlibjs",R="wm-customWidgetUrl",U=null,G=[],W=[],V=null,Q=!1,H=!1,z=!1,Y=!1,q=!1,K=!1,X=!0;this.isNextDataPackageIsHidden=function(){return Q},this.getPlayerServer=function(){return B},this.changeLanguage=function(t,r){e.stopTutorial(void 0,!0);var i=c.changeLanguage(t,G);if(i){e.releaseLaunchers(void 0,void 0,!0),e.releaseShoutOuts(),e.releaseShoutOutBars(),V=r,U=0,H=!0,z=!0;var o=n.getPermutation();k(G,o)}else r(i)},this.isNewLanguage=function(){return z},this.startInitializer=function(e){N(function(){y(e)})},this.dataFileLoadedWrapper=function(){if(Ea("dataFileEndLoad"),Q=!1,U++,z=!1,U==W.length){var e=jl.get("CustomVariableAuditor");_walkmeInternals.bind("SfVarsExposed",e.handleSfVars),Lg("sfVars")?tf.extractSalesForceVars(O):O()}else A()},m.apply(null,arguments)}function t(){Kd=(new Date).getTime()}function n(){var e=this;e.STEP_STATUS={SupposedToShow:0,Shown:1,Performed:2,SkippedNotFound:3,SkippedByCondition:4,MovedBack:5,Exited:6,FakeFound:7,SkippedByTutorialCondition:8,SkippedStartedFromBiggerStep:9,NonValidActionStep:10,SkippedByActionStep:11},e.STEP_ACTION={Redirect:"redirect",PlayStep:"playStep",WaitForCondition:"waitForCond",Branch:"branchWt",StopWt:"stopWt",Delay:"delay",Refresh:"refresh",OpenPlayerMenu:"openPlayerMenu",SetWalkMeData:"setWalkMeData",PassOwnership:"passOwnership"},e.STEP_TYPE={Normal:0,Popup:1,Action:2},e.SOURCES={production:0,preview:1,play:2,test:3,success:32},e.TIME_PERIODS={OneHourSeconds:3600,DaySeconds:86400},e.STORAGE_KEYS={lastGetDataTime:"wm-lgt"},e.STORAGE_TYPE={Cookie:"cookie",CrossDomain:"crossdomain",JStorage:"jstorage",HiddenIframe:"hiddeniframestorage",CrossDomainLocalStorage:"crossdomain_ls",CrossDomainCookies:"crossdomain_ck",Extension:"extension",ProxyIframe:"proxy"},e.PLATFORM={Web:1,iOS:2,MobileWeb:3,Android:4},e.STEP_PLAY_INITIATOR_ENUM={NONE:0,WIDGET:1,API:2,LAUNCHER:3,TASK:4,BRANCHING:5,AUTOSTART:6,PERMALINK:7,BBCODE:8,CHAT_AGENT:9,SHOUTOUT:10,WALKTHRU:11,STEP:12,ATTENTION_GRABBER:13},e.AUDIT_TYPE={OPEN_TICKET:100},e.PLAY_MODE={Widget:0,LightBox:1,NewTab:2,SameTab:3},e.MOBILE_COMMANDS={VIEW:{append:1e3,show:1001,hide:1002,remove:1003},ACTION:{rateApp:2e3,playVideo:2001,browseToPage:2001,openSettings:2002,libAction:2003},GET_DATA:{storageVar:3e3,systemInfo:3001,permissions:3002}},e.MOBILE_COMMAND_NAME="message",e.EVENT_SENDER_EVENT_TYPES={Close:"close",Open:"open",Play:"play",PlayFailed:"playFailed",Click:"click",Search:"search",Complete:"complete",GoalReached:"goalReach",Submitted:"submitted",Loaded:"loaded",Visible:"visible",Draw:"draw"},e.EVENT_SENDER_STEP_ACTION_NAMES={Redirect:0,PlayStep:1,WaitForCondition:2,Branch:3,StopWt:4,Delay:5,Refresh:6,OpenPlayerMenu:7,SetWalkMeData:8,PassOwnership:9},e.EVENT_SENDER_ACTIONS={None:"none",OpenMenu:"menu",PlayWalkthru:"wt",PlayShuttle:"shuttle",PlaySurvey:"survey",PlayShoutOut:"shoutout",PlayResource:"resource",PlayContent:"resource",SurveyQuestionAnswered:"answer"},e.EVENT_SENDER_MOBILE_ACTION_TYPES={None:"none",RateApp:"rateApp",OpenSettings:"openSettings",BrowseToPage:"browseToPage",PlayVideo:"playVideo"},e.EVENT_SENDER_EVENT_APPS={None:"none",Player:"player",Walkthru:"wt",Step:"step",ShoutOut:"shoutout",ShoutOutBar:"shoutoutBar",Shuttle:"shuttle",Survey:"survey",Question:"question",SurveyQuestionAnswer:"answer",Content:"resource",Launcher:"launcher",Task:"task",WidgetSearch:"widgetSearch",Ticket:"openTicket",Walkme:"walkme",AbTesting:"abTesting"},e.EVENT_SENDER_AB_TESTING_DRAW_REASONS={Draw:0,ActivationRule:1},e.EVENT_SENDER_CANCEL_REASONS={Xclick:"X Clicked"},e.DEPLOYABLE_TYPE={Tutorial:0,Task:1,Launcher:2,LabelGroup:3,Survey:4,AbExperiment:5,Category:6,Content:7,Collection:8,Shuttle:9,Tag:10,ShoutOut:14,ShoutOutBar:15,ConditionBlock:17,BusinessSolutions:19},e.SAFESTART_ACTION={ErrorShown:0,PopupShown:1,AutoRedirect:2,StayClicked:3,RedirectClicked:4,FailOnUrl:5},e.FEATURES={DisableWidgetOpenFullUrl:"disableWidgetOpenFullUrl",EventSenderDontSendPageUrl:"dontSendPageUrl",EventSenderDontSendPageTitle:"dontSendPageTitle",StickyCustomVars:"stickyCustomVars",DisableEventCollection:"disableEventCollection",JSP:"jsp"},e.EVENTS={PlayerClicked:"wmPlayerClicked",ApiWasCalled:"wmApiCalled",LauncherClicked:"wmLauncherClicked",AutoStartActivated:"wmAutoStartActivated",PermalinkClicked:"wmPermalinkClicked",WidgetOpening:"wmWidgetOpening",GoalReached:"GoalCompleted",AbExperimentLinkedGoalReached:"wmLinkedGoalReached"},e.WINDOW_CUSTOM_DATA_TYPE={Cookie:0,Var:1},e.VALUE_CALCULATOR_TYPE={Cookie:"cookie",Variable:"var",JQuery:"jquery"},e.DEFAULT_REACTION_TIME=500,e.FLOW_TRIGGER_WORKSPACE=".flow",e.ELEMENT_STICKY_TYPE={ONCE:0,SOFT:1,STRONG:2},e.CONDITION_SHOW_STICKY_TYPE={ONCE:0,CONTINUE:1},e.VISIBILITY_STATE={VISIBLE:0,HIDDEN:1},e.ICON_CONTENT_KIND={Text:0,Image:1},e.POSITION_PERIMETER_TYPE={Outside:0,Inside:1},e.POSITION_TYPE={Top:0,Right:1,Bottom:2,Left:3,TopLeft:4,TopRight:5,BottomRight:6,BottomLeft:7,Center:8},e.ICON_EMBEDMENT_TYPE={EmbedInElement:0,EmbedInElementParent:1,EmbedInOwnerDocument:2,EmbedInTopDocument:3},e.ICON_CONTENT_STATE={Regular:0,Hover:1,Click:2},e.NEW_CONDITION_NODE_TYPE={Condition:0,And:1,Or:2,Group:3}}function r(e){var t=this,n={platform:e.PLATFORM.Web};t.get=function(e){return window._walkmeConfig&&window._walkmeConfig[e]?window._walkmeConfig[e]:n[e]}}function i(e,t){function n(){r=t.get("platform")}var r,i=this;i.register=function(e,t){e==r&&t()},n.apply(null,arguments)}function o(){function e(e){o=e,o.__wmoop__=u,u.Virtual=new s(u),u.Prop=new a(u)}function t(){for(var e in h){if(!c.IsVirtual(e))throw"Cannot override non-virtual method ["+e+"]. of class : "+c;c.DoOverride(e,h[e])}}function n(){var e={},t={},t=c.GetOriginalFunctions();for(var n in t){var r=t[n];e[n]=r}return e}function r(){var e=c.GetPublics();for(var t in e){var n=e[t];u.Public(t,n)}}function i(e,t,n){function r(){return g[e](arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19])}return n?(g[e]=t,r):t}var o,u=this,l=null,c=null,d={},f={},p={},g={},h={},m={};u.Extends=function(e,t,n,r,i,o,a){l=new e(t,n,r,i,o,a),u.ExtendsInstance(l)},u.ExtendsInstance=function(e){c=e.__wmoop__,r(),t();var i=n();u._base=i},u.Override=function(e,t){return h[e]=t,t},u.DoOverride=function(e,t){g[e]=t},u.IsVirtual=function(e){return void 0!==g[e]},u.GetOriginalFunctions=function(){return p},u.Public=function(e,t,n){var r=i(e,t,n);return p[e]=t,o[e]=r,d[e]=r,r},u.Protected=function(e,t,n){var r=i(e,t,n);return p[e]=t,f[e]=r,r},u.GetProperties=function(){return m},u.GetPublics=function(){return d},u.GetProtecteds=function(){return f},e.apply(null,arguments)}function a(){function e(e){n=e}function t(e,t){function r(t){return void 0===t?n.GetProperties()[e]:void(n.GetProperties()[e]=t)}return n.GetProperties()[e]=t,r}var n,r=this;r.Public=function(e,r){var i=t(e,r);return n.Public(e,i),i},r.Protected=function(e,r){var i=t(e,r);return n.Protected(e,i),i},r.Private=function(e,n){var r=t(e,n);return r},e.apply(null,arguments)}function s(){function e(e){n=e}function t(e){function t(){throw"["+e+"] is pure virtual and must be overriden"}return t}var n;this.Public=function(e,r){return r=r?r:t(e),n.Public(e,r,!0)},this.Protected=function(e,r){return r=r?r:t(e),n.Protected(e,r,!0)},e.apply(null,arguments)}function u(e){if(null!==e&&f(e,function(e){try{e.toJSON&&(e.toJSON=null)}catch(t){}}),d())return JSON.stringify(e);if(null===e)return"null";var t=typeof e;if("undefined"===t)return void 0;if("number"===t||"boolean"===t)return""+e;if("string"===t)return C(e);if("object"===t){if("function"==typeof e.toJSON)return u(e.toJSON());if(e.constructor===Date){var n=e.getUTCMonth()+1,r=e.getUTCDate(),i=e.getUTCFullYear(),o=e.getUTCHours(),a=e.getUTCMinutes(),s=e.getUTCSeconds(),l=e.getUTCMilliseconds();return 10>n&&(n="0"+n),10>r&&(r="0"+r),10>o&&(o="0"+o),10>a&&(a="0"+a),10>s&&(s="0"+s),100>l&&(l="0"+l),10>l&&(l="0"+l),'"'+i+"-"+n+"-"+r+"T"+o+":"+a+":"+s+"."+l+'Z"'}if(e.constructor===Array){for(var c=[],p=0;p<e.length;p++)c.push(u(e[p])||"null");return"["+c.join(",")+"]"}var g,h,m=[];for(var v in e){if(t=typeof v,"number"===t)g='"'+v+'"';else{if("string"!==t)continue;g=C(v)}t=typeof e[v],"function"!==t&&"undefined"!==t&&(h=u(e[v]),m.push(g+":"+h))}return"{"+m.join(",")+"}"}}function l(e){if(c())return JSON.parse(e);var t=e.toString().replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(t))return _makeTutorialEv.Ev("("+e+")");throw new SyntaxError("Error parsing JSON, source is not valid.")}function c(){return"object"!=typeof JSON?!1:JSON.parse&&p(JSON.parse)?!0:!1}function d(){return"object"!=typeof JSON?!1:JSON.stringify&&p(JSON.stringify)?!0:!1}function f(e,t){if(void 0!=e&&"object"==typeof e)for(var n in e)if(Object.hasOwnProperty.call(e,n)){var r=e[n];null!==r&&void 0!==r&&f(r,t)}null!==e&&void 0!==e&&t(e)}function p(e){return e.toString().indexOf("[native code]")>-1}function g(e){return l(u(e))}function h(){for(var e=arguments[0],t=1;t<arguments.length;t++){var n=new RegExp("\\{"+(t-1)+"\\}","gm");e=e.replace(n,arguments[t])}return e}function m(e,t,n){var r,i,o,a,s,u=e,l=u.length,c=l>>>0;if("function"!=typeof t)throw new TypeError;if(0===c&&void 0===n)throw new TypeError;if(r=0,void 0!==n)i=n;else{for(o=!1;!o&&c>r;)a=r.toString(),o=u.hasOwnProperty(a),o&&(i=u[a]),r+=1;if(!o)throw new TypeError}for(;c>r;)a=r.toString(),o=u.hasOwnProperty(a),o&&(s=u[a],i=t.call(void 0,i,s,r,u)),r+=1;return i}function v(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}function y(e){return!isNaN(e)}function w(){var e=new Date,t=60*e.getTimezoneOffset()*1e3;return e.getTime()-t}function b(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function S(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function T(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function I(e,t){for(var n=e.length-1;n>=0;n--){for(var r=!1,i=t.length-1;i>=0&&!r;i--)t[i]==e[n]&&(r=!0);r||t.push(e[n])}return t}function C(e){return e.match(Ac)?'"'+e.replace(Ac,function(e){var t=Oc[e];return"string"==typeof t?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))})+'"':'"'+e+'"'}function E(e,t,n){function r(){m=new h(e)}function i(e){return e.debug=function(t,n,r){return e("debug",t,n,r)},e.info=function(t,n,r){return e("info",t,n,r)},e.warn=function(t,n,r){return e("warn",t,n,r)},e.error=function(t,n,r){return e("error",t,n,r)},e}function o(){for(var e=E.length-1;e>=0;e--)d(E[e]);E.length=0}function a(){var e=new Date;return"["+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+":"+e.getMilliseconds()+"] "}function s(e,t,n){var r=!0;return e?r=-1!=mtjQuery.inArray(n,e):t&&(r=-1==mtjQuery.inArray(n,t)),r}function c(e,t){try{if(il())return!0;if(Lg("disableAuditErrorLog"))return!0;if(S++,S>5)return;var r={code:t,isInEditor:n.getIsInEditor(),SVNRevision:n.SVNRevision,LibVersion:n.LibVersion};v.sendServerLog.error(e,r)}catch(i){}}function d(e){if(window.console)console.log(e);else try{var t=g(),n=new Date,r=f(e);t.find("#walkme-console-messages").prepend('<li style="padding: 2px 5px; border-bottom: 1px solid #afafaf"><span style="float: left; color: #afafaf; margin-right: 5px;">'+p(n.getHours())+":"+p(n.getMinutes())+":"+p(n.getSeconds())+" </span>"+r.substring(1,r.length-1)+"</li>")}catch(i){}}function f(e){return e instanceof wmjQuery?"-jQuery object: selector - "+e.selector+", value - "+e.val()+", domElement - "+u(e[0]):u(e)}function p(e){return 10>e?"0"+e:e}function g(){var e=mtjQuery("#walkme-console-box");if(0===e.length){var t=bl();e=mtjQuery('<div id="walkme-console-box"></div>');var n=mtjQuery('<div style="display: none;">Walkme Console: [ </div>'),r=mtjQuery('<button type="button" title="Toggle the walkme debug console">Walkme Console</button>'),i=mtjQuery('<ul id="walkme-console-messages"></ul>'),o=mtjQuery('<a href="#">clear</a>');n.append(o),n.append(" ]"),n.append(i),e.append(n),e.append(r),t.append(e),r.click(function(){n.slideToggle("fast",function(){var e=mtjQuery(this).is(":visible")?"Close Console":"Walkme Console";r.text(e)})}),o.click(function(){i.empty()}),n.css({margin:"15px 60px 5px 15px",padding:"5px",border:"1px solid red","background-color":"#FFC",color:"#000"}),r.css({border:"1px solid red","background-color":"#FFFFCC","margin-left":"15px",width:"120px"}),e.css({position:"fixed","z-index":cf,"font-family":"Arial",bottom:"10px",left:"10px",width:"100%","text-align":"left"}),i.css({"background-color":"white",border:"1px solid black",height:"260px","list-style-type":"none",padding:"0","overflow-y":"auto",margin:"5px 0 0"})}return e}function h(){function e(e){a=e,o=l(a.getCookie(y))}function t(){o||(o={})}function n(e,t){return o?o[e]:t}function r(e){return uh(e)?"string"==typeof e?(e=e.replace(/\s/g,""),e.split(",")):e.length>0?e:void 0:[]}function i(){a.setCookie(y,u(o),b)}var o,a,s=this,c=1;s.enable=function(e){return t(),o.l=e||c,i(),s},s.disable=function(){return o&&(o.l=0,i()),s},s.reset=function(){return o={l:c},i(),s},s.level=function d(d){return void 0===d?n("l",null):(t(),o.l=d,i(),s)},s.track=function(e){if(void 0===e)return n("f",[]);t();var a=r(e);return delete o.u,o.f=o.f?I(a,o.f):a,i(),s},s.untrack=function(e){if(void 0===e)return n("u",[]);t();var a=r(e);return delete o.f,o.u=o.u?I(a,o.u):a,i(),s},s.timer=function(e){return t(),e?o.m=1:o.m&&delete o.m,i(),s},e.apply(null,arguments)}var m,v=this,y="walkmeCustomerLogs",w={debug:4,info:3,warn:2,error:1},b=86400,S=0,T=!0;v.ready=function(){var e="DI";Fl.logger=v.wrapCustomerLog(e)},v.wrapCustomerLog=function(e){return function(t,n,r){v.customerLog(t,n,r||e)}},v.customerLog=function(n,r,i){if(!t.isQuirksMode()||!(n instanceof mtjQuery||n&&n.nodeType)){r=is(r,1);var o=l(e.getCookie(y));if(o){var c=parseInt(o.l),f=o.f,p=o.u;if(c>=r&&s(f,p,i))try{d(o.m?a()+u(n):n)}catch(g){}}}},v.sendServerLog=i(function(e,t,n,r){jl.get("EventCollectorLogger").log(e,t,n),v.customerLog(t,w[e],r)}),v.wrapServerLog=function(e){return i(function(t,n,r,i){v.sendServerLog(t,n,r,i||e)})};var C=0,E=[];v.timer=function(t){C++;var n=(new Date).getTime();return{stop:function(){var r=l(e.getCookie(y));if(r&&r.m){var i=(new Date).getTime(),s=i-n,u=Array(C).join("->	"),c=a()+u+t+": "+s+"ms";1==C?(d(c),o()):E.push(c),C--}}}},v.enableCustomerLogs=function(e){return m.enable(e)},v.error=function(e,t){try{var n,r=arguments.callee.caller,i=r?r.name:"N/A";if(e&&e.message){var o=t?t+"\n":"";n=o+"File : "+e.fileName+"\n - Function : "+i+"\n - Line : "+e.lineNumber+"\n - Msg : "+e.message}else n="Function : "+i+"\n - "+t;e&&e.stack&&(n+="\n - Stack: "+e.stack),T&&c(n,1),Ld&&!window.wmNoAlert&&alert("Dev mode alert: "+n),el("Error: "+n)}catch(a){}},v.getAPI=function(){return m},r.apply(null,arguments)}function k(e,t,n,r,i,o){function a(){}function s(){throw new Error("WalkMeInfo not initialized properly")}var u=this;u.getUserGuid=function(){s()},u.getEndUserGuid=function(){s()},u.getPermutationId=function(){s()},u.getLanguage=function(){s()},u.getSource=function(){s()},u.getCustomVars=function(){s()},u.init=function(){u.getUserGuid=o,u.getEndUserGuid=e.getEndUserGuid,u.getPermutationId=t.getCurrentPermutation,u.getLanguage=n.getCurrentLanguage,u.getEnvironmentId=r,u.getCustomVars=i},a.apply(this,arguments)}function _(e,t,n,r){function i(){window._walkmeInternals=window._walkmeInternals||{},window._walkmeInternals.walkmeLoadLog=[],c={start:{run:function(t){o("st"),ln=jl.get("CommonUtils"),dn=jl.get("UiUtils"),e.profilerAPI=jl.get("ProfilerAPI");var n=jl.get("SettingsFile").getSettingsFile();e.setAuditSource(n.Environment),e.setUserGuid(n.UserGuids&&n.UserGuids[0]),jl.get("RecorderServerManager").set(n.PlayerServer),jl.get("EventServerBaseUrl").set(n.EventServer),jl.get("FramesetsUtils").waitForFramesHeadsAndBodies(t)},next:"pageReady"},pageReady:{run:function(t){o("pr"),e.setCdnServer(jl.get("SettingsFile").getCdnServerName()||""),f.libCtorTimer=e.Logger.timer("lib constructor"),t()},next:"loadStorage"},loadStorage:{run:function(t){o("ls");var n=jl.get("ClientStorageManager");if(n){if(n.init(t,e)===!1)return s("storageManagerInitFailed"),!1;try{window.walkme_lib_in_dev&&Sl()}catch(r){}f.libCtorTimer.stop()}},next:"loadWalkmeConfig"},loadWalkmeConfig:{run:function(e){o("lwc"),t.init(function(){if(null!=t.Data){var n=t.Data.EndUserSettings,r=jl.get("EndUsersManager");r.setEndUserSettings(n)}e()})},next:"loadServerStorage"},loadServerStorage:{run:function(t){o("lss");var r=jl.get("StorageManagerFactory").bySettingsFile(!0);r===jl.get("ClientStorageManager")&&(r.removeData(n.STORAGE_KEYS.lastGetDataTime,e.getUserGuid()),jl.register("ServerStorageManager").asInstance(r)),r.init(t,t)},next:"afterStorageLoaded"},afterStorageLoaded:{run:function(t){o("asl"),jl.get("loadClasses");var n=jl.get("ServerStorageManager"),i="wm-lang",a="wm-ABPer";n.convertOldCookieStorage(i),n.convertOldCookieStorage(a),-1==document.cookie.indexOf("walkmeDontInitLib")&&r.setWalkmeTimeout(function(){e.Init()},0)}}},d="start"}function o(e){window._walkmeInternals.walkmeLoadLog.push(e)}function a(){}function s(t){e.removeWalkMe(t),e.initFailed=!0}function u(e,t){e&&(e.run?e.run(function(){l(e,t)}):l(e,t))}function l(e,t){if(e){var n=c[e.next];d=e.next,n?u(n,t):t&&t()}}var c,d,f=this;jl.register("loadClasses").asFunction(a).dependencies("CookiesManager,Logger,FramesetsUtils,SettingsFile,JQueryElementFinder,ConditionFunctions,ConditionTreeEvaluator,BBCodeParser,ResourceManager,ServerStorageManager,EndUsersManager,DataSender,EventSender,AbPermutationManager,LibInitializer,WmAjax,SiteConfigManager,EndUserLoggerManager,UiDataProvider,AnalyticsManager,ClickAuditManager,RecorderServerManager,EventServerBaseUrl,ServerDataSenderManager,AuditStepsManager,GoalsManager,WalkMeGoalsManager,DebuggerManager,WmInternals,PlayManager,FeaturesManager,StickinessManager,TimerManager,CommonEvents,LanguageManager,AuditWtsManager,SalesForceManager,PopupNotificationsService,LoggerManager,TriggersManager,ShoutOutActionDataProvider,LauncherActionDataProvider,AuditTasksManager"),f.start=function(e){u(c[d],e)},f.get=function(e){return jl.get(e)},i.apply(null,arguments)}function x(){function e(e){n=t()||window.wmPreviewSnippet||window.wmSnippet}function t(){if(window.wmPlaySnippetData){var e=l(window.wmPlaySnippetData);return window.wmPlaySnippet={getSettingsFile:function(){return e}},window.wmPlaySnippet}return null}var n,r=this;r.getSettingsFile=function(){return n?n.getSettingsFile()||{}:{}},r.getCdnServerName=function(){return r.getSettingsFile().CdnServerName||window.mt_cdn_server_name},r.getStorageType=function(){return r.getSettingsFile().Storage},r.getAllUserGuids=function(){return r.getSettingsFile().UserGuids},r.getPublishDate=function(){return r.getSettingsFile().PublishDate},r.getUrl=function(){return window._walkmeInternals&&window._walkmeInternals.settingsUrl},e.apply(null,arguments)}function P(){function e(e){t=jl.get("DataValueEncoder"),n=jl.get("DataNameEncoder")}var t,n,r=this;this.setCookie=function(e,r,i,o){try{"string"!=typeof r&&(r=r.toString()),r=t.encode(r);var a="";o&&o.length>0&&(a="; domain="+o);var s="";if(0!=i){var u=new Date;u.setTime(u.getTime()+1e3*i),s="; expires="+u.toUTCString()}var l=r+s+"; path=/"+a;document.cookie=n.encode(e)+"="+l}catch(c){this.logger.error(c)}},this.getCookie=function(e){var r,i,o,a=n.encode(e),s=!1,u=document.cookie.split(";");for(r=0;r<u.length;r++){if(i=u[r].substr(0,u[r].indexOf("=")),o=u[r].substr(u[r].indexOf("=")+1),i=i.replace(/^\s+|\s+$/g,""),i==a)return t.decode(o);i==e&&(s=t.decode(o))}return s},this.getCurrentDomain=function(){var e=r.getCookie(Nd);if(e)return e;var t=window.location.hostname,n="^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]).){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$";if(new RegExp(n).test(t))return r.setCookie(Nd,t,hf,t),t;if(-1==t.indexOf("."))return null;for(var i=t.split("."),o="",a=i.length-1;a>=0;a--)if(""!=o&&(o="."+o),o=i[a]+o,r.setCookie(Nd,o,hf,o),r.getCookie(Nd)==o)return o;r.setCookie("wm-test","wm-test",hf);var s=r.getCookie("wm-test");if("wm-test"!=s)try{console.log("WalkMe requires the browser to accept cookies - please enable cookies in your browser.")}catch(u){}else this.logger.error(new Error("Cannot get domain from: "+t));return void 0},e.apply(null,arguments)}function D(e,t,n,r){function i(){W=wmjQuery.expr.filters.mt_hidden,o(),y()}function o(){V=[function(e){return{x:e.offset().left+e.outerWidth()/2,y:e.offset().top+1}},function(e){return{x:e.offset().left+e.outerWidth()/2,y:e.offset().top+e.outerHeight()-1}},function(e){return{x:e.offset().left+1,y:e.offset().top+e.outerHeight()/2}},function(e){return{x:e.offset().left+e.outerWidth()-1,y:e.offset().top+e.outerHeight()/2}},function(e){return{x:e.offset().left+1,y:e.offset().top+1}},function(e){return{x:e.offset().left+1,y:e.offset().top+e.outerHeight()-1}},function(e){return{x:e.offset().left+e.outerWidth()-1,y:e.offset().top+1}},function(e){return{x:e.offset().left+e.outerWidth()-1,y:e.offset().top+e.outerHeight()-1}}]}function a(e){return e.parentWindow||e.defaultView}function s(t){var n=0,r=0,i=mtjQuery(t),o=i.offset();if(n=o.top,r=o.left,Lg("iframepadding")&&i.is("iframe")&&(r+=parseFloat(i.css("padding-left")),n+=parseFloat(i.css("padding-top"))),t.ownerDocument){var a=u(e.getCommonUtils().getBody(t.ownerDocument)),s=u(t.ownerDocument.documentElement);n-=a.top==s.top?a.top:a.top+s.top,r-=a.left==s.left?a.left:a.left+s.left}var l={left:r,top:n};return l}function u(e){return e?{top:e.scrollTop||0,left:e.scrollLeft||0}:{top:0,left:0}}function l(e){var t=0,n=0;do"FRAME"==Al(e)?(t+=mtjQuery(e).offset().top,n+=mtjQuery(e).offset().left):(t+=e.offsetTop||0,n+=e.offsetLeft||0),e=e.offsetParent;while(e);var r={left:n,top:t};return r}function c(e,t){var n={};return e.left>t.right||t.left>e.right?null:e.bottom<t.top||t.bottom<e.top?null:(n.left=Math.max(e.left,t.left),n.right=Math.min(e.right,t.right),n.top=Math.max(e.top,t.top),n.bottom=Math.min(e.bottom,t.bottom),n.height=n.bottom-n.top,n.width=n.right-n.left,n)}function d(e,t){var n=t.left,r=t.top;e.left+=n,e.right+=n,e.top+=r,e.bottom+=r}function f(e,t){var n=th(t);e.left+=n.Left,e.right+=n.Left,e.top+=n.Top,e.bottom+=n.Top}function p(e){var t=ah(e);return t.height=t.height(),t.width=t.width(),t.top=t.top(),t.left=t.left(),t}function g(e,t,n){t.top=n.top,t.left=n.left;var r=e.outerWidth(),i=e.outerHeight();if(e.length>1){var o=Y.getMultipleElementsRect(e);r=o.right-o.left,i=o.bottom-o.top}t.height=i,t.width=r,t.bottom=t.top+t.height,t.right=t.left+t.width}function m(t,n,r,i){Y.removeScrollAndResizeEvents(i);var o=v(i);mtjQuery(t).bind(o,function(){n.stop(!1,!0),e.centerElementInPage(n,!0,r)})}function v(e){return e=e?e:"walkme",h("scroll.{0}, resize.{0}, scrollstop.{0}, orientationchange.{0}",e)}function y(){w("wm_hdn_st",function(e){var t=wmjQuery(e);return t.is(":mt_hidden")||!Q&&!C(t)}),w("wm_vsb_st",function(e){return!wmjQuery.expr.filters.wm_hdn_st(e)}),w("wm_interact_any_point",function(e){return k(e,q.ANY_POINT)}),w("wm_interact_all_points",function(e){return k(e,q.ALL_POINTS)})}function w(e,t){wmjQuery.expr.filters[e]=t}function b(e){if(S(e))return!0;var t=!1;return e.parents().each(function(){return S(wmjQuery(this))?(t=!0,!1):void 0}),t}function S(e){if(0==e.css("opacity"))return!0;var t=e[0].filters;return t&&t.alpha&&0===t.alpha.opacity}function T(e){var t=wmjQuery.expr.filters.mt_hidden;wmjQuery.expr.filters.mt_hidden=function(n){return t(n)||e(wmjQuery(n))}}function I(e){T(e);var t=wmjQuery.expr.filters.wm_vsb_st,n=wmjQuery.expr.filters.wm_interact_any_point,r=wmjQuery.expr.filters.wm_interact_all_points;wmjQuery.expr.filters.wm_vsb_st=function(n){return t(n)&&!e(wmjQuery(n))},wmjQuery.expr.filters.wm_interact_any_point=function(t){return n(t)&&!e(wmjQuery(t))},wmjQuery.expr.filters.wm_interact_all_points=function(t){return r(t)&&!e(wmjQuery(t))}}function C(e){for(var t=e.parents().add(e),n=t.length-1;n>0;n--)if(E(wmjQuery(t[n]),wmjQuery(t[n-1])))return!1;return!0}function E(e,t){if("absolute"==e.css("position"))return!1;if("hidden"!=t.css("overflow"))return!1;var n=fa(t,"border-top"),r=fa(t,"padding-top"),i=t.offset().top,o=n+r+i,a=t.height(),s=o+a,u=t.offset().left,l=u+t.width();if(o==s)return!0;var c=fa(e,"border-top"),d=fa(e,"padding-top"),f=e.offset().top,p=c+d+f,g=e.height(),h=p+g,m=e.offset().left,v=m+e.width(),y=o>h,w=p>s,b=u>v,S=m>l;return y||w||b||S}function k(e,t){var n=e.ownerDocument,r=wmjQuery(e),i=r.parents("html"),o=r.parents("body"),a=o.scrollTop()||i.scrollTop(),s=o.scrollLeft()||i.scrollLeft(),u={element:r,html:i,topScroll:a,leftScroll:s,workingDocument:n};return t==q.ALL_POINTS?_(u):x(u)}function _(e){for(var t=V.length-1;t>=0;t--)if(!P(V[t],e))return!1;return!0}function x(e){for(var t=V.length-1;t>=0;t--)if(P(V[t],e))return!0;return!1}function P(e,t){var n=t.element,r=e(n),i=r.x-t.leftScroll,o=r.y-t.topScroll,a=t.workingDocument.elementFromPoint(i,o);return a==n[0]||wmjQuery.contains(n[0],a)}function D(e,t){var n;return n=Y.findFirstSelfOrChildByType(e.children("tr"),t),n&&n.exist()?n:(n=Y.findFirstSelfOrChildByType(e.children("thead").children("tr"),t),n&&n.exist()?n:(n=Y.findFirstSelfOrChildByType(e.children("tbody").children("tr"),t),n&&n.exist()?n:(n=Y.findFirstSelfOrChildByType(e.children("tfoot").children("tr"),t),n&&n.exist()?n:void 0)))}function A(e){var t=!0;return e.parentsUntil("html").each(function(e,n){"relative"!=mtjQuery(n).css("position")&&(t=!1)}),t}function O(e,t){var n=parseInt(yl(t,"leftOffset",0)),r=parseInt(yl(t,"topOffset",0));return e.top=e.top+r,e.left=e.left+n,e.right=e.right+n,e.bottom=e.bottom+r,e}function N(e,t){return"BODY"==e.tagName&&"relative"==t.position&&"auto"==e.style.marginLeft&&"auto"==e.style.marginRight&&0==Y.tryParsingStyleValue(t.marginLeft)?!0:void 0}function M(e,t){return(new Date).getTime()-e<t}function L(){var e={top:0,left:0};if(!Lg("collapsedMargins"))return e;var t=wmjQuery("body"),n=0;if(B(t)){t.css("margin-top");t.find("> div").each(function(){var e=wmjQuery(this),t=e.offset().top,r=e.position().top;if(parseInt(e.css("margin-top"),10)>0){var i=t-r;i>n&&(n=i)}})}return e.top+=n,e}function B(e){return e.offset().top<=0&&"relative"==e.css("position")&&(!ef.isIE()||"visible"==e.css("overflow-x")&&"visible"==e.css("overflow-y"))&&(!ef.isIEBrowser(9)||F(e))}function F(e){try{var t=wmjQuery("<div />");t.important({position:"absolute",top:0,visibility:"hidden"}),e.append(t);var n=t.offset().top;return t.remove(),n>0}catch(r){return!1}}function j(e,t,n){"static"!=n.position&&(e.top+=Y.tryParsingStyleValue(n.top),e.left+=Y.tryParsingStyleValue(n.left))}function R(e,t,n,r){e.top+=Y.tryParsingStyleValue(n[r+"Top"]),e.left+=Y.tryParsingStyleValue(n[r+"Left"])}function U(e,t,n){/(html|body)/i.test(t.tagName)||(e.top+=G(n.borderTopWidth),e.left+=G(n.borderLeftWidth))}function G(e){var t=1,n=3,r=5,i=0;switch(e){case"thin":i=t;break;case"medium":i=n;break;case"thick":i=r;break;default:i=Math.round(parseFloat(e))}return i}var W,V,Q,H,z,Y=this,q={ALL_POINTS:0,ANY_POINT:1},K={0:"mt_visible",1:"wm_vsb_st",2:"wm_interact_any_point",3:"wm_interact_all_points"},X=5e3;Y.getVisibleFilter=function(e){return":"+K[(e.Settings||e).filter||0]},this.getPosRelativeToWindow=function(t,n,r){var i,o,u,c,d=0,f=0;for(n=n||top,r&&!window.opera&&t&&t.tagName&&"input"==t.tagName.toLowerCase()&&(d+=t.scrollLeft,f+=t.scrollTop);t;){if(o=t.ownerDocument,u=a(o),r&&u==n){var p=e.getCommonUtils().getBody(o);d+=o.documentElement.scrollLeft||p.scrollLeft,f+=o.documentElement.scrollTop||p.scrollTop}if(c=!u||u==n,i=r?s(t):l(t),d+=i.left,f+=i.top,c)break;t=u.frameElement}var g={left:d,top:f};return g},this.getRectRelativeToWindow=function(e,t,n){var r,i,o,s=!1,u={left:0,top:0};for(o=e.length>1?Y.getMultipleElementsRect(e):t.getBoundingClientRect(),n=n||top;!s;){r=t.ownerDocument,i=a(r);var l=r.documentElement.getBoundingClientRect();if(o=c(o,l),!o)return o;s=!i||i==n,s||(u=i.frameElement.getBoundingClientRect(),d(o,u),t=i.frameElement)}return f(o,r),o},this.getDrawingArea=function(e,t){var n=new Object;if($u(e))n=p(t?mtjQuery("body"):e);else{var r=mtjQuery(document);n.top=0,n.left=0,n.height=r.height(),n.width=r.width()}return n},this.isElementScrolledOut=function(e,t,n){var r=wl(t),i=e.offset().top,o=e.offset().left,a=e.outerHeight(),s=e.outerWidth(),u=parseInt(n);return u==lf.Bottom&&(i+=a),u==lf.Right&&(o+=s),r.scrollTop()>i||t.height()+r.scrollTop()<i?!0:r.scrollLeft()>o||t.width()+r.scrollLeft()<o?!0:!1},Y.getCenterPositionByBounds=function(e){
var t=e.left+e.width/2,n=e.top+e.height/2;return{left:t,top:n}},Y.getEmbedInElementPosition=function(e,t){var n={},r=parseInt(yl(t,"leftOffset",0)),i=parseInt(yl(t,"topOffset",0));return g(e,n,{top:i,left:r}),n},this.getElementBounds=function(e,t,n,i){var o={},a=e[0];if(t){var s;s=e.length>1?Y.getMultipleElementsRect(e):a.getBoundingClientRect();var u=r.getElementDocument(e),l=Y.getOffsetRect(a,u,n);o=Y.getElementBoundsWithRectAndOffset(s,l)}else{var c=Y.getPosRelativeToWindow(a,n,!0);g(e,o,c)}return o=O(o,i)},Y.getMultipleElementsRect=function(e){for(var t,n,r,i,o,a=0;a<e.length;a++)o=e[a].getBoundingClientRect(),(void 0===t||o.left<t)&&(t=o.left),(void 0===n||o.top<n)&&(n=o.top),(void 0===i||o.bottom>i)&&(i=o.bottom),(void 0===r||o.right>r)&&(r=o.right);return{top:n,left:t,right:r,bottom:i}},Y.isElementVisible=function(e,t){var n=!0;try{e[0].tagName}catch(r){n=!1}if(n){t=t||0;var i=":"+K[t];wmjQuery(e).filter(i).length!=wmjQuery(e).length&&(n=!1)}return n},Y.registerResizeAndScrollEvents=function(t){var n=t.element,r=t.offset,i=t.eventNameSuffix,o=e.shouldHandlePageAsFramesets()?e.getBiggestFrame().contentWindow:window;m(o,n,r,i)},Y.getWindowSize=function(){var t=wmjQuery(e.shouldHandlePageAsFramesets()?e.getBiggestFrame().contentWindow:window),n={height:t.height(),width:t.width()};return n},Y.removeScrollAndResizeEvents=function(t){var n=window;if(e.shouldHandlePageAsFramesets()){var r=e.getBiggestFrame();null!=r&&(n=r.contentWindow)}var i=v(t);mtjQuery(n).unbind(i)},Y.centerElementInParent=function(e,t){var n=t.outerHeight()/2-e.outerHeight()/2,r=t.outerWidth()/2-e.outerWidth()/2;e.css("top",n+"px"),e.css("left",r+"px")},Y.extendVisibilityFilters=function(){Q=!1,wmjQuery.expr.filters.mt_hidden=W;wmjQuery.expr.filters.mt_hidden;if(Lg("strongMtVisible")&&(Q=!0,T(function(e){return!C(e)})),Lg("nonVisibleIframe")){var e=function(e){var t=e.data("iframe");return!(!t||!t.is(":mt_hidden"))};T(e),I(e)}if(Lg("visibleOpacity")&&(T(b),I(b)),window._walkmeInternals&&window._walkmeInternals.customMtHiddenFuncs)for(var t=window._walkmeInternals.customMtHiddenFuncs,n=t.length-1;n>=0;n--)T(t[n])},Y.findNearestSelfOrParentByType=function(e,t){var n=e[0];if(n){for(var r=[],i=0;i<t.length;i++)r.push(t[i].toLowerCase());for(var o=(e.context,n.tagName.toLowerCase());"body"!=o&&"frameset"!=o&&"head"!=o;){if(wmjQuery.inArray(o,r)>-1)return wmjQuery(n);n=n.parentNode,o=n.tagName.toLowerCase()}}},Y.findFirstSelfOrChildByType=function(e,t){if(e.exist()){var n=t.join(", ");if(e.is(n))return e.first();var r=e.children(n).first();return r.exist()?r:e.is("table")?D(e,t):void 0}},Y.getColumn=function(e){var t=[],n=Y.findNearestSelfOrParentByType(e,["table"]);if(n){var r,i=["td","th"];if(r=e.is(i)?e:e.is("table")||e.is("tr")?Y.findFirstSelfOrChildByType(e,i):Y.findNearestSelfOrParentByType(e,i)){var o,a,s=null,u=r.index(),l=wmjQuery([]);wmjQuery.merge(l,n.children("tr")),wmjQuery.merge(l,n.children("thead, tbody, tfoot").children("tr"));for(var c=0;c<l.length;c++)o=l[c].cells[u],o&&(null==s&&(s=o.colSpan),o.colSpan<s&&(t.length=0,s=o.colSpan),o.colSpan==s&&(a=wmjQuery(o),a.height()&&a.width()&&t.push(o)));return wmjQuery(t,n)}}},this.getBodyInheritedMargin=function(){var t={top:0,left:0};if(!e.isFeatureActive("calcInheritedMargin"))return t;var n=!1,r=mtjQuery("body").find("div").filter(function(){if(n)return!1;var e=mtjQuery(this);if("relative"!=e.css("position"))return!1;var t=null,r=null,i=parseInt(e.css("margin-top")),o=0!=i&&parseInt((r=e.position()).top)==-1*parseInt((t=e.offset()).top),a=!1;if(!o){var s=parseInt(e.css("margin-left"));a=0!=s&&parseInt(null!=r?r.left:e.position().left)==-1*parseInt(null!=t?t.left:e.offset().left)}return n=(o||a)&&A(e)}).eq(0);return r.length>0&&(t={top:parseInt(r.css("margin-top")),left:parseInt(r.css("margin-left"))}),t},Y.fixFirefoxAutoMarginBug=function(e,n,r,i){if(N(n,r)){e.top+=Y.tryParsingStyleValue(r.marginTop);var o=t.getStyle(n.parentElement,i);e.left+=(Y.tryParsingStyleValue(o.width)-Y.tryParsingStyleValue(r.width))/2}},Y.tryParsingStyleValue=function(e){return"string"==typeof e&&(e=e.replace("px","")),isNaN(e)?0:parseInt(e)},Y.getCollapsedMargin=function(){return H&&M(z,X)?H:(H=L(),z=(new Date).getTime(),H)},Y.getOffsetRect=function(e,t,i){try{var o=r.getBody(t),a=t.documentElement,s=o.scrollTop||a.scrollTop,u=o.scrollLeft||a.scrollLeft,l=Y.calculateOffset(o,i);return s-=l.top,u-=l.left,{top:Math.round(s),left:Math.round(u)}}catch(c){n.error(c)}},Y.calculateOffset=function(e,n){for(var r=e,i=t.getStyle(e,n);i&&"static"==i.position;)r=r.parentNode,i=t.getStyle(r,n);var o=Y.getBodyInheritedMargin();o.top=Y.tryParsingStyleValue(o.top),o.left=Y.tryParsingStyleValue(o.left);var a={top:o.top,left:o.left},s=Y.getCollapsedMargin();if(a.top+=s.top,a.left+=s.left,i)for(R(a,r,i,"margin"),U(a,r,i),j(a,r,i),Y.fixFirefoxAutoMarginBug(a,r,i,n),r=r.parentNode,i=t.getStyle(r,n);i;)R(a,r,i,"margin"),R(a,r,i,"padding"),U(a,r,i),j(a,r,i),r=r.parentNode,i=t.getStyle(r,n);return a},Y.getElementBoundsWithRectAndOffset=function(e,t){var n=e.left+t.left,r=e.top+t.top,i=e.right-e.left,o=e.bottom-e.top,a=e.right+t.left,s=e.bottom+t.top;return{top:r,left:n,width:i,height:o,right:a,bottom:s}},i.apply(null,arguments)}function A(e,t,n){function r(t){var n=e.getStorageType();return n?n[t]:void 0}var i=this,o="hi",a="sc",s="wm-cdhi-o",u=23;i.getOrigin=function(){if(t.isLocalStorageEnabled()){var e=n.localStorage.getItem(s);if(e)return e}var i=r(o);return i?i:t.getOrigin()},i.getHiddenIframePath=function(e){var t=e?".compress":"";return i.getOrigin()+h("/player/resources/CD/CDhiddenIframe{1}_v{0}.html",u,t)},i.getSaveCookiePath=function(){var e=r(a);return e||i.getOrigin()+"/player/resources/CD/saveCookie.html"}}function O(){function e(e,n,s,u){function l(){r(),t(u)}i=s,o=n,a=e.createIframe("about:blank","walkme-proxy-iframe",!1,l)}function t(e){n();var t='<!DOCTYPE html><html><head><script>window.send = function(msg, audience) { window.targetWindow.postMessage(msg, audience); };if (window.addEventListener) { window.addEventListener("message", function(event){ messageHandler(event); }, false); }else if (window.attachEvent) { window.attachEvent("onmessage", function(event){ messageHandler(event); }); }</script></head></html>';s.document.open("text/html","replace"),s.document.write(t),s.document.close(),r(),e&&e()}function n(){a.addEventListener?a.addEventListener("load",r,!1):a.attachEvent&&a.attachEvent("onload",r,!1)}function r(){s=a.contentWindow||a.window,s.targetWindow=o,s.messageHandler=i}var i,o,a,s,u=this;u.postMessage=function(e,t){t=t||"*",a.contentWindow.send(e,t)},e.apply(null,arguments)}function N(e,t,n){function r(){i=new Gn}var i,o=this,a="#!@DeL@!#";o.saveData=function(t,n,r,a){void 0==o.currentDomain&&(o.currentDomain=e.getCurrentDomain()),e.setCookie(t,n,r,o.currentDomain),i.saveData(t,n,r,a)},o.getData=function(t,n){var r=i.getData(t,n);return void 0===r&&(r=e.getCookie(t),r===a||r===!1)?void 0:r},o.removeData=function(e,t){i.removeData(e,t);var n=o.getData(e);void 0!==n&&o.saveData(e,a,-1)},o.removeAllData=function(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++)if(0===wmjQuery.trim(e[t]).toLowerCase().indexOf("wm-")){var n=wmjQuery.trim(e[t].split("=")[0]);document.cookie=n+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/"}},o.getInternalKeys=function(e,t){for(var n=document.cookie.split(";"),r={},i=0;i<n.length;i++)if(0===wmjQuery.trim(n[i]).toLowerCase().indexOf(t)){var o=wmjQuery.trim(n[i].split("=")[0]);o!==Nd&&(r[o]=this.getData(o))}return r},o.refreshGetData=function(e,t){for(var n=0;n<e.length;n++)i.clear(e[n]);t&&t()},r.apply(null,arguments)}function M(e,t){function n(){}function r(e){return i()+e}function i(){return(new Date).getTime()}var o=this,a=5,s=300;o.init=function(n){return window.walkmeExt?void n():0==a?void t.customerLog("Extension storage is not available, walkme can not load",3):(a--,void e.libSetTimeout(function(){o.init(n)},s))},o.saveData=function(e,t,n,i){var o={val:t,exp:r(1e3*n)};walkmeExt.SaveData(e,u(o),i)},o.getData=function(e,t){var n=walkmeExt.GetData(e,t);if(n){var r=l(n);return r.val}},o.removeData=function(e,t){walkmeExt.removeData(e,t)},o.removeAllData=function(e){walkmeExt.RemoveAllData(e)},o.getAll=function(e){return walkmeExt.GetAll(e)},n.apply(null,arguments)}function L(){function e(){n=jl.get("CookiesStorageManager")}function t(e){var t={},n=i.length;return wmjQuery.safeEach(e,function(e,o){e.indexOf(i)>-1&&(e=e.substr(n),t[e]=r.getData(e))}),t}var n,r=this,i="wm-SELS-";this.saveData=function(e,t,r,o){n.saveData(i+e,t,r,o)},this.getData=function(e,t){return n.getData(i+e,t)},this.removeData=function(e,t){n.removeData(i+e,t)},this.getInternalKeys=function(e,r){var i=n.getInternalKeys(e,r),o=t(i);return o},e.apply(null,arguments)}function B(){function e(e){try{o=e.isLocalStorageEnabled(),t()}catch(n){}}function t(){if(s.isEnabled()){i=window.localStorage;var e=l(i.getItem("wm-storage"));if(e){var t=e.__jstorage_meta||{},n=t.TTL||{};for(var o in e)if(e.hasOwnProperty(o)){var a=e[o],u=n[o],c=r();u>c&&s.saveData(o,a,(u-c)/1e3)}i.removeItem("wm-storage")}}}function n(e){return r()+e}function r(){return(new Date).getTime()}var i,o,a=new L,s=this,c="walkMe_";this.init=function(e){return s.isEnabled()?void e():!1},this.saveData=function(e,t,r){if(r=is(r,0),s.removeData(e),0==r)a.saveData(e,t,r);else{var o={val:t,exp:n(1e3*r)};i.setItem(c+e,u(o))}},this.getData=function(e){var t=a.getData(e);if(void 0===t){var n=i.getItem(c+e);if(n){var o=l(n);if(!(o.exp<r()))return o.val;s.removeData(e)}}return t},this.removeData=function(e){a.removeData(e),i.removeItem(c+e)},this.removeAllData=function(){Object.keys(localStorage).forEach(function(e){0===e.indexOf(c)&&localStorage.removeItem(e)})},this.getInternalKeys=function(e,t){function n(e,n,r){e=e.substr(r),e.toLowerCase().indexOf(t)>-1&&(n[e]=s.getData(e))}for(var r=a.getInternalKeys(e,t),o=r,u=c.length,l=0;l<i.length;l++){var d=i.key(l);n(d,o,u)}return o},this.isEnabled=function(){return o},e.apply(null,arguments)}function F(e,t,n,r,i,o,a){function s(){m=e.getAllUserGuids,v=n.isFeatureEnabled,y=e.setAuditStepCookieSeconds}function u(){var e=t.getStorageType();return e&&1==e[k]}function l(e){if(!e)return e;if("string"==typeof e)return e;var t=e[E];return t[i.browser.string]||t[i.browser.name]||t["*"]}function c(e){return void 0===e[_]?I:!!e[_]}function d(e,n,r,i,o,a){var s,u=m(),l=u[0],d=t.getStorageType();return s=n||r?f(u,n,l,o,c(d),a):e?h(l):i?g(l):p(l)}function f(e,t,n,i,s,u){if(!w){y(86400);var l=new Un(o,e,t,i,s,u);w=new Wn(a.STORAGE_TYPE.HiddenIframe,l,n,r,o)}return w}function p(e){if(!S){var t=jl.get("CookiesStorageManager");S=new Wn(a.STORAGE_TYPE.Cookie,t,e,r,o)}return S}function g(e){if(!T){var t=jl.get("ExtensionStorageManager");T=new Wn(a.STORAGE_TYPE.Extension,t,e,r,o)}return T}function h(e){if(!b){var t=jl.get("WalkMejStorageManager");b=new Wn(a.STORAGE_TYPE.JStorage,t,e,r,o)}return b}var m,v,y,w,b,S,T,I=!0,C=this,E="st",k="ss",_="cm";C.bySettingsFile=function(e){var n=ln.getWindowCookie("wm-stt"),r=n?C.byType(n):C.byType(t.getStorageType());return e&&u()&&jl.get("EndUsersManager").isRealEndUserType()&&(r=jl.get("ServerStorageManager")),r},C.byType=function(e){var t,n,r=l(e),i=!1,o=!1,s=!1,u=!1;switch(r){case a.STORAGE_TYPE.JStorage:i=!0;break;case a.STORAGE_TYPE.CrossDomainCookies:n=dc.Cookies,o=!0;break;case a.STORAGE_TYPE.CrossDomainLocalStorage:n=dc.LocalStorage;case a.STORAGE_TYPE.CrossDomain:o=!0;break;case a.STORAGE_TYPE.HiddenIframe:s=!0;break;case a.STORAGE_TYPE.Extension:u=!0;break;case a.STORAGE_TYPE.ProxyIframe:o=!0,t=!0;break;case a.STORAGE_TYPE.Cookie:}return d(i,o,s,u,n,t)},C.byFeature=function(){var e=v("jstorage"),t=v("crossdomain"),n=v("hiddeniframestorage"),r=v("cd_localStorage")?dc.LocalStorage:null;return d(e,t,n,r)},s.apply(null,arguments)}function j(){function e(e,t,n,r){o=e,i=t,a=n,s=jl.get("MalformedStorageDataPetaSender"),u=jl.get("DataMinifier"),l=r}function t(e,t){for(var n=[],r=Math.ceil(e.length/t),i=0;r>i;i++){var o=t>e.length?e.length:t,a=e.slice(0,o);e=e.substring(o),n.push(a)}return n}function n(e){a(e,"Storage data is malformed, discarding it."),p.removeData();try{s.audit(!!e)}catch(t){}}function r(){return o.getFromStorage(f)}var i,o,a,s,u,l,c=2600,d="wm-dt",f="wm-ne",p=this;p.saveData=function(e){var n=u.minifyData(e);if(p.removeData(),void 0!==n){for(var r=t(n,c),a=0;a<r.length;a++){var s=r[a];o.saveToStorage(d+a,s,i)}o.saveToStorage(f,r.length,i)}},p.getData=function(){var e,t=r();if(void 0!=t){e="";for(var i=0;t>i;i++){var a=o.getFromStorage(d+i);e+=a}}var s,l;if(e)try{s=u.deminifyData(e),s=s?s:void 0}catch(c){l=c}return(l||t>0&&!s)&&n(l),s},p.removeData=function(){var e=r();if(o.saveToStorage(f,0,i),void 0!=e)for(var t=0;e>t;t++)o.saveToStorage(d+t,null,i)},e.apply(null,arguments)}function R(){var e=5,t=[],n=[];this.set=function(r,i){t.push(r),n.push(i),t.length>e&&(t.shift(),n.shift())},this.getValue=function(e){for(var r=0;r<t.length;r++)if(t[r]==e)return n[r]},this.getKey=function(e){for(var r=0;r<n.length;r++)if(n[r]==e)return t[r]}}function U(e){function t(){a=e.getOrigin()+h("/player/resources/AP/ajaxProxyIframe_v{0}.html",m),s=e.createIframe(a,g,!1,n,r)}function n(){d.resolve()}function r(e){if(!(a.toLowerCase().indexOf(e.origin)<0)){var t=l(e.data);t.wmAP&&f[t.requestIndex]&&(t.data=l(t.data),f[t.requestIndex].requestDefer.resolve(t))}}function i(e,t){f[e]={requestDefer:wmjQuery.Deferred(),result:""},f[e].requestDefer.promise().then(function(n){delete f[e],t(n)})}function o(t,n){var r={origin:e.getWinOrigin(),requestIndex:n,message:t,wmAP:!0};d.promise().then(function(){s.contentWindow.postMessage(u(r),a)})}var a,s,c=this,d=wmjQuery.Deferred(),f={},p=1,g="walkme-ap-iframe",m=1;c.postMessage=function(e,t){i(p,t),o(e,p),p++},c.abort=function(e){delete f[e]},t.apply(null,[])}function G(){function e(e){return encodeURIComponent(e)==e?!1:!0}var t=String.fromCharCode(8482),n=jl.create("StringCache");this.encode=function(r){if(!e(r))return r;var i=t+this.compressor.compressToEncodedURIComponent(r);return n.set(i,r),i},this.decode=function(e){var r=e[0]==t;if(!r)return e;var i=n.getValue(e);if(void 0!==i)return i;var o=this.compressor.decompressFromEncodedURIComponent(e.substring(1));return n.set(e,o),o}}function W(){this.encode=function(e){return encodeURIComponent(e)},this.decode=function(e){return decodeURIComponent(e)}}function V(){function e(e){for(var t in n)if(n.hasOwnProperty(t)&&e>=n[t].from&&e<=n[t].to)return!0;return!1}var t={},n=[{from:33,to:33},{from:35,to:36},{from:38,to:43},{from:45,to:58},{from:60,to:91},{from:93,to:126}];this.encode=function(n){for(var r,i="",o=0,a=0;a<n.length;a++){var s=n.charCodeAt(a);if(!e(s)){r=n.charAt(a);var u=n.substring(o,a);t[r]||(t[r]=encodeURIComponent(r)),i+=u+t[r],o=a+1}}return i+=n.substring(o)},this.decode=function(e){try{return decodeURIComponent(e)}catch(t){return e}}}function Q(){this.encode=function(e){return e.replace(/,/g,"%2C").replace(/"/g,"%00").replace(/'/g,"%01").replace(/;/g,"%3B")},this.decode=function(e){return e.replace(/%2C/g,",").replace(/%00/g,'"').replace(/%01/g,"'").replace(/%3B/g,";")}}function H(e){function t(){var t=e.getStorageType();return t&&void 0!==t[n]?i[t[n]]:i[r]}var n="et",r=0,i={0:V,1:W,2:G,3:Q},o="compressor=Compressor,logger=Logger";this.registerEncoders=function(){jl.has("DataValueEncoder")||jl.register("DataValueEncoder").asCtor(t()).dependencies(o).injectToProperty(),jl.has("DataNameEncoder")||jl.register("DataNameEncoder").asCtor(W).dependencies(o).injectToProperty()}}function z(e,t,n,r,i,o,a){function s(){}var u=this;u.audit=function(s){if(il()||!Hf)return!0;var u=Hf+"/Analytics/StorageMalformed",l={permutationId:r.getCurrentPermutation(),endUserGuid:t.getEndUserGuid(),datetime:i.getDateAtUTC(),source:o.get(),browser:a.browser.string,os:a.os.name,domain:window.location.host,userGuid:e.getUserGuid(),fromException:s};n.execute({url:u,data:l})},s.apply(null,arguments)}function Y(e,t,n,r,i,o,a){function s(){}var u=this;u.audit=function(s){if(il()||!Hf)return!0;var u=Hf+"/Analytics/GoalCompleted",l={permutationId:r.getCurrentPermutation(),endUserGuid:t.getEndUserGuid(),datetime:i.getDateAtUTC(),source:o.get(),browser:a.browser.string,os:a.os.name,domain:window.location.host,userGuid:e.getUserGuid(),playGuid:s.identifier,goalType:s.GoalType,url:sl(),goalId:s.Id};n.execute({url:u,data:l})},s.apply(null,arguments)}function q(e){function t(e){var t={Type:e},n=bu();return n&&(t.WalkthruId=n.TutorialId,t.StepIndex=Kp),t}function n(){return window._walkmeInternals?window._walkmeInternals:{}}var r=this;r.sendApiEvent=function(n,i){r.sendEditorEvent(n,i);try{var o=t(n);i&&(o.ExtraData=i),window.walkme_event&&walkme_event(o)}catch(a){e.error(a)}},r.sendInternalEvent=function(t,r,i){try{if(!window.wmjQuery)return;var o=n();wmjQuery(o).trigger(t,[r,i]),wmjQuery(o).trigger("AllEvents",[t,r,i])}catch(a){e.error(a)}},r.sendAutomationEvent=function(n,r){try{var i=t(n);if(r){if(!window.wmjQuery)return;wmjQuery.extend(i,r)}window.walkme_automation_event&&walkme_automation_event(i)}catch(o){e.error(o)}},r.oldSendApiEvent=function(n,r){try{var i=t(n);r&&(i.ExtraData=r),window.mt_event&&mt_event(i)}catch(o){e.error(o)}},r.sendEditorEvent=function(n,r){try{var i=t(n);r&&(i.ExtraData=r),window.walkme_editor_event&&walkme_editor_event(i)}catch(o){e.error(o)}}}function K(e){function t(e,t){var n=void 0!==f[d+e];n||t(e)}function n(e,t){return function(){_walkmeInternals.walkmeWrap?(t?t.unshift(e):t=[e],_walkmeInternals.walkmeWrap.apply(this,t)):e.apply(this,t||[])}}function r(e){p(e)}function i(e){g(e)}function o(e,t,n,i,o){i=i||window;var a=this;a.timeoutsDict=n;var s=function(){a.clear(),e.apply(i,o||arguments)},u=function(){_walkmeInternals.walkmeWrap?_walkmeInternals.walkmeWrap(s):s()};this.id=setTimeout(u,t),a.timeoutsDict[this.id]=a,f[d+this.id]=this.id,this.pause=function(){this.cleared||(delete a.timeoutsDict[this.id],r.call(window,this.id))},this.resume=function(){this.cleared||(this.id=setTimeout(u,10),a.timeoutsDict[this.id]=a)}}function a(e,t,n,r,i){this.timeoutsDict=n,r=r||window;var o=function(){e.apply(r,i||arguments)},a=function(){_walkmeInternals.walkmeWrap?_walkmeInternals.walkmeWrap(o):o()};this.id=setInterval(a,t),n[this.id]=this,f[d+this.id]=this.id}function s(e,t){for(var n in e)if(e.hasOwnProperty(n))try{t(e[n])}catch(r){}}var u=this,l={libTimeouts:{},playTimeouts:{}},c=[],d="wm-",f={};e.sendInternalEvent("timerManagerCreationStart",{object:u});var p=window.clearTimeout,g=window.clearInterval;window._walkmeInternals=window._walkmeInternals||{},u.playSetTimeout=function(e,t){return new o(e,t,l.playTimeouts)},u.libSetTimeout=function(e,t){return new o(e,t,l.libTimeouts)},u.playSetInterval=function(e,t){return new a(e,t,l.playTimeouts)},u.resumeTimeoutsArray=function(e){var t=l[e];if(t){for(var n=0;n<c.length;n++)c[n].resume();c.length=0}},u.releaseAllTimeouts=function(){u.releaseTimeoutsArray("libTimeouts"),u.pauseTimeoutsArray("playTimeouts")},u.pauseAllTimeouts=function(){for(var e in l)u.pauseTimeoutsArray(e)},u.resumeAllTimeouts=function(){for(var e in l)u.resumeTimeoutsArray(e)},u.releaseTimeoutsArray=function(e){var t=l[e];t&&s(t,function(e){e.clear()})},u.pauseTimeoutsArray=function(e){var t=l[e];t&&s(t,function(e){c.push(e),e.pause()})},u.stopTimeoutsArray=function(e){var t=jl.get("CrossDomainManager");t&&t.enabled()?u.pauseTimeoutsArray(e):u.releaseTimeoutsArray(e)},u.clearGlobalTimeouts=function(){for(var e in f)e&&e.indexOf&&0===e.indexOf(d)&&r(f[e])},u.overrideTimeouts=function(){var e=jl.get("FeaturesManager");e.isFeatureEnabled("overridetimeouts")&&(window.clearTimeout=function(e){t(e,r)},window.clearInterval=function(e){t(e,i)})},u.setWalkmeTimeout=function(e,t,r){var i=n(e,r);return setTimeout(i,t)},u.setWalkmeInterval=function(e,t,r){var i=n(e,r);return setInterval(i,t)},o.prototype.id=null,o.prototype.cleared=!1,o.prototype.clear=function(){this.cleared||(r.call(window,this.id),this.cleared=!0,delete this.timeoutsDict[this.id],delete f[d+this.id])},a.prototype.id=null,a.prototype.cleared=!1,a.prototype.clear=function(){r(this.id),this.cleared=!0,delete f[d+this.id],delete this.timeoutsDict[this.id]}}function X(){function e(e,n,r){t=jl.get("CJson")}var t,n=this;n.minifyData=function(e){return e&&0!=e.length?t.stringify(e):void 0},n.deminifyData=function(e){return e?t.parse(e):void 0},e.apply(null,arguments)}function J(){function e(e,n,r){t=n}var t,n=this;n.minifyData=function(e){return e&&0!=e.length?t.toJSON(e):void 0},n.deminifyData=function(e){return e?t.secureEvalJSON(e):void 0},e.apply(null,arguments)}function $(e,t,n){function r(){i=jl.create("StringCache")}var i,o=this;o.minifyData=function(n,r){if(n&&0!=n.length){var o=t.toJSON(n),a=e.compressToEncodedURIComponent(o);return i.set(o,a),a}},o.deminifyData=function(r){if(r)try{var o=i.getKey(r);return void 0===o&&(o=e.decompressFromEncodedURIComponent(r),i.set(o,r)),t.secureEvalJSON(o)}catch(a){n.error(a,"error deminifying data: "+r)}},r.apply(null,arguments)}function Z(){function e(e){i=e.serverDataSenderManager,s=e.actionUrl,a=e.beforeSendingManipulationFunc,u=e.technicalSuccessHandler,l=e.sendingThreshold,c=e.dataType,d=e.dateSenderLogFeature,p=e.requestParamsFunc,m=e.logError,f=e.logger.wrapCustomerLog(d),v=e.dataIdFieldName||"iN",b=e.successCallback,S=e.failCallback,I=e.shouldTruncateData,T=e.storageEnabled!==!1?!0:!1,T&&(w=e.defaultDataStorageLifeSeconds,y=new Vn(e.stateManager,e.twoLettersDataType),o=new j(y,w,m,e.recursiveMinification),E=C.data())}function t(){var e=0;return T&&(e=y.getFromStorage(k,0),y.saveToStorage(k,e+1,w)),e}function n(){o.saveData(E)}function r(){E=o.getData()}var i,o,a,s,u,l,c,d,f,p,g,m,v,y,w,b,S,T,I,C=this,E=[],k="wm-nx",_=10;C.isStorageEnabled=function(){return T},C.sendData=function(e){function r(){if(g)return void f("Not accepting anymore data",3);if(E=C.data(),i.isServerSick())if(I===!1&&E.length<_)o();else{var e=h("TypedDataSender - Server is sick, ignoring new data of type {0} for now",c);f(e,3)}else o(),i.sendData()}function o(){T||(E.length=0),a&&a(E,e),e[v]=t(),E.push(e),T&&n()}if("object"!=typeof e){var s=h("TypedDataSender - got object with value {0} of type {1} instead of object ({2}).",e,typeof e,c);return void f(s,1)}T?y.refreshGetData(null,r):r()},C.persistData=function(){T&&(n(),E&&0!=E.length||y.removeFromStorage(k))},C.data=function(){return T&&r(),E=E?E:[]},C.actionUrl=function(){return s},C.sendingThreshold=function(){return l},C.dataType=function(){return c},C.truncateData=function(){T&&(E=C.data(),E.splice(1,E.length-1),C.persistData())},C.clearAndStopSavingData=function(){g=!0,E.length=0,T&&o.removeData()},C.technicalSuccessHandler=function(){return u},C.successCallback=function(){return b},C.failCallback=function(){return S},C.requestParamsFunc=function(){return p},C.getDataIdFieldName=function(){return v},C.shouldTruncateData=function(){return I},e.apply(null,arguments)}function ee(e,t,n,r,i,o,a,s){function l(){R=r.defaultDataStorageLifeSeconds,U=r.dateSenderLogFeature,W=r.maxSickAttemps||X,Q=r.sendDataAjaxTimeout||$,V=r.checkDataToSendInterval||J,z=r.attemptsWaitTime||ee,G=t.wrapCustomerLog(U)}function c(){var e=d();return e?e:(G("serverDataSenderManager - no data to send. marking it healthy",3),void C())}function d(){for(var e=f(),t=e.length-1;t>=0;t--){var n=e[t],r=n.data();if(r.length>0)return{dataSender:n,data:r}}}function f(){return b(re)}function p(){var e=d(),t=e&&e.data;t||C()}function m(){i.removeData(Y),i.removeData(q),i.removeData(K)}function v(){return B?(G("There's already a pending request to server",3),!0):!1}function y(){var e=c();if(e&&!v()){var t=e.dataSender,n=e.data;G(h("Got {0} {1}s to send, starting now",n.length,t.dataType()),3),E(n,t)}}function w(){if(F)return void G("Already waiting for server's health",5);null!=j&&(j.clear(),j=null),F=!0;var e=i.getData(q);if(e=e?++e:1,e>W){var t=h("Server wasn't healthy for more than {0} attempts, restarting sick mode",e);G(t,0),i.removeData(K),i.removeData(q),F=!1,w()}else{var n=S(e),r=h("Sick attempts: {0}, time before next retry: {1} second(s)",e,n/1e3);G(r,3),H=s.libSetTimeout(function(){i.refreshGetData(null,function(){i.removeData(K),i.saveData(q,e,R),F=!1,y()})},n)}}function S(e){var t=i.getData(K);if(!t){var n=T(e);t=(new Date).getTime()+n,i.saveData(K,t,R)}var r=t-(new Date).getTime();return r}function T(e){return z[e]}function I(){i.getData(Y);C(),B=!1,y()}function C(){i.removeData(Y),i.removeData(q),i.removeData(K),F=!1}function E(e,t){if(0==n.get().length)return void G(h("RecorderServerName is {0}, can't send data of type {1}",n.get(),t.dataType()),2);if(0==e.length)return void G("dataArray's length is 0, no data to send",3);null!=j&&(j.clear(),j=null),B=!0;var r=t.sendingThreshold(),i=g(e);i.length>r&&(i=i.splice(0,r));var s=t.requestParamsFunc()(i),u=o.execute({url:n.get()+t.actionUrl(),dataType:"jsonp",data:s,timeout:Q});a.isFeatureEnabled("bypassAuditServer")?_(i,u,t):x(i,u,t);var l=h("Sent {0} data of type {1} to server at {2}",i.length,t.dataType(),(new Date).toString());G(l,3)}function k(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r],o=i[t];o&&o>n&&(n=o)}return n}function _(e,t,n){t.error(function(t,r,i){if(200==t.status&&"parsererror"==r)D(e,n);else{var o=h("Server technical (AJAX) error (2) jqXHR:{0}, textStatus:{1}, errorThrown:{2}",u(t),r,i);G(o,3),M(i,n)}}),t.success(function(e){var t="Got success while in bypass player server mode";G(t,3),_makeTutorial.Logger.error(null,t)})}function x(e,t,n){t.success(function(t){G("Sending data ajax success",3),P(t,e,n)}),t.error(function(t,r,i){200==t.status&&"parsererror"==r?N(e,n,i):M(i,n)})}function P(e,t,n){if(n.technicalSuccessHandler&&n.technicalSuccessHandler())n.technicalSuccessHandler()(e,function(){var r=e.Data||e;N(t,n,r)},function(){M(e.Data||e,n)},function(){var r=e.Data||e;D(t,n,r)},t);else switch(e.WMResultCode){case te.Success:D(t,n,e.Data);break;case te.LogicalError:G(n.dataType()+" : Logical error sending data. "+e.Data,3),N(t,n,e.Data);break;case te.TechnicalError:G(n.dataType()+" : Technical error sending data",3),M(e.Data||e,n);break;default:G(n.dataType()+" : No error code received - treated as technical error",3),M(e.Data||e,n)}}function D(e,t,n){if(G("The technical success was also logical success",3),A(e,t),I(),t.successCallback){var r=t.successCallback();r&&r(n)}}function A(e,t){O(e,t)}function O(e,t){for(var n=t.getDataIdFieldName(),r=k(e,n),i=t.data(),o=i.length-1;o>=0;o--){var a=i[o];a[n]<=r&&i.splice(o,1)}t.persistData()}function N(e,t,n){if(G(h("Logical error happened, discarding {0} {1}",e.length,t.dataType()),3),O(e,t),I(),B=!1,y(),t&&t.failCallback){var r=t.failCallback();r&&r(n)}}function M(e,t){if(i.saveData(Y,1,R),G("Truncating data due to sick server",3),L(),B=!1,t&&t.failCallback){var n=t.failCallback();n&&n(e)}w()}function L(){for(var e=f(),t=e.length-1;t>=0;t--){var n=e[t];n.shouldTruncateData()&&n.truncateData()}}var B,F,j,R,U,G,W,V,Q,H,z,Y="wm-sk",q="wm-sat",K="wm-sst",X=2,J=3*Tg,$=60*Tg,ee={1:Ig,2:4*Ig},te={Success:0,LogicalError:1,TechnicalError:2},ne=this,re={};ne.register=function(n,r){if(re[n])return re[n];var o=new Z({beforeSendingManipulationFunc:r.beforeSendingManipulationFunc,actionUrl:r.actionUrl,technicalSuccessHandler:r.technicalSuccessHandler,successCallback:r.successCallback,failCallback:r.failCallback,dataType:r.dataType,twoLettersDataType:n,serverDataSenderManager:ne,sendingThreshold:r.sendingThreshold,stateManager:i,storageEnabled:r.storageEnabled!==!1?!0:!1,dateSenderLogFeature:U,requestParamsFunc:r.requestParamsFunc,dataIdFieldName:r.dataIdFieldName,defaultDataStorageLifeSeconds:void 0!=r.dataStorageLifetimeSeconds?r.dataStorageLifetimeSeconds:R,logError:e.Logger.error,logger:t,recursiveMinification:r.recursiveMinification,shouldTruncateData:r.shouldTruncateData===!1?!1:!0});return re[n]=o,o},ne.start=function(e){ne.sendData()},ne.stop=function(e){m(),ne.removeAllData(),null!=j&&(j.clear(),j=null),null!=H&&(H.clear(),j=null)},ne.sendData=function(){var e=c();if(e&&!v()){var t=e.dataSender,n=e.data;if(ne.isServerSick())return G("Waiting for server's health in sendData",3),void w();if(n.length>=t.sendingThreshold())G(h("sendData - Got {0} {1}s to send, starting now",n.length,t.dataType()),3),null!=j&&(j.clear(),j=null),E(n,t);else if(null==j||j.cleared){var r=h("Got {0} {1}s to send, waiting {2}",n.length,t.dataType(),V);G(r,3),j=s.libSetTimeout(function(){j=null,i.refreshGetData(null,function(){var e=c();if(e&&!v()){var t=e.dataSender,n=e.data;E(n,t)}})},V)}else G("sendData - timeout already exists",5)}},ne.isServerSick=function(){return p(),i.getData(Y)||!1},ne.removeAllData=function(){for(var e=f(),t=e.length-1;t>=0;t--)e[t].clearAndStopSavingData()},l.apply(null,arguments)}function te(e,t,n){function r(){}function i(){return n.isSFLightnning||t.isFeatureEnabled("ajaxProxy")}function o(e){l||(l=jl.get("AjaxProxyIframeManager"));var t=wmjQuery.Deferred(),n={success:function(e){t.promise().then(function(t){t.success&&e(t.data)})},error:function(e){t.promise().then(function(t){t.success||e(t.data.jqXHR,t.data.textStatus,t.data.errorThrown)})},abort:function(){t.promise().then(function(e){l.abort(e.requestIndex)})}};return l.postMessage(e,function(e){t.resolve(e)}),e.success&&n.success(e.success),e.error&&n.error(e.error),n}function a(e){e.dataType="json"}var s,u,l,c=this,d=e;c.setFeatures=function(e,t){s=e,u=t},c.execute=function(e){e.dataType=e.dataType?e.dataType:"jsonp","jsonp"===e.dataType&&(s||u&&rl())&&a(e);var t=i()?o(e):wmjQuery.ajax(e);return d.sendAutomationEvent("ajaxSent",e),t},c.loadTextFile=function(e,t,n,r,i){r=r||function(e,t,n){},mtjQuery.ajax(e,{cache:!!i,dataType:"jsonp",jsonpCallback:t,success:n,error:r})},r.apply(null,arguments)}function ne(e,t,n){this.logError=function(r){if(il()||!Hf)return!0;var i=Hf+"/Analytics/ErrorReport";r.tid=(new Date).getTime(),r.hostInfo={url:t.getUrl(),browser:t.browser,os:t.os,screen:t.getWinSize(),mobile:t.isMobile()},r.wmInfo={uId:n.getUserGuid(),euId:n.getEndUserGuid(),permId:n.getPermutationId(),language:n.getLanguage(),cVars:n.getCustomVars(),env:n.getEnvironmentId()},e.execute({url:i,data:r})}}function re(e,t){function n(n){return e.getData(n)==t.getEndUserGuid()}function r(n,r){e.saveData(n,t.getEndUserGuid(),r)}var i=this;i.wasActionPerformed=n,i.logActionPerformed=r,i.ACTION_NAMES={walkmeVisibleReported:"wm-wmv"}}function ie(e,t,n,r){function i(){}function o(e,t){a()&&r.postEvent(e,t)}function a(){return n.isEnabled()}var s=this;s.isEnabled=a,s.postEvent=o,s.getEventAppByDeployable=t.map,s.isReportingEnabled=a,s.EVENT_TYPES=e.EVENT_SENDER_EVENT_TYPES,s.EVENT_APPS=e.EVENT_SENDER_EVENT_APPS,s.CANCEL_REASONS=e.EVENT_SENDER_CANCEL_REASONS,i.apply(this,arguments)}function oe(e,t,n,r){function i(){}function o(){var i={ip:"127.0.0.1",browser:e.browser,os:e.os,screen:r.isMobileNative()?e.getScreenSize():e.getWinSize(),mobile:e.isMobile()};return r.isMobileNative()&&(i.browser.version=jl.get("MobileUtils").getSdkVersion()),!t.isReady()||t.isFeatureEnabled(n.FEATURES.DisableWidgetOpenFullUrl)||t.isFeatureEnabled(n.FEATURES.EventSenderDontSendPageUrl)?(i.url="",i.urlWithoutQueryString=""):(i.url=e.getUrl(),i.urlWithoutQueryString=e.getUrlWithoutQueryString()),t.isReady()&&!t.isFeatureEnabled(n.FEATURES.EventSenderDontSendPageTitle)?i.pageTitle=e.getPageTitle():i.pageTitle="",i}var a=this;a.getEnvironmentData=o,i.apply(this,arguments)}function ae(e,t,n,r){function i(){}function o(i){try{if(i&&(i.isPreviewMode||i.isPlayMode||i.isInRecorder))return;if(t.wasActionPerformed(s))return;e.postEvent(e.EVENT_TYPES.Visible,{type:e.EVENT_APPS.Walkme}),t.logActionPerformed(s,n.TIME_PERIODS.DaySeconds)}catch(o){r.error(o)}}var a=this;a.report=o;var s=t.ACTION_NAMES.walkmeVisibleReported;i.apply(null,arguments)}function se(e,t,n){function r(e){s=e.postEventAction}function i(){return{url:t.getUrl(),browser:t.browser,os:t.os,screen:t.getWinSize(),mobile:t.isMobile()}}function o(){return{uId:n.getUserGuid(),euId:n.getEndUserGuid(),permId:n.getPermutationId(),language:n.getLanguage(),cVars:n.getCustomVars(),env:n.getEnvironmentId()
}}var a,s,l=this;l.setBaseUrl=function(e){a=e},l.isReady=function(){return!(!a||!s)},l.logError=function(e,t){if(l.isReady()){var n;try{n=o()}catch(r){}var c=wmjQuery.extend({time:(new Date).getTime(),level:"error",app:"player",message:e},i(),n,t||{});wmjQuery.ajax({url:a+s,data:u(c),contentType:"text/plain",dataType:"json",type:"POST"})}},r.apply(l,arguments)}function ue(e,t,n,r,i,o,a){function s(){var a=u(e.get());t&&t.setBaseUrl(a),n.setBaseUrl(a),n.enable(),r.setBaseUrl(a),r.enable(),i.setBaseUrl(a),i.enable(),o.init()}function u(e){var t=l(),n=a.location.protocol,r=/^http[^s]/i,i=r.test(n),o=new RegExp("^(//|"+n+")","i"),s=o.test(e);return i&&!s&&t?e.replace(/^https:/,"http:"):e}function l(){return void 0!==(new XMLHttpRequest).withCredentials?!1:"undefined"!=typeof window.XDomainRequest?!0:!1}var c=this;c.init=s}function le(e){function t(){e.sleep(),e.disable()}var n=this;n.disable=t}function ce(e,t,n){function r(){}function i(){o(e.EVENTS.GoalReached),o(e.EVENTS.AbExperimentLinkedGoalReached)}function o(e){t.bind(e,function(e,t){n.postEvent(t)})}var a=this;a.init=i,r.apply(this,arguments)}function de(e,t,n,r,i,o){function a(){}function s(a){try{var s=a.goal,u=i.getDeployablesManager(s.GoalType),l=u.getById(s.RelatedObjectId),c=o.getGoalsFromDeployable(l),d=r.map(s.GoalType);return e.postEvent(n.EVENT_SENDER_EVENT_TYPES.GoalReached,{type:d,oId:s.Id,oName:s.Name,pId:a.identifier?a.identifier:-1,total:c.length,owId:l.Id,owName:l.Name,owType:d,main:s.IsMainGoal,interactionGuid:a.interactionGuid})}catch(f){return t.error(f),!0}}var u=this;u.postEvent=s,a.apply(null,arguments)}function fe(e,t){function n(){return e.isFeatureEnabled()&&t.isEnabled()}var r=this;r.isEnabled=n}function pe(e,t,n,r,i){function o(){}function a(e,t){return d("debug",e,t)}function s(e,t){return d("info",e,t)}function l(e,t){return d("warn",e,t)}function c(e,t){return d("error",e,t)}function d(n,r,i){if(p())try{var o=u(f(n,r,i));e.send(o)}catch(a){throw t&&t.logError(u(a.message)),a}}function f(e,t,n){var o=r.getEnvironmentData(),a=i.getWalkMeData();return n&&"object"!=typeof n&&(n=null),wmjQuery.extend({time:(new Date).getTime(),app:"player",level:e,message:t},o,a,n||{})}function p(){return n.isFeatureEnabled()}var g=this;g.log=d,g.log.debug=a,g.log.info=s,g.log.warn=l,g.log.error=c,g.isLoggingEnabled=p,o.apply(this,arguments)}function ge(e,t,n,r){function i(n,r){try{var i=u(a(n,r));e.send(i),o(n,r)}catch(s){throw t&&t.logError(u(s.message)),s}}function o(e,t){jl.get("FeaturesManager").isFeatureEnabled("externalAnalytics")&&window._walkmeInternals.externalAnalytics&&window._walkmeInternals.externalAnalytics.track(e,t.type,t.oName,t.oId)}function a(e,t){var i=s(e);return"[object Function]"===Object.prototype.toString.call(t)?i.data=t():i.data=t,i.env=n.getEnvironmentData(),i.wm=r.getWalkMeData(),i}function s(e){return{time:(new Date).getTime(),sId:l(),pgId:c(),type:e}}function l(){return"-1"}function c(){return"-1"}var d=this;d.postEvent=i}function he(e,t,n,r){function i(){return{uId:e.getUserGuid(),euId:e.getEndUserGuid(),permId:e.getPermutationId(),language:e.getLanguage(),cVars:e.getCustomVars(),env:e.getEnvironmentId(),interactionGuid:t.getCurrentInteractionGuid(),platform:n.get("platform"),userVars:r.getUserVars()}}var o=this;o.getWalkMeData=i}function me(e){function t(){var t={name:e.getPropertyValue("name"),role:e.getPropertyValue("role"),type:e.getPropertyValue("type"),status:e.getPropertyValue("status"),info:e.getPropertyValue("info")};return t}var n=this;n.getUserVars=t}function ve(e,t,n){function r(){return n.isReady()&&!n.isFeatureEnabled(e.FEATURES.DisableEventCollection)&&!t.isIE(7)}var i=this;i.isFeatureEnabled=r}function ye(e){function t(){i={},i[e.DEPLOYABLE_TYPE.Task]=e.EVENT_SENDER_EVENT_APPS.Task,i[e.DEPLOYABLE_TYPE.Tutorial]=e.EVENT_SENDER_EVENT_APPS.Walkthru,i[e.DEPLOYABLE_TYPE.Shuttle]=e.EVENT_SENDER_EVENT_APPS.Shuttle,i[e.DEPLOYABLE_TYPE.Launcher]=e.EVENT_SENDER_EVENT_APPS.Launcher,i[e.DEPLOYABLE_TYPE.Content]=e.EVENT_SENDER_EVENT_APPS.Content,i[e.DEPLOYABLE_TYPE.ShoutOut]=e.EVENT_SENDER_EVENT_APPS.ShoutOut,i[e.DEPLOYABLE_TYPE.ShoutOutBar]=e.EVENT_SENDER_EVENT_APPS.ShoutOutBar,i[e.DEPLOYABLE_TYPE.Survey]=e.EVENT_SENDER_EVENT_APPS.Survey,i[e.DEPLOYABLE_TYPE.AbExperiment]=e.EVENT_SENDER_EVENT_APPS.AbTesting,i[e.AUDIT_TYPE.OPEN_TICKET]=e.EVENT_SENDER_EVENT_APPS.Ticket}function n(t){return t in i?i[t]:e.EVENT_SENDER_EVENT_APPS.None}var r=this;r.map=n;var i;t.apply(null,arguments)}function we(e,t){function n(t){if(t){var n={};e.setIfDefined(n,t.objectId,"id"),e.setIfDefined(n,t.type,"type");var i=r(t);return e.setIfDefined(n,i,"appType"),n}}function r(e){return e.appType?e.appType:e.type?t.map(e.type):null}function i(e){return{pInit:n(e)}}var o=this;o.map=n,o.mapForExtend=i}function be(e){function t(){var t=e.STEP_PLAY_INITIATOR_ENUM,n=e.EVENT_SENDER_EVENT_APPS;i={},i[t.LAUNCHER]=n.Launcher,i[t.TASK]=n.Task,i[t.SHOUTOUT]=n.ShoutOut,i[t.WALKTHRU]=n.Walkthru,i[t.STEP]=n.Step}function n(e){return i[e]}var r=this;r.map=n;var i;t.apply(null,arguments)}function Se(e){function t(){var t=e.STEP_ACTION,n=e.EVENT_SENDER_EVENT_APPS;i={},i[t.PlayStep]=n.Step,i[t.Branch]=n.Walkthru}function n(e){return e in i?i[e]:""}var r=this;r.map=n;var i;t.apply(null,arguments)}function Te(e,t){function n(){var t=e.STEP_ACTION,n=e.EVENT_SENDER_STEP_ACTION_NAMES;o={},o[t.Redirect]=n.Redirect,o[t.PlayStep]=n.PlayStep,o[t.WaitForCondition]=n.WaitForCondition,o[t.Branch]=n.Branch,o[t.StopWt]=n.StopWt,o[t.Delay]=n.Delay,o[t.Refresh]=n.Refresh,o[t.OpenPlayerMenu]=n.OpenPlayerMenu,o[t.SetWalkMeData]=n.SetWalkMeData,o[t.PassOwnership]=n.PassOwnership}function r(e){return e in o?o[e]:(t.error(null,"There is no mapping from 'step action' to 'event sender action name' for step action: "+e),"")}var i=this;i.map=r;var o;n.apply(null,arguments)}function Ie(e,t,n,r){function i(){u=[],a(e.EVENTS.PlayerClicked),a(e.EVENTS.LauncherClicked),a(e.EVENTS.AutoStartActivated),a(e.EVENTS.PermalinkClicked),a(e.EVENTS.ApiWasCalled,n),a(e.EVENTS.WidgetOpening,r)}function o(){return u}function a(e,n){var r=t.get(n);u.push({eventName:e,callback:r.initiateInteraction})}var s=this;s.get=o;var u;i.apply(this,arguments)}function Ce(e,t){function n(){u=t.wrapCustomerLog(l)}function r(){return s?s:null}function i(e){s=e}function o(){s=e.generateGuid();var t="New interaction guid was created : "+s;u(t,3)}var a=this;a.getCurrentInteractionGuid=r,a.setCurrentInteractionGuid=i,a.beginNewInteraction=o;var s,u,l="interaction";n.apply(this,arguments)}function Ee(e,t){function n(){}function r(){for(var e=t.get(),n=0;n<e.length;n++){var r=e[n];i(r)}}function i(t){e.bind(t.eventName,function(e,n){t.callback(n)})}var o=this;o.init=r,n.apply(this,arguments)}function ke(e){function t(e){return new n(e)}function n(t){function n(n){n=r(n),(!t||t.shouldInitiateNewInteraction(n))&&e.beginNewInteraction()}function r(e){var t=i(e);return t&&(e.actualInitiatorType=t),e}function i(e){return e&&e.initiator&&void 0!=e.initiator.type?e.initiator.type:void 0}var o=this;o.initiateInteraction=n}var r=this;r.get=t}function _e(e,t){function n(e){o=e.initiatorsThatBeginNewInteraction}function r(t){var n=void 0==t.actualInitiatorType||-1!=e(t.actualInitiatorType,o);return n}var i=this;i.shouldInitiateNewInteraction=r;var o;n.apply(this,[t])}function xe(e,t){function n(e){s=e.clickAction,l=e.delayBetweenClicks}function r(e){var t=e.getTopMostElement();return i(t),wmjQuery.when(null)}function i(e){e.click(function(e){o()&&(wmjQuery(this).blur(),s())})}function o(){var e=(new Date).getTime(),t=e-u;return null!=u&&l>=t?!1:(u=e,!0)}var a=this;a.applyBehavior=r;var s,u,l;n.apply(null,[t])}function Pe(){function e(){}function t(e){var t=e.getTopMostElement();return n(t),wmjQuery.when(null)}function n(e){e.click(function(e){e.stopPropagation()}),e.hover(function(e){e.stopPropagation()})}var r=this;r.applyBehavior=t,e.apply(null,arguments)}function De(e){function t(){}function n(e){var t=e.getTopMostElement();return r(t),i(t),wmjQuery.when(null)}function r(t){e.addTabIndex(t)}function i(e){e.css("cursor","pointer")}var o=this;o.applyBehavior=n,t.apply(null,arguments)}function Ae(e){function t(t,i){i.hasState(e.ICON_CONTENT_STATE.Hover)&&n(t,i),i.hasState(e.ICON_CONTENT_STATE.Click)&&r(t,i)}function n(t,n){var r=function(){n.changeState(t,e.ICON_CONTENT_STATE.Hover)},i=function(){n.changeState(t,e.ICON_CONTENT_STATE.Regular)},o=t.getContentElement();o.hover(r,i)}function r(t,n){var r=i(n),o=function(){n.changeState(t,e.ICON_CONTENT_STATE.Click)},a=function(){n.changeState(t,r)},s=t.getContentElement();s.mouseup(a).mousedown(o)}function i(t){return t.hasState(e.ICON_CONTENT_STATE.Hover)?e.ICON_CONTENT_STATE.Hover:e.ICON_CONTENT_STATE.Regular}var o=this;o.bind=t}function Oe(e,t){function n(e){a=e.uiBehaviorResourcesLoader,s=e.imageIconEventsBinder,u=e.contentStateChanger}function r(e){return a.load().then(function(t){i(t,e)})}function i(t,n){t.clickImageSize&&u.init(e.ICON_CONTENT_STATE.Click,t.clickImageUrl,t.clickImageSize),t.hoverImageSize&&u.init(e.ICON_CONTENT_STATE.Hover,t.hoverImageUrl,t.hoverImageSize),s.bind(n,u)}var o=this;o.applyBehavior=r;var a,s,u;n.apply(null,[t])}function Ne(e,t,n){function r(e){a=e.hoverImageUrl,s=e.clickImageUrl}function i(){var n={},r=function(e){n.hoverImageSize=e,n.hoverImageUrl=a},i=function(e){n.clickImageSize=e,n.clickImageUrl=s},o=[];a&&o.push(function(t){e.getImageSize(a,function(e){r(e),t()})}),s&&o.push(function(t){e.getImageSize(s,function(e){i(e),t()})});var u=wmjQuery.Deferred(),l={functionsToExecute:o,successCallback:function(){u.resolve(n)}};return t.executeParallel(l),u.promise()}var o=this;o.load=i;var a,s;r.apply(null,[n])}function Me(e){function t(e){a=e.tooltipText}function n(e){return r(e),wmjQuery.when(null)}function r(e){var t=e.getTopMostElement(),n=i();t.attr("title",n)}function i(){var e=Dh(a,["&",'"',"'",">","<"]);return e}var o=this;o.applyBehavior=n;var a;t.apply(null,[e])}function Le(e){function t(e){a=e.imageSize,s=e.imageUrl}function n(e){e.stop(),r(e),i(e)}function r(e){e.css("background-image",'url("'+s+'")')}function i(e){e.animate({width:a.width+"px",height:a.height+"px"})}var o=this;o.apply=n;var a,s;t.apply(null,[e])}function Be(e,t){function n(e){u={},l=e.contentStateCreator,c=e.iconPositioner}function r(e,t,n){u[e]=l.create(t,n)}function i(e){return null!=u[e]}function o(e,t){var n=e.getContentElement();u[t].apply(n),c.setPosition(e,d)}function a(e){d=e}var s=this;s.init=r,s.hasState=i,s.changeState=o,s.setInitialSize=a;var u,l,c,d;n.apply(null,[t])}function Fe(e){function t(e){i=e.isAnimated}function n(e,t){var n={imageUrl:e,imageSize:t};return i?jl.create("ImageIconAnimatedContentState",n):jl.create("ImageIconNotAnimatedContentState",n)}var r=this;r.create=n;var i;t.apply(null,[e])}function je(e){function t(e){a=e.imageSize,s=e.imageUrl}function n(e){r(e),i(e)}function r(e){e.css("background-image",'url("'+s+'")')}function i(e){e.css("height",a.height+"px"),e.css("width",a.width+"px")}var o=this;o.apply=n;var a,s;t.apply(null,[e])}function Re(){function e(e){var t={mainImageUrl:e.data.url,hoverImageUrl:e.data.hover,clickImageUrl:e.data.click};return t}var t=this;t.get=e}function Ue(e,t){function n(e,t){var n=r(e),i={mainImageUrl:n.mainImageUrl,hoverImageUrl:n.hoverImageUrl,clickImageUrl:n.clickImageUrl,isAnimated:t};return i}function r(n){var r="shape"==n.type;return r?t.get(n):e.get(n)}var i=this;i.get=n}function Ge(e){function t(t){var n=t.data.shape+"-"+t.data.color,r={mainImageUrl:n+".png",hoverImageUrl:e.isValueTrue(t.data.hover)?n+"-hover.png":null,clickImageUrl:e.isValueTrue(t.data.click)?n+"-click.png":null};return r}var n=this;n.get=t}function We(){function e(e){var t={text:e.data.customText};return t}var t=this;t.get=e}function Ve(e,t){function n(n){return e.isFeatureEnabled(t.FEATURES.JSP)?r(n):n}function r(e){var t={fallbackContainerProvider:e};return jl.create("JspContainerProviderDecorator",t)}var i=this;i.get=n}function Qe(){function e(){}function t(e){return e}var n=this;n.get=t,e.apply(null,arguments)}function He(){function e(){}function t(e){return e.parent()}var n=this;n.get=t,e.apply(null,arguments)}function ze(){function e(){}function t(e){return bl(e)}var n=this;n.get=t,e.apply(null,arguments)}function Ye(){function e(){}function t(){return bl(null,!0)}var n=this;n.get=t,e.apply(null,arguments)}function qe(e,t){function n(e){o=e.fallbackContainerProvider}function r(t){var n=e(t,null);return n?n:o.get(t)}var i=this;i.get=r;var o;n.apply(null,[t])}function Ke(e,t){function n(e){o=e.facadeProvider,a=e.facadeParams}function r(t){var n=e.get(t),r=o.get(n,a),i=a.customBehaviors?r.behaviors.concat(a.customBehaviors):r.behaviors,s={initialIconCreator:r.initialIconCreator,iconBehaviors:i},u=jl.create("Icon",s);return u}var i=this;i.create=r;var o,a;n.apply(null,[t])}function Xe(e,t,n,r,i,o){function a(){}function s(){return e}function u(){return t}function l(e,t,n){var i=r.getDefaultIconElementBuilder(e,t,n),o=r.getEmbedInElementIconElementBuilder(i,n);return o}function c(e,t){var n=d(e,t),r=i.getRelativeToDocumentIconPositioner(n),o=i.getRelativeToElementIconPositioner(r,t);return o}function d(e,t){var r=n,i=o.getRelativeToDocumentIconPositionProvider(e,r,t),a=o.getRelativeToElementIconPositionProvider(e,i);return a}var f=this;f.getHeadProvider=s,f.getElementContainerProvider=u,f.getIconElementBuilder=l,f.getIconPositioner=c,a.apply(null,arguments)}function Je(e,t){function n(){}function r(){return t.getHeadProvider()}function i(){return e}function o(e,n,r){return t.getIconElementBuilder(e,n,r)}function a(e,n){return t.getIconPositioner(e,n)}var s=this;s.getHeadProvider=r,s.getElementContainerProvider=i,s.getIconElementBuilder=o,s.getIconPositioner=a,n.apply(null,arguments)}function $e(e,t,n,r,i,o){function a(){}function s(){return e}function u(){return t}function l(e,t,n){var i=r.getDefaultIconElementBuilder(e,t,n);return i}function c(e,t){var n=d(e,t),r=i.getRelativeToDocumentIconPositioner(n);return r}function d(e,t){var r=n,i=o.getRelativeToDocumentIconPositionProvider(e,r,t);return i}var f=this;f.getHeadProvider=s,f.getElementContainerProvider=u,f.getIconElementBuilder=l,f.getIconPositioner=c,a.apply(null,arguments)}function Ze(e,t,n,r,i,o){function a(){}function s(){return e}function u(){return n}function l(e,n,r){return t.getIconElementBuilder(e,n,r)}function c(e,t){var n=d(e,t),r=o.getRelativeToDocumentIconPositioner(n);return r}function d(e,t){var n=r,i=positionProviderFactory.getRelativeToDocumentIconPositionProvider(e,n,t);return i}var f=this;f.getHeadProvider=s,f.getElementContainerProvider=u,f.getIconElementBuilder=l,f.getIconPositioner=c,a.apply(null,arguments)}function et(e,t){function n(){}function r(e,n,r){if(e)return t.ICON_EMBEDMENT_TYPE.EmbedInElement;var o=i(n);return o?t.ICON_EMBEDMENT_TYPE.EmbedInOwnerDocument:t.ICON_EMBEDMENT_TYPE.EmbedInTopDocument}function i(t){var n=t.data("iframe"),r=!n;return r||e.shouldHandlePageAsFramesets()}var o=this;o.get=r,n.apply(null,arguments)}function tt(e,t,n,r,i){function o(){}function a(o){switch(o){case e.ICON_EMBEDMENT_TYPE.EmbedInElement:return t;case e.ICON_EMBEDMENT_TYPE.EmbedInElementParent:return n;case e.ICON_EMBEDMENT_TYPE.EmbedInOwnerDocument:return r;case e.ICON_EMBEDMENT_TYPE.EmbedInTopDocument:return i}}var s=this;s.get=a,o.apply(null,arguments)}function nt(e){function t(){}function n(e){var t=r(e),n=e.initialIconCreator,i={behaviors:t,initialIconCreator:n};return i}function r(t){var n=t.behaviors;return n.push(e),n}var i=this;i.get=n,t.apply(null,arguments)}function rt(e,t,n){function r(){}function i(r){switch(r){case e.ICON_CONTENT_KIND.Image:return t;case e.ICON_CONTENT_KIND.Text:return n}}var o=this;o.get=i,r.apply(null,arguments)}function it(e,t,n,r,i){function o(){}function a(e,t,n){r.convert(t.contentParams);var i=l(n,t.contentParams),o=u(i,t.contentParams),a=s(e,i,t),c={behaviors:o,initialIconCreator:a};return c}function s(e,t,r){var o=i.get(e,r,n);return c(t,r.contentParams,o)}function u(t,n){var r=f(t,n);return[e,r]}function l(e,t){var n={contentStateCreator:jl.create("ImageIconContentStateCreator",t),iconPositioner:e};return jl.create("ImageIconContentStateChanger",n)}function c(e,t,n){var r={iconResourcesLoader:d(t),contentStateChanger:e,defaultInitialIconCreator:n};return jl.create("ImageInitialIconCreator",r)}function d(e){return jl.create("ImageIconInitialStateResourcesLoader",e)}function f(e,n){var r={uiBehaviorResourcesLoader:p(n),imageIconEventsBinder:t,contentStateChanger:e};return jl.create("ImageIconUiBehavior",r)}function p(e){return jl.create("ImageIconUiBehaviorResourcesLoader",e)}var g=this;g.get=a,o.apply(null,arguments)}function ot(e){function t(){var t="/player/resources/launchers/",n=e.getResourcePath(t);return n}var n=this;n.get=t}function at(e){function t(e){e.mainImageUrl=n(e.mainImageUrl),e.hoverImageUrl=n(e.hoverImageUrl),e.clickImageUrl=n(e.clickImageUrl)}function n(t){if(!t||r(t))return t;var n=e.get();return n+t}function r(e){return 0==e.indexOf("http")}var i=this;i.convert=t}function st(e,t){function n(){}function r(t,n,r){var o=i(n,t,r),a={behaviors:[e],initialIconCreator:o};return a}function i(e,n,r){var i=o(e.contentParams),s=t.get(n,e,i);return a(n,r,e.element,s)}function o(e){return jl.create("TextIconElementCreator",e)}function a(e,t,n,r){var i={iconResourcesLoader:s(e,n),defaultInitialIconCreator:r,iconPositioner:t};return jl.create("TextInitialIconCreator",i)}function s(e,t){var n=e.getHeadProvider(),r=n.get(t),i={headToEmbedFontsIn:r};return jl.create("TextIconInitialStateResourcesLoader",i)}var u=this;u.get=r,n.apply(null,arguments)}function ut(e){function t(t,n){var r=e.get(n.contentKind),i=t.getIconPositioner(n.element,n.positionParams),o=r.get(t,n,i);return o}var n=this;n.get=t}function lt(e,t){function n(n,r){var i=e.get(n,r);return t.get(i,r)}var r=this;r.get=n}function ct(e){function t(t,n,r){var i=t.getElementContainerProvider(),o=e.get(i),a=n.positionParams.zindex,s=t.getIconElementBuilder(r,a,n.cssClassesNames),u={iconElementBuilder:s,elementContainerProvider:o,element:n.element,iconUniqueIdentifier:"walkme-icon-"+n.uniqueIdentifierType+n.uniqueIdentifierId};return jl.create("DefaultInitialIconCreator",u)}var n=this;n.get=t}function dt(e,t,n,r,i){function o(e){return s(e,r)}function a(e){return s(e,i)}function s(e,n){var r=l(e,n),i=u(e.isEmbedInElement,e.element,e.perimeterType);if(i!=t.ICON_EMBEDMENT_TYPE.EmbedInElement)return r.create(i);var o=c(r);return o}function u(e,t,r){var i=n.get(e,t,r);return i}function l(e,t){var n={facadeProvider:t,facadeParams:e},r=jl.create("IconByEmbedmentTypeCreator",n);return r}function c(e){var t={iconByEmbedmentTypeCreator:e},n=jl.create("EmbedInElementIcon",t);return n}var d=this;d.createForDesignMode=o,d.createForExecutionMode=a}function ft(e,t,n,r,i){function o(t,n){var r=yl(t.Settings,"imageObject",null),i=a(r),o=e.isTrue(t.Settings,"animated",!1),l={element:n,uniqueIdentifierId:t.Id,isEmbedInElement:e.isTrue(t.Settings,"embedInParent",!1),contentKind:i,contentParams:s(r,i,o),positionParams:u(t,o)};return l}function a(e){return e&&"customText"==e.type?t.ICON_CONTENT_KIND.Text:t.ICON_CONTENT_KIND.Image}function s(e,n,o){var a;return a=n==t.ICON_CONTENT_KIND.Text?i.get(e):r.get(e,o)}function u(e,n){var r={attachmentSide:e.Position,zindex:yl(e.Settings,"z-index","2147483627"),perimeterType:parseInt(yl(e.Settings,"context",t.POSITION_PERIMETER_TYPE.Outside)),growingDirection:l(e,n),positionCustomOffset:{positionTopCustomOffset:parseInt(yl(e.Settings,"topOffset",0)),positionLeftCustomOffset:parseInt(yl(e.Settings,"leftOffset",0))}};return r}function l(e,r){var i=parseInt(yl(e.Settings,"direction",t.POSITION_TYPE.BottomRight));return i=n.getByAnimationType(i,r)}var c=this;c.getIconCreatorParams=o}function pt(){function e(){}function t(){var e=mtjQuery(document.createElement("div"));return e.css("background-repeat","no-repeat"),e}var n=this;n.create=t,e.apply(this,arguments)}function gt(e){function t(e){i=e.text}function n(){var e=mtjQuery(document.createElement("div"));return e.html(i),e}var r=this;r.create=n;var i;t.apply(this,[e])}function ht(e,t,n){function r(n){var r=n.contentElementCreator.create(),i=n.contentElementCssClassNames;t.appendClasses(r,i);var o=e.create(n.zindex),a=n.positionElementCssClassNames;t.appendClasses(o,a),o.html(r),c=o,d=r}function i(){return d}function o(){return c}function a(){return o()}function s(e){c=mtjQuery(e),d=mtjQuery(c.children()[0])}function u(){var e={width:d.width(),height:d.height()};return e}var l=this;l.getContentElement=i,l.getPositionElement=o,l.getTopMostElement=a,l.setTopMostElement=s,l.getContentElementSize=u;var c,d;r.apply(null,[n])}function mt(e){function t(e){_contentElementCreator=e.contentElementCreator,_contentElementCssClassNames=e.contentElementCssClassNames,_positionElementCssClassNames=e.positionElementCssClassNames,_zindex=e.zindex}function n(){var e={contentElementCreator:_contentElementCreator,contentElementCssClassNames:_contentElementCssClassNames,positionElementCssClassNames:_positionElementCssClassNames,zindex:_zindex};return jl.create("DefaultIconElement",e)}var r=this;r.build=n,t.apply(null,[e])}function vt(){function e(){}function t(){var e=mtjQuery(document.createElement("div"));return r(e),n(e),i(e),e}function n(e){e.css("position","relative"),e.css("display","inline-block")}function r(e){e.css("display","-moz-inline-stack")}function i(e){e.css("zoom","1"),e.css("*display","inline")}var o=this;o.create=t,e.apply(null,arguments)}function yt(e,t,n){function r(e){f=e.defaultIconElement;var t=i(e.embedContainerElementCssClassNames,f);d=t}function i(n,r){var i=e.create();return t.appendClasses(i,n),i.html(r.getTopMostElement()),i}function o(){return f.getContentElement()}function a(){return f.getPositionElement()}function s(){return d}function u(e){d=mtjQuery(e);var t=d.children()[0];f.setTopMostElement(t)}function l(){return f.getContentElementSize()}var c=this;c.getContentElement=o,c.getPositionElement=a,c.getTopMostElement=s,c.setTopMostElement=u,c.getContentElementSize=l;var d,f;r.apply(null,[n])}function wt(e){function t(e){i=e.embedContainerElementCssClassNames,_defaultIconElementBuilder=e.defaultIconElementBuilder}function n(){var e=_defaultIconElementBuilder.build(),t={defaultIconElement:e,embedContainerElementCssClassNames:i};return jl.create("EmbedInElementIconElement",t)}var r=this;r.build=n;var i;t.apply(null,[e])}function bt(){function e(e,t,n){var r={contentElementCreator:e,contentElementCssClassNames:n.contentElementCssClassNames,positionElementCssClassNames:n.positionElementCssClassNames,zindex:t},i=jl.create("DefaultIconElementBuilder",r);return i}function t(e,t){var n={defaultIconElementBuilder:e,embedContainerElementCssClassNames:t.embedContainerElementCssClassNames},r=jl.create("EmbedInElementIconElementBuilder",n);return r}var n=this;n.getDefaultIconElementBuilder=e,n.getEmbedInElementIconElementBuilder=t}function St(e){function t(){}function n(t){var n=mtjQuery(document.createElement("div"));return e.addBrowserSpecificClasses(n),e.setLangAttribute(n),n.css("position","absolute"),n.css("display","inline"),nh(n,t),n}var r=this;r.create=n,t.apply(null,arguments)}function Tt(){function e(e,t,n){var r=wmjQuery(t[0].outerHTML).appendTo(e);return r}function t(e,t){var n=e.find("."+t);n.remove()}var n=this;n.attach=e,n.detach=t}function It(){function e(e){return wmjQuery("head",e[0].ownerDocument)}var t=this;t.get=e}function Ct(){function e(){return wmjQuery("head")}var t=this;t.get=e}function Et(e,t){function n(n,r){e.fonts([t.get("walkme-opensans")],n,r,r)}var r=this;r.load=n,oa.apply(null,arguments)}function kt(e,t){function n(e){o=e.mainImageUrl}function r(){var t=wmjQuery.Deferred();return e.getImageSize(o,function(e){var n={mainImageUrl:o,mainImageSize:e};t.resolve(n)}),t.promise()}var i=this;i.load=r;var o;n.apply(null,[t])}function _t(e,t){function n(e){o=e.headToEmbedFontsIn}function r(){var t=wmjQuery.Deferred();return e.load(o,function(){t.resolve()}),t.promise()}var i=this;i.load=r;var o;n.apply(null,[t])}function xt(e,t){function n(e){u=e.iconUniqueIdentifier,l=e.iconElementBuilder,c=e.elementContainerProvider,d=e.element}function r(){var e=l.build();return i(e),o(e),e}function i(e){var t=e.getTopMostElement();t.addClass(u)}function o(t){var n=c.get(d),r=e.attach(n,t.getTopMostElement(),u);t.setTopMostElement(r)}function a(){var t=c.get(d);e.detach(t,u)}var s=this;s.create=r,s.destroy=a;var u,l,c,d;n.apply(null,[t])}function Pt(e,t){function n(e){a=e.iconResourcesLoader,s=e.contentStateChanger,u=e.defaultInitialIconCreator}function r(){var t=wmjQuery.Deferred();return a.load().then(function(n){s.init(e.ICON_CONTENT_STATE.Regular,n.mainImageUrl,n.mainImageSize),s.setInitialSize(n.mainImageSize);var r=u.create();s.changeState(r,e.ICON_CONTENT_STATE.Regular),t.resolve(r)}),t.promise()}function i(){u.destroy()}var o=this;o.create=r,o.destroy=i;var a,s,u;n.apply(null,[t])}function Dt(e){function t(e){o=e.iconResourcesLoader,a=e.iconPositioner,s=e.defaultInitialIconCreator}function n(){var e=wmjQuery.Deferred();return o.load().then(function(){var t=s.create(),n=t.getContentElementSize();a.setPosition(t,n),e.resolve(t)}),e.promise()}function r(){s.destroy()}var i=this;i.create=n,i.destroy=r;var o,a,s;t.apply(null,[e])}function At(e,t){function n(e){s=e.iconByEmbedmentTypeCreator}function r(){u=s.create(e.ICON_EMBEDMENT_TYPE.EmbedInElement);var t=wmjQuery.Deferred();return u.show().then(function(n){i(n)?t.resolve(n):(o(),u=s.create(e.ICON_EMBEDMENT_TYPE.EmbedInElementParent),u.show().then(t.resolve(n)))}),t.promise()}function i(e){var t=e.getContentElement();return t.is(":mt_visible")}function o(){u.destroy()}var a=this;a.show=r,a.destroy=o;var s,u;n.apply(null,[t])}function Ot(e,t){function n(e){u=e.initialIconCreator,l=e.iconBehaviors}function r(){var e=wmjQuery.Deferred();return u.create().then(function(t){i(t,e)}),e.promise()}function i(t,n){for(var r=[],i=0;i<l.length;i++){var a=l[i];r.push(o(a,t))}r.push(function(){return n.resolve(t),wmjQuery.when(null)}),e.executePromiseChain(r)}function o(e,t){return function(){return e.applyBehavior(t)}}function a(){u.destroy()}var s=this;s.show=r,s.destroy=a;var u,l;n.apply(null,[t])}function Nt(e,t){function n(){}function r(n,r){var i=t.getDesignModeParams(n,r);return e.createForDesignMode(i,r)}function i(n,r,i){var a=t.getDesignModeParams(n,r);return o(n,a,i),e.createForExecutionMode(a,r)}function o(e,n,r){var i="none"!=e.Settings.action.actionType;if(i){var o=t.getLauncherExecutionBehaviors(e,r);n.customBehaviors=n.customBehaviors||[],n.customBehaviors=n.customBehaviors.concat(o)}}var a=this;a.createForDesignMode=r,a.createForExecutionMode=i,n.apply(null,arguments)}function Mt(e,t,n,r,i){function o(){}function a(e,t){var n={clickAction:s(e),delayBetweenClicks:t},r=jl.create("ClickIconExecutionBehavior",n),i=[r];return i}function s(i){var o=function(){e.sendInternalEvent(n.EVENTS.LauncherClicked),t.getLauncherAction(i.Id).doAction(),r.SendClickAudit(n.DEPLOYABLE_TYPE.Launcher,i.Id)};return o}function u(e,t){var n=i.getIconCreatorParams(e,t);return n.uniqueIdentifierType="Launcher",n.customBehaviors=l(e),n.cssClassesNames=c(e),n}function l(e){var t=yl(e.Settings,"tooltip",""),n=[];if(t){var r={tooltipText:t},i=jl.create("TolltipIconUiBehavior",r);n.push(i)}return n}function c(e){var t={contentElementCssClassNames:d(),positionElementCssClassNames:f(e),embedContainerElementCssClassNames:p(e)};return t}function d(){return["walkme-launcher-image-div"]}function f(e){var t=[];t.push("walkme-launcher-id-"+e.Id),t.push("walkme-custom-launcher-outer-div"),t.push("walkme-text-launcher");var n=yl(e.Settings,"imageObject",null),r=n.data.customClass;return t.push(r),t}function p(e){var t=[];return t.push("walkme-launcher-container"),t.push("walkme-launcher-container-id-"+e.Id),t}var g=this;g.getLauncherExecutionBehaviors=a,g.getDesignModeParams=u,o.apply(null,arguments)}function Lt(e){function t(){}function n(t){var n={leftOffset:0,topOffset:0},r=e.getEmbedInElementPosition(t,n);return r}var r=this;r.get=n,t.apply(null,arguments)}function Bt(e){function t(){}function n(t){var n={leftOffset:0,topOffset:0},r=e.getElementBounds(t,!0,window,n);return r}var r=this;r.get=n,t.apply(null,arguments)}function Ft(e){function t(){}function n(t){var n={leftOffset:0,topOffset:0},r=e.getElementBounds(t,!1,window,n);return r}var r=this;r.get=n,t.apply(null,arguments)}function jt(e){function t(){}function n(e){var t={positionProvider:e};return jl.create("RelativeToDocumentIconPositioner",t)}function r(e,t){var n={attachmentSide:t.attachmentSide,relativeToDocumentIconPositioner:e};return jl.create("RelativeToElementIconPositioner",n)}var i=this;i.getRelativeToElementIconPositioner=r,i.getRelativeToDocumentIconPositioner=n,t.apply(null,arguments)}function Rt(e){function t(){}function n(t,n,r,i){var o,a;switch(t){case e.POSITION_TYPE.Top:o=n.top,a=r.left-i.width/2;break;case e.POSITION_TYPE.Right:o=r.top-i.height/2,a=n.right-i.width;break;case e.POSITION_TYPE.Bottom:o=n.bottom-i.height,a=r.left-i.width/2;break;case e.POSITION_TYPE.Left:o=r.top-i.height/2,a=n.left;break;case e.POSITION_TYPE.TopLeft:o=n.top,a=n.left;break;case e.POSITION_TYPE.TopRight:o=n.top,a=n.right-i.width;break;case e.POSITION_TYPE.BottomRight:o=n.bottom-i.height,a=n.right-i.width;break;case e.POSITION_TYPE.BottomLeft:o=n.bottom-i.height,a=n.left;break;case e.POSITION_TYPE.Center:o=r.top-i.height/2,a=r.left-i.width/2}return{top:o,left:a}}var r=this;r.calculate=n,t.apply(null,arguments)}function Ut(e,t){function n(e){o=e.marginFromElement}function r(t,n,r,i){var a,s;switch(t){case e.POSITION_TYPE.Top:a=n.top-i.height-o,s=r.left-i.width/2;break;case e.POSITION_TYPE.Right:a=r.top-i.height/2,s=n.right+o;break;case e.POSITION_TYPE.Bottom:a=n.bottom+o,s=r.left-i.width/2;break;case e.POSITION_TYPE.Left:a=r.top-i.height/2,s=n.left-i.width-o;break;case e.POSITION_TYPE.TopLeft:a=n.top-i.height-o,s=n.left-i.width-o;break;case e.POSITION_TYPE.TopRight:a=n.top-i.height-o,s=n.right+o;break;case e.POSITION_TYPE.BottomRight:a=n.bottom+o,s=n.right+o;break;case e.POSITION_TYPE.BottomLeft:a=n.bottom+o,s=n.left-i.width-o}return{top:a,left:s}}var i=this;i.calculate=r;var o;n.apply(null,[t])}function Gt(e,t){function n(){}function r(n){switch(n){case e.POSITION_PERIMETER_TYPE.Outside:var r=0,i={marginFromElement:r+1};return jl.create("OutsidePositionCalculator",i);case e.POSITION_PERIMETER_TYPE.Inside:return t}}var i=this;i.get=r,n.apply(null,arguments)}function Wt(){function e(){}function t(e,t,n){var r={top:e.top+(n.top-t.top),left:e.left+(n.left-t.left)};return r}var n=this;n.calculate=t,e.apply(null,arguments)}function Vt(e){function t(){}function n(t,n,r){var i={top:0,left:0};switch(t){case e.POSITION_TYPE.Top:i.top+=n.height-r.height,i.left+=n.width/2-r.width/2;break;case e.POSITION_TYPE.Right:i.top+=n.height/2-r.height/2;break;case e.POSITION_TYPE.Bottom:i.left+=n.width/2-r.width/2;break;case e.POSITION_TYPE.Left:i.top+=n.height/2-r.height/2,i.left+=n.width-r.width;break;case e.POSITION_TYPE.TopLeft:i.top+=n.height-r.height,i.left+=n.width-r.width;break;case e.POSITION_TYPE.TopRight:i.top+=n.height-r.height;break;case e.POSITION_TYPE.BottomRight:break;case e.POSITION_TYPE.BottomLeft:i.left+=n.width-r.width;break;case e.POSITION_TYPE.Center:i.top+=n.height/2-r.height/2,i.left+=n.width/2-r.width/2}return i}var r=this;r.getGrowingOffset=n,t.apply(null,arguments)}function Qt(e){function t(t,n){var r=e.POSITION_TYPE.Right,t=n?r:t;return t}var n=this;n.getByAnimationType=t}function Ht(){function e(){}function t(e,t){var n={relativeToDocumentIconPositionProvider:t,element:e};return jl.create("RelativeToElementIconPositionProvider",n)}function n(e,t,n){var r={elementPositionAndSizeProvider:t,perimeterType:n.perimeterType,attachmentSide:n.attachmentSide,element:e,positionCustomOffset:n.positionCustomOffset,growingDirection:n.growingDirection};return jl.create("RelativeToDocumentIconPositionProvider",r)}var r=this;r.getRelativeToElementIconPositionProvider=t,r.getRelativeToDocumentIconPositionProvider=n,
e.apply(null,arguments)}function zt(e,t,n,r){function i(e){l=e.elementPositionAndSizeProvider,c=e.perimeterType,d=e.attachmentSide,f=e.element,p=e.positionCustomOffset.positionTopCustomOffset,g=e.positionCustomOffset.positionLeftCustomOffset,h=e.growingDirection}function o(e,r){var i=l.get(f),o=n.getCenterPositionByBounds(i),u=t.get(c),p=u.calculate(d,i,o,r);return a(p),s(p,r,e),p}function a(e){e.top+=p,e.left+=g}function s(t,n,r){var i=r.getContentElementSize(),o=e.getGrowingOffset(h,n,i);t.top+=o.top,t.left+=o.left}var u=this;u.getPosition=o;var l,c,d,f,p,g,h;i.apply(null,[r])}function Yt(e,t){function n(e){a=e.relativeToDocumentIconPositionProvider,s=e.element}function r(e,t){var n=a.getPosition(e,t),r=i(n,e);return r}function i(t,n){var r=s.offset(),i=n.getTopMostElement(),o=i.offset(),a=e.calculate(t,o,r);return a}var o=this;o.getPosition=r;var a,s;n.apply(null,[t])}function qt(e){function t(e){o=e.positionProvider}function n(e,t){var n=r(e,t),i=e.getPositionElement();i.css("top",n.top+"px"),i.css("left",n.left+"px")}function r(e,t){var n=o.getPosition(e,t);return n}var i=this;i.setPosition=n;var o;t.apply(null,[e])}function Kt(e,t){function n(e){s=e.attachmentSide,u=e.relativeToDocumentIconPositioner}function r(e,t){i(e),u.setPosition(e,t)}function i(e){var t=o(),n=e.getTopMostElement();n.css("float",t)}function o(){var t="left";switch(s){case e.POSITION_TYPE.Right:case e.POSITION_TYPE.TopRight:case e.POSITION_TYPE.BottomRight:t="right"}return t}var a=this;a.setPosition=r;var s,u;n.apply(null,[t])}function Xt(){function e(){return!il()}var t=this;t.isEnabled=e}function Jt(){var e=this;e.getEventSender=function(){return jl.get("EventSender")}}function $t(e,t,n,r,i,o){function a(){b=void 0==e.checkInterval?m:e.checkInterval,f=t.wrapCustomerLog(Vl)}function s(e,t,n){I[e.Id]={relatedObjectId:e.RelatedObjectId,goalType:e.GoalType,evaluator:n,goalCompletedFunc:t.goalCompletedFunc,identifier:t.identifier,interactionGuid:t.interactionGuid}}function u(e,t){var o=S[e.Id];if(o){if(e.IsLinkedGoal){var a=h("Skipping goal watch - Goal is already watched : {0}, type: {1}",e.Name,e.GoalType);return f(a,3),null}w.removeGoalWatch(e.Id)}var u=i.getTrackData(e);u.RelatedObjectId=e.RelatedObjectId;var l={evaluationPollingIntervalMs:b,jqueryPollingIntervalMs:v,elementPollingIntervalMs:v,featureName:Vl,elementName:"Goal: "+e.Name,trackEvent:ia(e.GoalType)+" - Goals - Completion Condition",trackData:u},d=jl.create("ConditionChecker",l);S[e.Id]=e,T++,s(e,t,d);var m=t.identifier,y=m?h(", PlayGuid of : {0}",m):"",a=h("Start watching Goal : {0}, type: {1} {2}",e.Name,e.GoalType,y);return f(a,3),d.onValueChanged(function(t){t&&c(e)}),d.onPreEvaluation(function(t,n){n||(E?E=!1:0===C&&(p=0,f("============================ CHECKING GOALS ==============================================================",2)),e.goalStart=(new Date).getTime()),x.sendAutomationEvent("CheckingGoal",{GoalId:e.Id,GoalName:e.Name});var r=n?" (async)":"",i=h("Goal: {0} - Checking Goal , id : {1}, type: {2}, RelatedObjectId: {3}{4}",e.Name,e.Id,e.GoalType,e.RelatedObjectId,r);f(i,3)}),d.onEvaluated(function(t,i){var o=(new Date).getTime(),s=o-e.goalStart,u=i?" (async)":"";a=h("Goal: {0} - checking finished, id : {1}, took {2} ms{3}",e.Name,e.Id,s,u),f(a,4),x.sendInternalEvent("GoalConditionEvaluated",{goal:e},{playGUID:m}),i||(C++,p+=s,C>=T&&(f("Done checking "+C+" Goals. took: "+p+" ms",2),f("============================ DONE CHECKING GOALS =========================================================",2),C=0),p>g&&(f("Goals tracking time until now is "+p+" ms. It broke the time limit of "+g+" ms. Stopped tracking current goals."),r.getData(k)||(a=h("Goals tracking broke limit and was stopped - user id: {0}, end user id: {1}, time: {2}, browser: {3}, url: {4}",Ip,_makeTutorial.getEndUserId(),p,n.browser.string,window.location.href),_makeTutorial.Logger.error({},a),r.saveData(k,!0,_)),w.removeAllGoalsWatch()))}),e}function l(e){return I[e].evaluator}function c(e){f('Goal "'+e.Name+'" Reached! ',1);var n=e.Id,r=I[n],i=w.createGoalCompletedParams(e,r);try{r.goalCompletedFunc&&r.goalCompletedFunc(i)}catch(a){t.error(a,"completing goal callback threw an exception.")}w.removeGoalWatch(e.Id),x.sendInternalEvent(o.EVENTS.GoalReached,d(r,e)),x.sendApiEvent(o.EVENTS.GoalReached,{GoalId:e.Id,GoalName:e.Name}),x.sendAutomationEvent(o.EVENTS.GoalReached,{GoalId:e.Id,GoalName:e.Name})}function d(e,t){return{goal:t,identifier:e.identifier,interactionGuid:e.interactionGuid}}var f,p,g=500,m=5e3,v=500,y="Conditions",w=this,b=null,S={},T=0,I={},C=0,E=!1,k="wm-gb",_=86400,x=jl.get("CommonEvents");this.addGoalsWatch=function(e,t){for(var n=e.length-1;n>=0;n--)for(var r=e[n],i=e.length-1;i>n;i--){var o=e[i];r.Id==o.Id&&e.splice(i,1)}for(var a=[],n=0;n<e.length;n++){var s=u(e[n],t);s&&a.push(s)}for(var n=0;n<a.length;n++){var c=a[n],d=l(c.Id);d.evaluateAsync(c.Settings[y]),d.isPollingEvaluationNeeded()||--T}},this.cleanResources=function(){for(var e in S){var t=l(e);t.cleanResources()}},this.removeGoalWatch=function(e){if(f(e,5,"goalProblem"),f(S[e],5,"goalProblem"),S[e]){var t=l(e);t.isPollingEvaluationNeeded()&&(--C,--T,0==C&&T>0&&(E=!0)),t&&t.cleanResources(),delete S[e],delete I[e]}},this.removeAllGoalsWatch=function(){w.cleanResources(),S={},I={},T=0,C=0},this.completeGoalById=function(e){var t=S[e];return t?void c(t):void f("Could not complete goal with id "+e+" - it was already completed or does not exist.",3)},w.createGoalCompletedParams=function(e,t){var n={Id:e.Id,GoalType:t.goalType,RelatedObjectId:t.relatedObjectId,Name:e.Name,identifier:t.identifier,interactionGuid:t.interactionGuid};return n},w.getGoalsCountFromDictionary=function(){var e=w.getCheckedGoals(),t=0;for(var n in e)void 0!=S[n]&&void 0!=S[n].Id&&void 0!=S[n].Settings&&t++;return t},a.apply(null,arguments),w.getCheckedGoals=function(){return S},w.getGoalsCompletionParams=function(){return I}}function Zt(e,t,n,r,i,o,a,s,u,l,c,d){function f(){V=o.wrapCustomerLog(Vl),Q=i.register("go",{actionUrl:"/Statistics/AddCompletedGoal",technicalSuccessHandler:C,defaultDataStorageLifeSeconds:H,prefixForStorage:"go",sendingThreshold:1,dataType:"deployable goal",requestParamsFunc:function(e){var t=e[0],n=t.GoalType==Qd.AbExperiment;return{goalId:t.Id,playGuid:t.identifier,permutationId:r.getPermutationId(),endUserGuid:r.getEndUserGuid(),source:r.getEnvironmentId(),localTime:w(),url:sl(),isAbTesting:n}}})}function p(e){$.push(e)}function g(){J=!0}function m(e,n){var r=k(e);if(r.length>0){var i=r[0].GoalType,o=A(e,n);_(e,i,n,o);var a=v(o);t.addGoalsWatch(r,a);var s=ia(i),u=h("Started watching {0} : {1}",s,e.Name);V(u,2)}}function v(e){var t=e[q],n=(e[K],e[X]),r={identifier:t,interactionGuid:n,goalCompletedFunc:te};return r}function y(e){R(e)}function b(e){var t=T(!0);V("Restoring watched Goals... "+t+" Walk-Thrus are watched.",2),e&&s.libSetTimeout(S,ee)}function S(){var e=T(!1);e&&V("New watched deploybles... "+e+" more items are now watched.",2),s.libSetTimeout(S,ee)}function T(e){var t=0;return mtjQuery.each(c.DEPLOYABLE_TYPE,function(n,r){var i=F(r);for(var o in i)if(void 0!=i[o]&&void 0!=i[o][Y]){var a=i[o];(e||I(r,a))&&(M(a,r),t++)}}),t}function I(e,t){if(!Z[e])return!0;var n=t[Y];return Z[e][n]!=t[q]?!0:!1}function C(e,t,n,r){"true"==e?r(parseInt(e)):"error"==e?(V("Completed goal - Internal Error",3),n()):(V("Completed goal - Unknown Error",3),t())}function E(e,t){if(void 0!=e&&t){var n=F(e);if(n){var r=n[t];if(r){var i=r[q],o=r[K];return{playGuid:i,finishedGoals:o}}}}}function k(e){var t=e.Goals;return t||(t=[]),t.slice()}function _(e,t,n,r){var i=D(e);P(t,D(e),r),x(t,i,n)}function x(e,t,n){Z[e]=Z[e]||{},Z[e][t]=n}function P(t,n,r){var i=U(t);e.addToDictionary(i,n,r,H)}function D(e){return e.Id?e.Id:e.TutorialId}function A(e,t){var n={};return n[Y]=D(e),n[q]=t,n[K]=[],n[X]=l.getCurrentInteractionGuid(),n}function O(e,t){var r=n.getDeployablesManager(t),i=r.getById(e);return i?k(i):[]}function N(e,t){for(var n,r=0;r<e.length;r++)if(e[r].Id==t){n=e[r];break}return n}function M(e,n){var r=e[Y],i=O(r,n);if(i.length>0){var o=e[q],a=e[K];G(i,a),x(n,r,o);var s=v(e);t.addGoalsWatch(i,s)}}function L(e){return d.isEnabled()?(V("Sending completed Goal info to server ("+e.Name+", "+e.identifier+")",3),Q.sendData({Id:e.Id,GoalType:e.GoalType,identifier:e.identifier}),!0):!0}function B(e){var t=F(e.GoalType),n=t[e.RelatedObjectId];if(n&&e.identifier==n[q]){n[K].push(e.Id);var r=n[K].length,i=O(e.RelatedObjectId,e.GoalType).length;i==r?j(e.GoalType,e.RelatedObjectId):P(e.GoalType,e.RelatedObjectId,n)}for(var o=0;o<$.length;o++)$[o](e)}function F(t){var n=U(t),r=e.getData(n,{});return r}function j(t,n){var r=U(t);e.removeFromDictionary(r,n,H)}function R(t){var n=U(t);e.removeData(n)}function U(e){var t=h("{0}-{1}",z,e);if(J){var n=r.getEndUserGuid();n&&(t+="-"+n)}return t}function G(e,t){for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<e.length;i++){var o=e[i].Id;if(o==r){e.splice(i,1);break}}}var W=this;W.onGoalCompleted=p,W.enableMultiUserStorage=g,W.startWatchingDeployable=m,W.stopWatchingDeployables=y,W.init=b,W.getCompletedGoals=E,W.getDeployableGoalsByIdAndType=O,W.getWatchedDeployablesOfType=F,W.getGoalsFromDeployable=k,W.getGoalById=N;var V,Q,H=3600,z="wm-wtchd",Y="tID",q="plgd",K="fnsh",X="igd",J=!1,$=[],Z={},ee=2e3,te=function(e){var t=r.getEnvironmentId();if(t!=c.SOURCES.preview)try{a.audit(e)}catch(n){}t!=c.SOURCES.preview&&L(e),B(e)};f.apply(null,arguments)}function en(e,t,n){function r(){f=n.drawableType,p=n.drawableId,g=n.defaultSettings,h=n.cssKeysValues,w(n.element),T(n.settings),d=e.wrapCustomerLog(Jl)}function i(e){return _()+"-"+f+"-"+e+"-"+p}function o(){var e=k(),t="walkme-custom-"+e+" walkme-to-remove ";if(h)for(var n=0;n<h.length;n++)t+=" walkme-custom-"+e+"-"+h[n].name+"-"+h[n].id;return t}function a(e,n){var r=x(e,n),i=t.getSettingsValue(e,I());return!n&&i&&(s(r,i),r.color=i.color||r.color),r}function s(e,t){for(var n in t)t.hasOwnProperty(n)&&(y(t[n])?e[n]=parseFloat(t[n]):e[n]=t[n])}function u(){for(var e=0;4>e;e++)S().push(c(e))}function l(e){if(e)try{e.remove()}catch(t){d("[highlighter] error removing div",3)}}function c(e){var t=C(i(e));return t.addClass(m),t.addClass("walkme-custom-"+k()+"-position-"+e),t}var d,f,p,g,h,m,v=jl.create("WalkmeOOP",this),w=v.Prop.Protected("element",null),b=v.Prop.Protected("settings",null),S=v.Prop.Protected("highlighterDivs",[]),T=v.Prop.Protected("balloonSettings",{}),I=v.Prop.Protected("balloonSettingsKey"),C=(v.Virtual.Public("shouldShow"),v.Virtual.Protected("createDiv")),E=v.Virtual.Protected("applyStyle"),k=v.Virtual.Protected("getInstanceName"),_=v.Virtual.Protected("getClassName"),x=v.Virtual.Protected("getSettings",function(e){return{left:0,top:0,width:0,height:0}});v.Protected("init",function(e){b(a(e,g)),m=o()});v.Virtual.Public("highlight",function(){try{P(),u(),E(S())}catch(t){e.error(t)}});var P=v.Virtual.Public("unhighlightElement",function(){for(var e=0;e<S().length;e++)l(S()[e]);S().length=0});r.apply(null,arguments)}function tn(e,t,n,r,i,o){function a(){b.ExtendsInstance(jl.create("HighlighterBase",o)),p=o.element,g=b._base.settings,h=o.monitor,y=s(p),w=e.wrapCustomerLog(Jl),b._base.balloonSettingsKey(S),b._base.init(o.settings)}function s(e){var t=e.parents("body");return 0==t.length&&(t=e.parents("frameset").first()),r.isFeatureEnabled("jsp")&&(t=i.findJspContainer(e,t)),t}function u(e,t,n,r,i,o,a){var s=e[t];if(s)return rh(s,g().zindex),s.css("top",n+"px").css("left",r+"px").css("width",i+"px").css("height",o+"px").css("background-color",g().color),a&&s.css("font-size",g().thickness+"px"),s}function l(e){for(var t=0;t<C.length;t++){var n=C[t];n.monitor(e.pageX,e.pageY)}}function c(e){try{var t=i.getElementDocument(e);t&&mtjQuery(t).unbind("mousemove",l)}catch(n){}}function d(e){for(var t=-1,n=0;n<C.length;n++)if(C[n].getHash()==e.getHash()){t=n;break}t>=0&&C.splice(t,1),0==C.length&&c(e.getElement())}function f(){function e(e){n=e.element,r=i.generateGUID(),o=!0}function t(e,t,n){return e>=t&&n>=e}var n,r,o,a=this;this.monitor=function(e,r){try{n[0].tagName}catch(i){return void w("HighlighterRect.monitor: element destroyed.")}var o=2,a=v.y-o,s=v.x-o,u=v.h+2*o,l=v.w+2*o,c=t(e,s,s+l)&&t(r,a,a+u);this.setVisibilty(!c)},this.show=function(){a.setVisibilty(!0)},this.hide=function(){a.setVisibilty(!1)},this.setVisibilty=function(e){if(o!=e){for(var t=e?"block":"none",n=0;n<m.length;n++)m[n].css("display",t);o=e}},this.getHash=function(){return r},this.getElement=function(){return n},e.apply(null,arguments)}var p,g,h,m,v,y,w,b=jl.create("WalkmeOOP",this),S="stepHlObj",T="2147483630",I="#55aaff",C=[],E=[];b.Override("shouldShow",function(){var e=i.getSettingsValue(t.get().Settings,"hlType","none");return"rect"==i.getSettingsValue(b._base.balloonSettings(),"hlType",e)}),b.Override("getSettings",function(e,n){var r=b._base.getSettings();return n?(r.color=I,r.thickness=1):(r.color=t.get().BalloonSettings.HighlighterColor||I,r.thickness=t.get().BalloonSettings.HighlighterThickness||1),r.zindex=i.getSettingsValue(e,"z-index",T),r}),b.Override("highlight",function(e){b._base.highlight(e);var t=new f({element:p});if(E.push(t),h){var n=i.getElementDocument(p);mtjQuery(n).unbind("mousemove",l),mtjQuery(n).bind("mousemove",l),C.push(t)}}),b.Override("applyStyle",function(e){var t,o=p[0];t=p.length>1?n.getMultipleElementsRect(p):o.getBoundingClientRect();var a=i.getElementDocument(p),s=n.getOffsetRect(o,a,window),l=g().thickness,c=t.left+s.left+g().left-g().width/2-l,d=t.top+s.top+g().top-g().height/2-l,f=c,h=d;r.isFeatureEnabled("jsp")&&y.hasClass("jspPane")&&(c-=y.offset().left,d-=y.offset().top);var w=t.right-t.left+g().width+l,b=t.bottom-t.top+g().height+l,S=u(e,0,d,c,w+l,l,!0),T=u(e,1,d,c+w,l,b+l,!1),I=u(e,2,d+b,c,w+l,l,!0),C=u(e,3,d,c,l,b+l,!1);m=[S,T,I,C],v={x:f,y:h,w:w+l,h:b+l}}),b.Override("unhighlightElement",function(){try{if(E)for(var e=0;e<E.length;e++)d(E[e]);E.length=0,b._base.unhighlightElement()}catch(t){}}),b.Override("createDiv",function(e){var t=mtjQuery(y[0].ownerDocument.createElement("div"));return t[0].id=e,y.append(t),t}),b.Override("getInstanceName",function(){return"highlighter"}),b.Override("getClassName",function(){return"highlightDiv"}),a.apply(null,arguments)}function nn(e,t,n,r,i){function o(){d.ExtendsInstance(jl.create("HighlighterBase",i)),l=d._base.settings,u=i.element,c=e.wrapCustomerLog(Jl),d._base.balloonSettingsKey(f),d._base.init(i.settings)}function a(){var e=mtjQuery(document),t=document.documentElement.clientWidth,n=e.height();return{height:n,width:t}}function s(e,t,n,r,i){e&&(rh(e,l().zindex),e.css("top",t+"px").css("left",n+"px").css("width",r+"px").css("height",i+"px").css("background-color",l().color).css("opacity",l().opacity))}var u,l,c,d=jl.create("WalkmeOOP",this),f="stepIoObj",p="2147483629",g="#000000";d.Override("shouldShow",function(){var e=r.getSettingsValue(Nf.get().Settings,"ioEnabled","0");return"1"==r.getSettingsValue(d._base.balloonSettings(),"ioEnabled",e)&&!t.isQuirksMode(u[0])}),d.Override("getSettings",function(e){var t=d._base.getSettings();return t.color=g,t.opacity=.5,t.zindex=r.getSettingsValue(e,"z-index",p),t}),d.Override("applyStyle",function(e){var t,i=a(),o=u[0],c={top:0,left:0},d=r.getElementDocument(u);if(u.data("iframe")){var f=n.getRectRelativeToWindow(u,o,window);if(!f)return;t=f}else t=u.length>1?n.getMultipleElementsRect(u):o.getBoundingClientRect(),c=n.getOffsetRect(o,d,window);var p=n.getCollapsedMargin(),g=t.left+c.left+l().left-l().width/2,h=t.top+c.top+l().top-l().height/2,m=t.right-t.left+l().width,v=t.bottom-t.top+l().height;s(e[0],0-p.top,0,i.width-.5,h+p.top),s(e[1],h,g+m,Math.floor(i.width-m-(t.left+l().left-l().width/2)),v),s(e[2],h+v,0,i.width-.5,i.height-(h+v)),s(e[3],h,0,t.left+l().left-l().width/2-.5,v)}),d.Override("createDiv",function(e){var t=wmjQuery("<div id="+e+" />");return mtjQuery(document).find("body").append(t),t}),d.Override("getInstanceName",function(){return"insideouter"}),d.Override("getClassName",function(){return"insideoutDiv"}),o.apply(null,arguments)}function rn(){function e(e,t){m();var n=e?e:me;V=i(n.InitCSS),Q=i(n.Properties),H=i(n.Options),x(n.MetaData),Z=t}function t(){return!0}function n(e,t){e.removeAttr("id").find("div").removeAttr("id"),e.fadeOut(se,function(){qu(e,t)})}function r(e,t){qu(e,t)}function i(e){return mtjQuery.extend({},e)}function o(e){return{filter:e.css("filter")}}function a(){X&&ne?y(T):re.push(I)}function s(){K&&(P(),y(D))}function u(){if(d()){var e=A(te,l());W.postAnimation(function(){O(e)})}}function l(){return q?j:ee?F:void 0}function c(){Lg("dontPrepForScrl")||te.css({display:"block",visibility:"hidden",filter:""})}function d(){return q||ee}function f(e){for(var t=0;t<re.length;t++)"function"==typeof re[t]&&re[t].apply(null,arguments);re.length=0}function p(){var e=H.duration*ae;ve.setWalkmeTimeout(w,e)}function g(){mtjQuery(te).css({display:he,visibility:""}).css(ie)}function h(){te&&te.css(ie)}function m(){oe=mtjQuery({})}function v(){oe.clearQueue(ue)}function y(e){oe.queue(ue,e)}function w(){oe.dequeue(ue)}function b(){var e={},t={};E()?(e.size="height",e.osize="width"):(e.size="width",e.osize="height"),!q&&Q.size&&(J==lf.Top&&"height"==e.size||J==lf.Left&&"width"==e.size)&&(ee=!0),t.marginTop=J==lf.Bottom?-1:1,t.marginLeft=J==lf.Right?-1:1,e.margin="margin"+ge[J],Q=S(Q,e,t),V=S(V,e,t)}function S(e,t,n){if(e){var r={};for(var i in e)if(e.hasOwnProperty(i)){var o=uh(t[i])?t[i]:i;if(r[o]=e[i],uh(n[o])){var a=r[o].toString().replace("px","");r[o]=n[o]*a+"px"}}return r}}function T(){C(ne),ve.setWalkmeTimeout(function(){w()},ce)}function I(){mtjQuery(ne).each(function(){this.show()}),w()}function C(e){var t,n,r=E(),i=r?"marginTop":"marginLeft",o=k(),a=o?1:-1,s=e.length-1;J==lf.Top&&(t="border-top-width",n="borderTopWidth"),J==lf.Bottom&&(t="border-bottom-width",n="borderBottomWidth"),J==lf.Right&&(t="border-right-width",n="borderRightWidth"),J==lf.Left&&(t="border-left-width",n="borderLeftWidth"),mtjQuery(e).each(function(e,r){this.css("visibility","hidden").css("display","block");var u=(parseInt(this.css(t),10)+2)*a,l=this.css(t),c=this[0].style.zIndex,d={};d[n]=l,d.opacity=1,o&&(d[i]=1);var f={};f.duration=ce,f.complete=function(e,t){return function(){e.css(i,""),e.css("zIndex",t)}}(this,c),e==s&&this.css("zIndex",c-1),this.css("visibility",""),o&&this.css(i,u),this.css(t,"0px"),this.animate(d,f)})}function E(){return J==lf.Bottom||J==lf.Top?!0:!1}function k(){return J==lf.Bottom||J==lf.Right?!0:!1}function _(e){!J&&V.margin&&(V.margin=0),mtjQuery(e).css({display:"none",visibility:""}).css(ie).css(V)}function x(e){e&&(q=is(e.center,!1),K=is(e.hwa,!1),X=is(e.are,!1),ae=is(e.delay,1))}function P(){te.children(":visible").addClass("walkme-balloon-hidden-content").css("display","none")}function D(){te.children(".walkme-balloon-hidden-content").removeClass("walkme-balloon-hidden-content").fadeIn(250,function(){mtjQuery(this).css("direction",mtjQuery(this).css("direction"))})}function A(e,t){var n={position:"absolute",top:e.css("top"),left:e.css("left"),height:e.height(),width:e.width(),zIndex:e[0].style.zIndex},r=mtjQuery("<div />").css(n);return e.css({top:0,left:0}).wrap(r),t(r,e),n}function O(e){ee&&(te.css("bottom",""),te.css("right","")),te.unwrap().css(e)}function N(){te.bind("click.wm_animation",function(){if(!$&&($=!0,L(te,de,le),ne))for(var e=0;e<ne.length;e++)L(ne[e],de,le)}),M(te)}function M(e){e.find("button,a,.walkme-custom-balloon-close-button").bind("click.wm_animation",function(e){e.stopPropagation()})}function L(e,t,n){if(0>=t)return e.css(n,""),void($=!1);var r=[];r[n]=B(t),e.animate(r,pe,function(){L(e,t-1,n)})}function B(e){var t=e%2*2-1,n=e*fe;return n*t}function F(e,t){var n=parseInt(t.css("border-top-width"),10)+parseInt(t.css("border-bottom-width"),10),r=parseInt(t.css("border-left-width"),10)+parseInt(t.css("border-right-width"),10);t.css("top",""),t.css("left",""),t.css("bottom","-"+n+"px"),t.css("right","-"+r+"px")}function j(e,t){R(e,t),H.step=function(){R(e,t)}}function R(e,t){var n=e.height()/2-t.height()/2,r=e.width()/2-t.width()/2;t.css("top",n),t.css("left",r)}function U(){return!z&&t()&&Y?!0:!1}function G(){return Z?!0:!1}var W=this,V=null,Q=null,H=null,z=!1,Y=!0,q=!1,K=!1,X=!1,J=null,$=!1,Z=!1,ee=!1,te=null,ne=null,re=[],ie=null,oe=null,ae=1,se=150,ue="animations",le="marginLeft",ce=250,de=10,fe=.3,pe=50,ge={0:"Top",1:"Left",2:"Top",3:"Left"},he="inline",me={InitCSS:{display:he},Properties:{},Options:{}},ve=jl.get("TimerManager");this.disableAnimation=function(){Y=!1},this.setPosition=function(e){J=e,b()},this.postAnimation=function(e){e&&re.push(e)},this.prepare=function(e,t){te=e,ne=t,ie=o(te),v(),c(),U()?(a(),s(),u(),W.postAnimation(h),H.complete=f):W.postAnimation(I),G()&&W.postAnimation(N)},this.animate=function(e){return te?(this.postAnimation(e),void(U()?(z=!0,_(te),te.animate(Q,H),p()):(g(),f()))):void(e&&e())},this.destroy=function(e){var t=te;if(ne)for(var i=0;i<ne.length;i++)try{t=t.add(ne[i])}catch(o){}try{U()?n(t,e):r(t,e)}catch(o){e&&e()}},e.apply(null,arguments)}function on(e,t,n){function r(){var t=e.getDataFileExtraData();o=t&&t.dataVersion||0}var i,o,a=this,s="wm-ldv";a.hasNewDeployables=function(){if(i)return i;var e=t.getData(s)||o;return i=o>e},a.saveDataVersion=function(){e.getServerStorageManager().saveData(s,o,yc)},r.apply(null,arguments)}function an(e){var t;if(e.agData)t=e.agData.ClassType;else{var n=e.config.Settings.AG;n&&(t=n.type)}t=t||0;var r={0:"ImageAttentionGrabber",1:"OldSwooshAttentionGrabber",2:"SwooshAttentionGrabber",3:"MenuOverviewAttentionGrabber",4:"TickerAttentionGrabber",5:"CustomTextAttentionGrabber",6:"CustomImageAttentionGrabber","3.sub":"MenuOverviewSubAttentionGrabber"},i=r[t];return jl.create(i,e)}function sn(){function e(){}var t=this;t.getBody=function(e){return e.body},e.apply(null,arguments)}function un(){function e(){}var t=this;t.getBody=function(e){return wmjQuery("body",e)[0]},e.apply(null,arguments)}function ln(e,t,n,r,i,o,a,s,c){function d(e,t,n,r,i,o){E=i,k=o,_=jl.get("CommonEvents");var a=new RegExp(".*lightning\\.force\\.com.*");P.isSFLightnning=a.test(window.location)}function f(e){return e&&"string"==typeof e&&e.replace?e.replace(/,|\$|\u20AC|\u20AA|¥|¢|£/g,""):e}function p(e){var t=e&&18==e.code,n=e&&e.message&&e.message.indexOf("denied")>=0;return t||n}function m(e){var t=P.getWalkmeInternals().walkmeWrap;return t?function(){var n=Array.prototype.slice.call(arguments);return n.unshift(e),t.apply(this,n)}:e}function v(e,t){if(e==t)return{frameIndex:0};for(var n=0,r=0;r<e.frames.length;r++){n++;var i=e.frames[r],o=v(i,t);if(void 0!==o.frameIndex)return o.frameIndex+=n,o;n+=o.totalFrames}return{totalFrames:n}}function w(){return window.editorAPI&&editorAPI.isImpersonated&&editorAPI.isImpersonated()}function b(e,t){var n=t.match(/(.*)\[(\d+)\]/),r=n[1],i=Number(n[2]);if(S(r))o=b(e,r);else var o=e[r];return o&&wmjQuery.isArray(o)?o[i]:void 0}function S(e){var t=/\[[\d]+\]/;return t.test(e)}function T(e){var t=0===e.indexOf("/");return t}function I(){if(!x){var e=window.location;x=e.origin,x||(x=e.protocol+"//"+e.hostname,e.port&&(x+=":"+e.port))}return x}var C,E,k,_,x,P=this;P.isSFLightnning=!1,P.settingsFieldValid=a.settingsFieldValid,P.isSettingsValueExists=a.isSettingsValueExists,P.getSettingsValue=a.getSettingsValue,P.isNumber=function(e){return!isNaN(e)},P.formatString=function(){return h.apply(null,arguments)},P.isMobileNative=function(){return s.get("platform")==r.PLATFORM.iOS||s.get("platform")==r.PLATFORM.Android},P.isIOS=function(){return s.get("platform")==r.PLATFORM.iOS},P.isAndroid=function(){return s.get("platform")==r.PLATFORM.Android},P.getJQueryElementFinder=function(){return Dp},P.sendMenuEvent=function(e,t,n){try{var r={Type:e};t&&(r.WalkthruId=t),n&&window.mtjQuery.extend(r,n),_.sendInternalEvent(e,r),walkme_player_event(r)}catch(i){}},P.sendEvent=function(e,t){_.sendApiEvent(e,t)},P.isIe7or8=function(){return t.isIE(8,"lte")},P.libSetTimeout=e.libSetTimeout,P.toJSON=function(e){return u(e)},P.secureEvalJSON=function(e){return l(e)},P.clone=function(e){return g(e)},P.elementLastKeeper=jl.get("ElementLastKeeper"),P.attentionGrabberFactory={create:function(e){return jl.get("AttentionGrabberManager").create(e)}},P.attentionGrabberClass=function(e){return jl.get("AttentionGrabberManager").getImageAG(e)},P.isValidMailTo=function(e){return e&&0==e.indexOf("mailto:")},P.isValidUrl=function(e){return e&&0!=e.indexOf("http")&&0!=e.indexOf("/")?!1:!0},P.setDefault=function(e,t,n){void 0===e[t]&&(e[t]=n)},P.filter=function(e,t){for(var n=[],r=0;r<e.length;r++)t(e[r])&&n.push(e[r]);return n},P.isUiObjectActivatable=function(e){return"category"!=e.type()&&"tab"!=e.type()},P.isTrue=function(e,t,n){var r=yl(e,t,n);return P.isValueTrue(r)},P.isValueTrue=function(e){return e&&(1==e||"True"==e||"1"==e)},P.isLike=function(e,t){t=t.replace(/[-[\]{}()+?,\\^$|#\s]/g,"\\$&"),t=t.replace(new RegExp("[.]","g"),"\\."),t=t.replace(new RegExp("[*]","g"),".*"),e=e.toString().toLowerCase(),t=t.toLowerCase();try{return e.match(t)[0]==e}catch(n){return!1}},P.isBigger=function(e,t){return e=f(e),t=f(t),e=parseFloat(e),t=parseFloat(t),y(e)&&y(t)?e>t:!1},P.isSmaller=function(e,t){return e=f(e),t=f(t),e=parseFloat(e),t=parseFloat(t),y(e)&&y(t)?t>e:!1},P.addTabIndex=function(e,t){Lg("accessibility")&&(t=is(t,0),e.attr("tabIndex",t),e.keyup(function(t){13!=t.keyCode||t.shiftKey||(e.click(),t.stopPropagation())}))},P.isGradientUsingFilter=function(e){var t=wmjQuery("<div style='"+e+"' />"),n=-1==t.css("background-image").indexOf("gradient");return n},P.handleCrossDomainError=function(e){if(!p(e))throw e},P.encloseCall=function(e){var t=function(){var t=arguments;return function(){return e.apply(null,t)}},n=su(arguments,0),r=t.apply(null,n);return r},P.registerEventHandler=function(e,t){var n=m(t);return window.attachEvent?window.attachEvent("on"+e,n):window.addEventListener&&window.addEventListener(e,n,!1),function(){P.unregisterEventHandler(e,n)}},P.unregisterEventHandler=function(e,t){window.detachEvent?window.detachEvent("on"+e,t):window.removeEventListener&&window.removeEventListener(e,t,!1)},P.setBodyUtils=function(e){E=e},P.getBody=function(e){return E.getBody(e)},P.postMessageToAllFramesChain=function(e,t){var n=0;if(e)try{e.postMessage(t,"*"),n++,e!=e.parent&&(n+=P.postMessageToAllFramesChain(e.parent,t))}catch(r){el("Error in postMessage to frames chain "+r,4)}return n},P.postMessageToFrameAndDescendants=function(e,t){function n(e,t){r(e,t);for(var i=e.frames,o=0;o<i.length;o++){var a=i[o];n(a,t)}}function r(e,t){try{e!=window&&e.postMessage(t,"*")}catch(n){}}n(e,t)},P.getFrameIndex=function(e){var t=v(top,e||window).frameIndex;return t},P.doForFramesChain=function(e,t){if(e){try{t(e)}catch(n){}e!=e.parent&&P.doForFramesChain(e.parent,t)}},P.addScript=function(e,t,n){if(e){var r=document.getElementsByTagName("head")[0],i=document.createElement("script");i.async=!0,i.src=e,i.id="mt_script",t&&(i.onload=t,i.onreadystatechange=t),n&&(i.onerror=n),r.appendChild(i)}},P.checkElementText=function(e){return e.is("input")||e.is("textarea")?e.val():e.is("select")?e.find("option:selected").text():e.text()},P.getElementDocument=function(e){var t=document;try{if(e.data("iframe")){t=e.data("iframe")[0];var n=t.contentWindow?t.contentWindow.document:null;t=t.contentDocument||n}}catch(r){}return t},P.getDateAtUTC=function(){var e=new Date;return e.getTime()},P.nl2br=function(e){return e?e.replace(/\n/g,"<br/>"):""},P.getTimer=function(e){function t(){var t=new Date;return function(n){var r=new Date,i=r-t;return e("Measurer - "+n+" ("+i+" ms)"),t=r,i}}return new t},P.defaultValue=function(e,t){return"undefined"!=typeof e&&null!=e?e:t},P.isLocalStorageEnabled=function(){if(void 0!==C)return C;try{if(!window.localStorage)return C=!1,!1}catch(e){return C=!1,!1}try{window.localStorage.getItem("wm-test")}catch(t){return C=!1,!1}return C=!0,!0},P.createElementInDocument=function(e,t){var n=t.createElement("div");return wmjQuery(n).html(e).children()},P.createIframe=function(e,t,n,r,i){function o(e){a.removeEventListener?a.removeEventListener("load",o):a.detachEvent&&a.detachEvent("onload",o),r&&r(e)}var a=document.createElement("iframe");a.id=t,a.className="walkme-to-remove",n||(a.style.cssText="display:none;");var s=bl(null,!0)[0];return s.appendChild(a),a.addEventListener?(a.addEventListener("load",o,!1),i&&window.addEventListener("message",m(i),!1)):a.attachEvent&&(a.attachEvent("onload",o,!1),i&&window.attachEvent("onmessage",m(i))),a.src=e,a},P.removeIframeListeners=function(e,t,n){e.removeEventListener?window.removeEventListener(t,n,!1):e.detachEvent&&window.detachEvent("on"+t,n)},P.getTrackData=function(e){return{Id:e.Id,Name:e.Name}},P.getStepTrackData=function(e,t){var n={Id:e.Id,Name:e.StepTitle||e.StepText};return t&&(n.TutorialId=t.Id,n.TutorialName=t.Name),n},P.shouldTrackFinder=function(){var e=n&&n.get()===r.SOURCES.success,t=jl.get("ClientStorageManager"),i=t.getData(sc);return void 0!=i||w()||e},P.getWindowData=function(e,t){var n=void 0;if(t)switch(e){case Ec.Cookie:n=P.getWindowCookie(t),n||(n=void 0);break;case Ec.Var:n=P.getWindowVar(t)}return n},P.getWindowCookie=function(e){return k.getCookie(e)},P.getInputGenerator=function(e){return jl.get("InputGenerator")},P.encodeText=function(e){var t=wmjQuery("<div></div>");return t.text(e),t.html()},P.getWindowVar=function(e){for(var t=window,n=e.split("."),r=0;r<n.length;r++){if(!t)return void 0;t=S(n[r])?b(t,n[r]):t[n[r]]}return t},P.findJspContainer=function(e,t){var n=P.getJspParent(e);return n?wmjQuery(n).find(".jspPane"):t},P.getJspParent=function(e){var t=P.getClientjQuery();if(t){var n=e.parents("div");return P.firstMatch(n,function(e){var n=t(e);return void 0!=n.data&&void 0!=n.data("jsp")?n:void 0})}},P.getClientjQuery=function(){var e=window.jQuery||window.$;return e&&e.fn&&e.fn.jquery?e:void 0},P.firstMatch=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n];return null},P.generateGUID=function(){var e=jl.get("GuidGenerator");return e.generateGuid()},P.isDefined=function(e){return null!=e&&void 0!=e},P.executePromiseChain=function D(e){if(0!=e.length){var t=0,n=e[t],r=n();r.then(function(){D(e,t+1)})}},P.executeParallel=function(e){function t(){if(0==a.length)return void(l&&l());o=u.length*a.length;for(var e=u.length-1;e>=0;e--)for(var t=a.length-1;t>=0;t--){if(d)return;var n=s?s(a[t]):a[t];u[e](n,r)}}function n(){if(0==u.length)return void(l&&l());o=u.length;for(var e=u.length-1;e>=0;e--){if(d)return;u[e](r,i)}}function r(){o--,0==o&&l&&l()}function i(){d||(d=!0,c&&c())}var o,a=e.objectsArray,s=e.selectorFunc,u=e.functionsToExecute,l=e.successCallback,c=e.failCallback,d=!1;a?t():n()},P.getWinOrigin=function(){return c.location.origin||c.location.protocol+"//"+c.location.hostname+(c.location.port?":"+c.location.port:"")},P.getOrigin=function(){return T(zf)?I()+zf:zf},P.getWalkmeInternals=function(){return window._walkmeInternals?window._walkmeInternals:{}},d.apply(null,arguments)}function cn(){function e(e,t,n){return r.settingsFieldValid(e)&&r.isSettingsValueExists(e,t)?e[t]:n}function t(e,t){return r.settingsFieldValid(e)&&t in e?!0:!1}function n(e){return e&&0!=e.length?!0:!1}var r=this;r.getSettingsValue=e,r.isSettingsValueExists=t,r.settingsFieldValid=n}function dn(){function e(e){o=e}var t,n="walkme-ie-",r="walkme-ie-bm-",i=this,o=null,a=!1;i.canDisplayOverlay=function s(){var s=!(o.getHostData().isQuirksMode()||o.shouldHandlePageAsFramesets());return s},this.removeOverlay=function(e){t&&t.exist()&&(e?t.fadeOut(DUR,function(){wmjQuery(this).remove()}):t.remove(),t=null)},i.displayOverlay=function(e,n,r){void 0==r&&(r="walkme-popup-background");var o=bl();return o.append(h('<div id="{0}" class="mt-to-destroy"></div>',r)),t=mtjQuery("#"+r,o),t.css({opacity:"0.7",display:"none",position:"fixed",height:"100%",width:"100%",top:"0",left:"0",background:"#000000","z-index":e-1}),i.addBrowserSpecificClasses(t),n?t.fadeIn("slow"):t.css("display",""),t},i.getStyle=function(e,t){try{return t.getComputedStyle?t.getComputedStyle(e,null):e.currentStyle}catch(n){return null;
}},i.getAnimationDimentionSize=function(e,t){var n;return n="top"==t||"bottom"==t?"height":"width",e.css(n)},i.addBrowserSpecificClasses=function(e){if(o.getHostData().isMobile()&&e.addClass("walkme-mobile-device"),o.getHostData().isIE()){var t=document.documentMode||Number(wmjQuery.browser.version),i=window.mtjQuery.browser.version.slice(0,window.mtjQuery.browser.version.indexOf(".")),a=n+t,s=r+i;e.addClass(a),e.addClass(s)}},i.addWalkmeClasses=function(e){e.addClass("walkme-to-destroy");var t="walkme-override walkme-css-reset";e.addClass(t);var n=e.find("*");n.addClass(t)},i.addBrowserClass=function(e){var t=o.getHostData().browser.name.replace(/ /g,"").toLowerCase();e.addClass("walkme-"+t)},i.setLangAttribute=function(e){var t=o.getCurrentLanguage();t&&e.attr("lang",t)},i.bindFocusAndBlur=function(e,t){e.focus(function(){e.val()==t&&e.val("")}),e.blur(function(){""==e.val()&&e.val(t)})},i.fixFlash=function(){function e(){n().append("<param name='wmode' value='transparent'>").wrap("<div></div>").unwrap(),mtjQuery("embed[wmode!='opaque'][wmode!='transparent']").attr("wmode","transparent").wrap("<div></div>").unwrap()}function t(){var e=n();mtjQuery("param[name='wmode']",e).remove(),e.append("<param name='wmode' value='transparent'>");var t=mtjQuery("embed[wmode!='opaque'][wmode!='transparent']");t.attr("wmode","transparent"),r(t),r(e)}function n(){return mtjQuery("object:has('param[name='wmode'][value!='transparent'][value!='opaque']')")}function r(e){for(var t=0;t<e.length;t++){var n=e[t].parentNode,r=e[t].outerHTML;e[t].insertAdjacentHTML("beforeBegin",r),n.removeChild(e[t])}}if(!a&&Lg("flashTransparent")){var i=o.getBrowser();-1!=i.indexOf("Firefox")?e():-1!=i.indexOf("IE")&&t(),a=!0}},i.hexToRgba=function(e,t){var n=e.replace("#",""),r=parseInt(n,16),i=r>>16&255,o=r>>8&255,a=255&r;return"("+i+","+o+","+a+","+t+")"},i.closestNonStatic=function(e){for(var t=e.parent();t&&t.exist();){if(!t[0].style)return bl(e);if("static"!=t.css("position"))return t;t=t.parent()}},e.apply(null,arguments)}function fn(){function e(e){return de=jl.get("TimerManager"),ge=jl.get("BalloonEmbedder"),fe=jl.get("Consts"),pe=jl.get("EventsTrigger"),Y=fe.STEP_TYPE.Normal,re=e.positionHelper,ye=e.element,e.parentElement&&(ye=e.parentElement,we=e.element),ie=e.forceEmbedBalloonInIframe,le=e.dontShowIoBalloon,je=e.isFirstStep,z=e.isViewStep,ne=e.siteConfig,e.fixedSize&&(Me=e.fixedSize.width,Le=e.fixedSize.height),Ne=e.stepSettings,te=yl(Ne,Xe)||yl(ne.Settings,Xe)||Ke,e.text&&(Ee=e.text.title,_e=e.text.subText,ke=ln.nl2br(e.text.content)),K=e.end,e.buttons&&(Se=e.buttons.next,Te=e.buttons.done,Ie=e.buttons.back,Ce=e.buttons.submit),De=e.htmlContent,xe=e.innerHtml,Pe=e.outterHtml,H=e.position,e.data&&(Be=e.data.stepId,Fe=e.data.tutorialId,Y=e.data.type,q=e.data.identifierTag),ue=e.logger,n(e.isCaptureBalloon,z),Oe=e.configuration,Ml.FixConfiguration(Oe),ce=ue.wrapCustomerLog(Hl),pl(ye),X=e.drawer,ye?(be=!ye.data("iframe")||ie?!0:Ml.shouldHandlePageAsFramesets(),e.isCaptureBalloon&&o(),$e=e.isNotSignToButtonsEvents,void i(Oe)):void(be=!0)}function t(e){ce(e,5,Hl)}function n(e,t){var n={logger:ue,element:ye,settings:Ne,drawableType:"balloon",drawableId:Be,monitor:!t&&!e,defaultSettings:e,cssKeysValues:[{id:Be,name:"step"},{id:Fe,name:"walkthru"}]};oe=jl.create("Highlighter",n),we&&(n.element=we,n.drawableType=Ze,ae=jl.create("Highlighter",n)),se=jl.create("Insideout",n)}function r(){var e=De?De.html():Ml.parseBBCode(ke),t={title:Ml.parseBBCode(Ee),content:e,customHtml:{inner:xe,outter:Pe},stepIndexText:_e},n={balloonData:t,userGuid:Ip,nextButton:Se,doneButton:Te,backButton:Ie,configuration:Oe,content:ke,title:Ee,subtext:_e,settings:Ne,end:K,stepType:Y,submitButton:Ce,contentDiv:De};return n}function i(e){var t=e.AnimateFirst&&!je||Ae||z,n=e.Vibrate&&!Ae;ze=new rn(e.Animation,n),t&&ze.disableAnimation()}function o(){Ae=!0,be=!1,Ae&&ze&&ze.disableAnimation()}function a(e,t,n,i){var o={},a=ge.getContainer(Ne,e,be,o);Z=X.generateBalloonDiv(a,Ae,Fe,Be,Y,r(),q),ge.handleEmbedding(Ne,Z,o),$e||Uu(Z,{objectId:Be,type:fe.STEP_PLAY_INITIATOR_ENUM.STEP}),be&&Z.data("iframe",e.data("iframe"));var s=X.fixSize(Z,e,be,n,i);if(Y&&Y==fe.STEP_TYPE.Popup)ve.showPopupBalloon(Z);else{var u=uh(Oe.BalloonRadius)?Oe.BalloonRadius:15;ve.showNormalBalloon(Z,s,t,a,u)}return Z}function s(e,t,n,r,i){if(e.positionType==lf.Right||e.positionType==lf.Left){var o;if(o=Ae||Ne.lv&&Ne.lv>0?mtjQuery(ln.getElementDocument(i)).height():mtjQuery(ln.getElementDocument(ye)).height(),t.height+e.top>o){var a=X.arrowHeight()+1,s=n.top+n.height/2,u=s-t.height/2,l=s-t.height+a+r/2;l=Math.max(0,l);var c=s-a-r/2,d=o-t.height-1,f=Math.min(d,c);e.top=u,e.top=Math.min(f,e.top),e.top=Math.max(e.top,l),e.top=Math.max(0,e.top)}}return e}function u(){J&&(J.clear(),J=null)}function l(){for(var e=0;e<Re.length;e++)try{Re[e]()}catch(t){}Re.length=0}function c(e){if(e)try{e.unbind(),mtjQuery("*",e).unbind()}catch(t){}}function d(e,t){return Y!=fe.STEP_TYPE.Popup&&t!=qe.None&&"fixed"!=e.css("position")?!0:!1}function f(e,n,r,i){var o=Lg("noScrlAnm")?qe.Normal:qe.Animated,s=yl(Ne,Ye,o);e=e&&d(ye,s);var u=!1;e&&(u=p(ye));var l=a(ye,H,r,i);Qp("BalloonCreated",{Element:l}),Je.balloonDrawTime=he("Done drawing balloon"),me=ln.getTimer(t);var c=function(){Je.balloonShowTime=me("Done showing balloon"),n&&n(Je,l)};!u&&e?m(ye,null,function(){var e=function(){S(ye,h(Ne))};Ae||!N(e)?ze.animate(c):c()},Ne,H,s):ze.animate(c),X.manipulationsForInlineCss(l)}function p(e){var t=ln.getJspParent(e),n=ln.getClientjQuery();return t?(n(t).data("jsp").scrollToElement(e,!0,!1),!0):!1}function g(e,t,n,r,i){return 0==n||2==n?e+t+r>i:e>i}function h(e){var t=yl(e,"endScroll",-1);return t>=0?{distance:parseInt(t,10),unit:yl(e,"scrollUnit","%"),force:yl(e,"forceScroll",0)}:void 0}function m(e,t,n,r,i,o){try{var a,s=o==qe.Animated&&!e.data("iframe")&&1!=yl(r,"scrollOld","0"),u=!1,l=h(r);if(s){a=I(e,i,l);try{C(a,e,l,i,n)&&(u=!0)}catch(c){}}u&&o!=qe.Normal||(a=e,b(a,e,i,l,n))}catch(c){ue.error(c)}}function v(e,t){return"px"==t.unit?t.distance:ah(e).height()*t.distance/100}function y(e,t){if(t&&t.force){var n=v(e,t);return{top:n,bottom:0}}return Tf}function w(e,t,n){return $u(e,t)&&R(e,n)}function b(e,t,n,r,i){var o=y(e,r);w(e,o,n)||T(e,r,!0,null!=t.data("iframe")),i&&i()}function S(e,t){var n=y(e,t);if(!$u(Z,n)){var r=e.offset().top>Z.offset().top;T(Z,t,r)}}function T(e,t,n,r){if(t&&!r)window.scrollTo(0,e.offset().top-v(e,t));else{var i,o,a,s,u,l,c=Lg("dontScrollTopWindow");c&&(u="hidden"===wmjQuery("html").css("overflow"),l="hidden"===wmjQuery("body").css("overflow"),(u||l)&&(i=wmjQuery("html"),o=wmjQuery("body"),a=i.scrollTop(),s=o.scrollTop())),Ae&&Ne.complexHtml&&"table"==Ne.complexHtml.type||e[0].scrollIntoView(n),c&&(u||l)&&(i.scrollTop(a),o.scrollTop(s))}}function I(e,t,n){var r,i=ee[0],o=e,a=ah(e),s=y(e,n),u=e.offset().top<Z.offset().top||e.offset().top+e.height()<Z.offset().top+Z.height(),l=a.top()-0+a.height()-0;!n||1!=t&&3!=t?u?(r=l-s.bottom<=e.offset().top+e.height()+Z.height()+i.height()?"down":"up",o="down"==r?Z:e):(r=a.top()+s.top>=e.offset().top-Z.height()-i.height()?"up":"down",o="down"==r?e:Z):o=e.outerHeight()>Z.height()?e:Z;var c=g(e.height(),Z.height(),t,i.height(),a.height()-0);return c&&(o=Z),o}function C(e,t,n,r,i){function o(o){var a={duration:"slow",rootElement:o,elementToFindScrollableFor:t,complete:function(){i&&i()},heightLimit:!Lg("noHgtLmt")};if(n){var s=Z.height();a.endScroll={scrollOptions:n,balloonHeight:k(t,r,s),totalDrawnHeight:E(t,r,s)}}return e.scrollintoview(a)}return ef.isQuirksMode(ye[0])?!1:o("html")?!0:w(t,y(t,n),r)?!1:o("body")}function E(e,t,n){var r=e.outerHeight(),i=ah(e).height()-0;return g(r,n,t,X.arrowHeight(),i)?n:0==t||2==t?r+n+X.arrowHeight()+1-parseInt(yl(Ne,"topOffset",0)):Math.max(r,n)}function k(e,t,n){var r=e.height(),i=parseInt(yl(Ne,"topOffset",0));return 0==t?n+X.arrowHeight()+1-i:2==t?r+n+X.arrowHeight()+1-i:n>r?n-i:(r-n)/2+n-i}function _(){switch(Xp){case Fd.WAITING_FOR_ELEMENT_EVENT:case Fd.WAITING_FOR_NEXT_BUTTON_CLICK:case Fd.WAITING_FOR_PAGE_CHANGE:return!0;default:return!1}}function x(){P()?(ce("Sticky - keep looking for element.",5),Ml.releaseBalloons(),Xp=Fd.WAITING_FOR_STICKY_ELEMENT,Ml.executeCurrentStep()):A()?(tg=!1,ce("Skippable - continue to next step."),Ml.executeTutorialNextStep()):Xp!=Fd.WAITING_FOR_PAGE_CHANGE&&(ce("Stopping walk-thru."),Ml.releaseBalloons(),Xp=Fd.PAUSED,Qp("WalkthruAborted"),Qp("WalkthruStopped"),zp("TutorialStopped"))}function P(){return yl(bu().Steps[Kp].Settings,"sticky",0)}function A(){return bu().Steps[Kp].IsSkippable}function O(){return Y==fe.STEP_TYPE.Popup}function N(e){var t={top:0,left:0},n=!1,r=!1;if(be){var i=ye.offset();t.top=Math.floor(i.top),t.left=Math.floor(i.left)}else{var o=re.getPosRelativeToWindow(ye[0],window,!0);t.top=o.top,t.left=o.left,B()&&(n=!0)}Ju(ye,t),R(ye,H)||(n=!0);var a=ye.height(),s=ye.width();Ge=null;var u=F(t.top,t.left,a,s);return u&&pe.sync("ShouldChangeBalloonPosition",null,!0)?(r=!0,Lg("moveByIntervals")?M(t,e):(ce("Element position changed, destroying it",5,Hl),j(t.top,t.left,a,s),Ge=re.getElementBounds(ye,be,window,Ne),ve.destroy(!0,function(){ce("Finished destorying balloon",5,Hl),n||$||(ce("Redrawing balloon",5,Hl),ve.Show(!1,function(){Ge=null,e&&e()}))}))):e&&e(),r}function M(e,t){function n(){if(10>r){r++;var i=ye.height(),o=ye.width(),a=parseFloat(He)-parseFloat(o),s=parseFloat(Qe)-parseFloat(i);j(e.top,e.left,i,o),L(Z,a,s);for(var u=0;u<ee.length;u++)L(ee[u],a,s);O()||!Ae&&!oe.shouldShow(ye,Ne)||(oe.highlight(),ae&&ae.highlight()),!le&&se.shouldShow(ye,Ne)&&se.highlight(),de.playSetTimeout(n,30)}else t&&t()}var r=0;n()}function L(e,t,n){var r=parseFloat(e.css("left")),i=parseFloat(e.css("top")),o=r-t+"px",a=i-n+"px";e.css("left",o),e.css("top",a)}function B(){var e=ye.data("iframe");return e&&re.isElementScrolledOut(ye,e,H)}function F(e,t,n,r){return null!=We&&null!=Ve&&null!=Qe&&null!=He&&(We!=e||Ve!=t||Qe!=n||He!=r)}function j(e,t,n,r){We=e,Ve=t,Qe=n,He=r}function R(e,t){if(Lg("disableIEVRTP"))return!0;var n=W(e);if(n)return!0;var r=U(e,t),i=e.parents("div"),o=!1,a=!1,s=!dh(i,function(e){var e=mtjQuery(e);if(!Lg("disableAbsRTP")&&"absolute"==e.css("position"))return o=!0,!0;if(!Lg("disableFixRTP")&&"fixed"==e.css("position"))return a=!0,!0;var t=e.css("overflow"),n=G(t),i=V(r,e);return n&&i});return o||a||s}function U(e,t){var n=e.offset(),r=e.height(),i=e.width(),o={top:n.top,left:n.left};switch(t){case 0:o.left+=i/2;break;case 1:o.top+=r/2,o.left+=i;break;case 2:o.top+=r,o.left+=i/2;break;case 3:o.top+=r/2;break;default:ue.error(new Error("Unknown balloon position"))}return o}function G(e){return"auto"==e||"scroll"==e||"hidden"==e}function W(e){var t=e.css("position");return"absolute"==t||"fixed"==t}function V(e,t){var n=t.offset();return Q(e.top,n.top,t.outerHeight())||Q(e.left,n.left,t.outerWidth())}function Q(e,t,n){var r=t+n;return t>e||e>r}var H,z,Y,q,K,X,J,$,Z,ee,te,ne,re,ie,oe,ae,se,ue,le,ce,de,fe,pe,ge,he,me,ve=this,ye=null,we=null,be=!0,Se=!1,Te=!1,Ie=!1,Ce=!1,Ee="",ke="",_e="",xe="",Pe="",De="",Ae=!1,Oe="",Ne="",Me=0,Le=0,Be=0,Fe=0,je=!1,Re=[],Ue=[],Ge=null,We=null,Ve=null,Qe=null,He=null,ze=null,Ye="scroll",qe={Animated:0,Normal:1,None:2},Ke=800,Xe="displayTO",Je={},$e=!1,Ze="trigger";this.onDestroy=function(e){Re.push(e)},this.setReleaseEvents=function(e){Ue=e},this.releaseEvents=function(e){for(var t,n=0;n<Ue.length;n++)try{Ue[n](e)&&(t=!0)}catch(r){}return t},this.SetTimeoutOn=function(){O()||J||(J=de.playSetTimeout(function(){ve.elementDisplayTimeoutFunction()},200))},this.getArrowHeight=function(){return X.arrowHeight()},this.AddSubmitButton=function(){Ce=!0},this.showNormalBalloon=function(e,t,n,r,i){var o=X.arrowHeight()+1;n=uh(n)?n:gf;var a=re.getDrawingArea(ye,!be),u=Ge||re.getElementBounds(ye,be,window,Ne),l=X.decideWhereToPop(u,t,n,o,a);ge.fixPosition(l,Ne,r),ze.setPosition(l.positionType);var c=yl(Ne,"z-index","2147483630");X.addPositionClass(e,l),ee=X.drawArrows(ye,Be,l,t,u,r),l=s(l,t,u,i,r);var d=Oe.BalloonBorderWidth,f=X.hasBorder()?1:0;e.css("top",l.top-f*d+"px"),e.css("left",l.left-f*d+"px");var p=ef.isQuirksMode(ye[0]);l.positionType==lf.Top&&e.css("top",l.top-2*f*d+1+"px"),l.positionType==lf.Bottom&&e.css("top",l.top-1+"px"),l.positionType==lf.Left&&(e.css("left",l.left-2*f*d+1+"px"),p&&e.css("left",l.left-2*f*d+"px")),l.positionType==lf.Right&&e.css("left",l.left-1+"px"),e.css("width",t.width+"px"),p&&e.css("width",t.width+2*f*d+"px"),e.css("height",t.height+"px"),nh(e,c);for(var g=0;g<ee.length;g++)nh(ee[g],c);p&&X.fixQuirksMode(e),X.fixArrows({balloonDiv:e,arrowsDivs:ee,result:l,isInCaptureMode:Ae,isQuirksMode:p});var h=1==yl(Ne,"isInvisible",0);if(h){e.hide();for(var g=0;g<ee.length;g++)ee[g].hide()}else ze.prepare(e,ee)},this.showPopupBalloon=function(e){var t=yl(Ne,"z-index",cf);e.css({"z-index":t,"min-width":X.minPopupWidth()+"px"});var n=parseInt(yl(Ne,"leftOffset",0)),r=parseInt(yl(Ne,"topOffset",0)),i={top:r,left:n};Ml.centerElementInPage(e,!1,i);var o=dn.canDisplayOverlay(),a=1==yl(Ne,"fadeBackground",1)||1==yl(Ne,"fadeBackground",!0)||"True"==yl(Ne,"fadeBackground","True");o&&a&&dn.displayOverlay(t,!0);var s=ef.isQuirksMode(ye[0]);s&&X.fixQuirksMode(e),ze.prepare(e),ze.postAnimation(function(){D.registerResizeAndScrollEvents({element:e,offset:i})})},this.getBalloonDiv=function(){return Z},this.getElement=function(){return ye},this.getBalloonHTML=function(){return X.generateHtml(r())},this.Show=function(e,n){he=ln.getTimer(t);var r=be?ml(ye):wmjQuery("head"),i=function(){try{O()||!Ae&&!oe.shouldShow(ye,Ne)||(oe.highlight(),ae&&ae.highlight());var t=be?ye:mtjQuery("body"),r=ah(t),i=Me>0?Me:0,o=Le>0?Le:0;if(r.width()<=200?(0==H||2==H||void 0==H)&&(i=r.width()-ye.position().left-20,120>i&&(i=120)):!Lg("noHgtLmt")&&r.height()<=200&&(0==H||2==H||void 0==H)&&(H=1),!Ge){if(be){var a=ye.offset();We=Math.floor(a.top),Ve=Math.floor(a.left)}else{var s=re.getPosRelativeToWindow(ye[0],window,!0);We=s.top,Ve=s.left}Qe=ye.height(),He=ye.width()}!le&&se.shouldShow(ye,Ne)&&se.highlight(),f(e,n,i,o)}catch(u){ue.error(u)}};Ae?i():X.loadResources(r,i)},this.destroy=function(e,t){e||($=!0,u(),l()),c(Z),ze.disableAnimation(),ze.destroy(function(){try{oe.unhighlightElement(ye,"balloon"),ae&&ae.unhighlightElement(we,Ze),se.unhighlightElement(ye,"balloon")}catch(e){ue.error(e,"error removing highlighting elements for balloon")}t&&t()})},this.elementDisplayTimeoutFunction=function(){var e=re.isElementVisible(ye);e?(N(),J=de.playSetTimeout(ve.elementDisplayTimeoutFunction,te)):(ce("Element not visible anymore.",5,Hl),ve.destroy(!1,function(){_()&&x()}))},e.apply(null,arguments)}function pn(e,t,n){function r(){p(n.lib),g(n.balloonData.title),h(n.balloonData.content),m(n.balloonData.customHtml),v(n.balloonData.stepIndexText),y(n.balloonSettings),w(n.balloonSettings.direction),b(n.userGuid),S(n.stepType),l=n.settings,c=n.end}function i(t,n){var r={};if(r.nextButton=r.doneButton=r.backButton=r.submitButton=!1,r.buttonsArr=[],t)for(var i=e.getSettingsValue(l,"popupStepButtons",[]),s=0;s<i.length;s++){var u=i[s];if(0==u.action){var c=o(!1,n.next,n.done,!1);r.nextButton=c.nextButton,r.doneButton=c.doneButton,c.buttonsArr.length>0&&r.buttonsArr.push(c.buttonsArr[0])}else if(2==u.action){var d=o(n.back,!1,!1,!1);r.backButton=d.backButton,d.buttonsArr.length>0&&r.buttonsArr.push(d.buttonsArr[0])}else r.buttonsArr.push(a(u))}else r=o(n.back,n.next,n.done,n.submit);return r}function o(e,n,r,i){var o={},a=t.get();return o.backButton=o.nextButton=o.doneButton=o.submitButton=!1,o.buttonsArr=[],e&&(o.backButton={order:2,weak:!0,classes:E("back","weak"),buttonText:a.BackButtonText},o.buttonsArr.push(o.backButton)),n&&(o.nextButton={order:3,normal:!0,classes:E("next","normal"),buttonText:a.NextButtonText},u()&&(o.nextButton.buttonText=a.DoneButtonText),o.buttonsArr.push(o.nextButton)),r&&(o.doneButton={order:3,normal:!0,classes:E("done","normal"),buttonText:a.DoneButtonText},o.buttonsArr.push(o.doneButton)),i&&(o.submitButton={order:4,normal:!0,classes:E("submit","normal"),buttonText:a.SubmitButtonText},o.buttonsArr.push(o.submitButton)),o}function a(e){var n=e.action||-1,r=e.name||"",i=t.get();switch(parseInt(n)){case 1:return{order:4,normal:!0,classes:s("start","normal"),buttonText:i.WelcomeStepButtonStartText};case 3:return{order:1,weak:!0,classes:s("cancel","weak"),buttonText:i.WelcomeStepButtonCancelText};case 4:return{order:4,normal:!0,classes:E("submit","normal"),buttonText:i.SubmitButtonText};case 5:return{order:4,normal:!0,classes:s("redirect","normal"),buttonText:e.name};case 6:return{order:2,weak:!0,classes:s("stay","weak"),buttonText:e.name};case 7:return{order:4,normal:!0,classes:s("ok","normal"),buttonText:e.name}}return{order:2,normal:!0,classes:"walkme-custom-balloon-button walkme-custom-balloon-normal-button",buttonText:r}}function s(e,t){return"walkme-custom-balloon-button walkme-custom-balloon-"+t+"-button walkme-custom-balloon-"+e+"-button walkme-action-"+e}function u(){var t=e.getSettingsValue(l,"isNextToDone","0");return"1"==t}var l,c,d=jl.create("WalkmeOOP",this),f="display: block; padding: 0; margin: 0;	vertical-align: baseline; border-collapse: inherit; background: none; border-spacing: 1px 1px; line-height: normal; border: none none; height: auto; text-indent: inherit; letter-spacing: normal; text-transform: none; outline: invert none medium; width: auto; box-shadow:none; text-shadow:none; border-top: none; border-right: none; border-bottom: none; border-left: none; position: static; top: auto; left: auto; transition: none;",p=d.Prop.Protected("lib"),g=d.Prop.Protected("title"),h=d.Prop.Protected("content"),m=d.Prop.Protected("customHtml"),v=d.Prop.Protected("stepIndexText"),y=d.Prop.Protected("balloonSettings"),w=d.Prop.Protected("direction"),b=d.Prop.Protected("userGuid"),S=(d.Prop.Protected("contentDiv"),d.Prop.Protected("fixedWidth"),d.Prop.Protected("fixedHeight"),d.Prop.Protected("stepType")),T=d.Prop.Protected("buttons"),I=(d.Virtual.Public("generateHtml",function(){var e=I(),t=C(),n=Dc.to_html(e,t);return n}),d.Virtual.Protected("createHtmlTemplate")),C=d.Virtual.Protected("createTemplateData",function(){var n=1==e.getSettingsValue(l,"displayX",!0)||"True"==e.getSettingsValue(l,"displayX","True")||1==e.getSettingsValue(l,"displayX",1),r={data:{title:g(),content:h(),customHtml:m(),stepIndexText:v(),balloonCloseTooltip:t.get().BalloonCloseTooltip},font:y().Font,cssReset:f,displayX:n,colors:{mainBg:y().Color,minorBg:y().BalloonColor2,border:y().BorderColor,header:y().HeaderColor,content:y().ContentColor,footerText:y().FooterTextColor,buttonBg:y().ButtonBgColor,buttonBg2:y().ButtonBgColor2,buttonBorder:y().ButtonBorderColor,buttonText:y().ButtonTextColor},radiuses:{balloon:y().BalloonRadius+"px",button:y().BalloonButtonRadius+"px"},direction:{basic:w(),side:"rtl"==w()?"right":"left",oppositeSide:"rtl"==w()?"left":"right"},poweredBy:{showText:"txt"==y().showPoweredByFormat,link:y().showPoweredBy?"http://www.walkme.com/?u="+b():""},buttons:T().buttonsArr,border:{size:y().BalloonBorderWidth+"px"}};return r}),E=(d.Virtual.Public("manipulationsForInlineCss",function(){}),d.Protected("getCustomDivHtml",function(e){return"<div class='walkme-custom-balloon-custom-div-"+e+"' style='display:none;' ></div>"}),d.Virtual.Protected("generateNormalButtonClasses",function(e,t){return s(e,t)}));d.Public("initButtons",function(e){var t={back:e.backButton,next:e.nextButton,done:e.doneButton,submit:e.submitButton};T(i(S()==kc.STEP_TYPE.Popup,t))});r.apply(null,arguments)}function gn(e){function t(){}function n(e,t,n,r,o,a,s){t.show();var u=wmjQuery(".walkme-custom-balloon-bottom-div",t),l=u[0]?u[0].offsetHeight:0,c=a,d=parseFloat(n[0].css("top")),f=parseFloat(t.css("top")),p=t[0]?t[0].offsetHeight:0,g=d-f,h=p-l;if(t.hide(),c>h-g&&h>g){var m=f-(h-g+1);t.css("top",m+"px"),i(e,n,o,r.positionType,s)}else g>=h&&i(e,n,o,r.positionType,s)}function r(e,t){t[0].css("border-top-color",e.Color)}function i(t,n,r,i,o){var a=i==e.POSITION_TYPE.Left&&"ltr"==r||i==e.POSITION_TYPE.Right&&"rtl"==r;if(a||o){var s=i==e.POSITION_TYPE.Left?"left":"right";n[0].css("border-"+s+"-color",t.BalloonColor2)}for(var u=0;u<n.length;u++)n[u].addClass("walkme-custom-balloon-arrow-footer")}this.LocalSVNRevision="$Rev$";var o=this;o.finalizeArrowsPosition=function(t,n){switch(t){case e.POSITION_TYPE.Top:n.top--;break;case e.POSITION_TYPE.Bottom:n.top++;break;case e.POSITION_TYPE.Left:n.left--;break;case e.POSITION_TYPE.Right:n.left++}},o.fixArrows=function(t){var i=t.balloonDiv,o=t.arrowsDivs,a=t.result,s=t.isInCaptureMode,u=t.isQuirksMode,l=t.balloonSettings,c=t.arrowBaseWidth,d=l.direction,f=a.positionType==e.POSITION_TYPE.Left||a.positionType==e.POSITION_TYPE.Right;f?n(l,i,o,a,d,c,u):s&&a.positionType==e.POSITION_TYPE.Top&&r(l,o)},t.apply(null,arguments)}function hn(e,t,n){function r(){u.ExtendsInstance(jl.create("BaseBalloon",n)),a=u._base,s=n.balloonSettings}function i(e,t,n){return t="direction:"+t+";",o(e,t,n)}function o(e,t,n){if(e.indexOf(vf)>-1&&e.indexOf(yf)>-1&&e.indexOf(wf)>-1&&e.indexOf(bf)>-1){n="float:"+n+";";var r="<span style='"+n+"'>&nbsp;</span>";e="<div class='walkme-custom-balloon-current-step-text' style='"+t+n+"'>"+e,e=e.replace(vf,"</div>"+r+"<div class='walkme-custom-balloon-current-step-number' style='"+n+"'>"),e=e.replace(yf,"</div>"+r+"<div class='walkme-custom-balloon-total-steps-text' style='"+t+n+"'>"),e=e.replace(wf,"</div>"+r+"<div class='walkme-custom-balloon-total-steps-number' style='"+n+"'>"),e=e.replace(bf,"</div>"),e+="<div style='clear:both;'></div>"}return e}var a,s,u=jl.create("WalkmeOOP",this);u.Override("generateHtml",function(){return a.customHtml()&&a.customHtml().inner||a.generateHtml()}),u.Override("generateNormalButtonClasses",function(e,t){return a.generateNormalButtonClasses(e,t)+" mt-custom-balloon-"+e+"-button CUSTOM-STEP-ID"}),u.Override("createTemplateData",function(){var n=a.createTemplateData();n.outerDiv=a.getCustomDivHtml("outer-div"),n.title=a.getCustomDivHtml("title"),n.content=a.getCustomDivHtml("content"),n.poweredBy.showImage="img"==a.balloonSettings().showPoweredByFormat,n.buttonShadowWidth=a.balloonSettings().ButtonShadowWidth,n.serverName=zf;var r="rtl"==a.direction()?"right":"left";n.data.stepIndexText=i(a.stepIndexText(),a.direction(),r),n.ie7LayoutFix="overflow: auto;zoom: 1;",n.buttonsExist=a.buttons().buttonsArr.length>0,n.showBottomDiv=!("no"==a.balloonSettings().showPoweredByFormat&&0==a.stepIndexText().length),t.fixGradientColorsInConfiguration(s,"ButtonBgColor"),t.fixGradientColorsInConfiguration(s,"ButtonBgColor2");var o=s.ButtonBgColor,u=s.ButtonBgColor2;return o==u?n.BackgroundCSS=" background-color: "+o+"; ":(n.BackgroundCSS="background:-moz-linear-gradient(top, "+o+" , "+u+" ); background:-webkit-gradient(linear, left top, left bottom, color-stop(0%,"+o+"), color-stop(100%,"+u+")); background:-webkit-linear-gradient(top, "+o+" 0%,"+u+" 100%); background:-o-linear-gradient(top, "+o+" 0%,"+u+" 100%); background:-ms-linear-gradient(top, "+o+" 0%,"+u+" 100%); background:linear-gradient(to bottom, "+o+" 0%,"+u+' 100%); filter:progid:DXImageTransform.Microsoft.gradient( startColorstr="'+o+'", endColorstr="'+u+'",GradientType=0 ); ',t.isGradientWithBorderRadiusCompatible()||(n.radiuses.button="0"),e.isGradientUsingFilter(n.BackgroundCSS)&&(n.BackgroundCSS+="background: url("+zf+"/player/resources/images/spacer.gif) repeat;")),n}),u.Override("createHtmlTemplate",function(){var e=function(e,t,n){var r=this;return r.b(n=n||""),r.b(r.t(r.f("outerDiv",e,t,0))),r.b("<div class='walkme-custom-balloon-top-div mt-custom-balloon-top-div CUSTOM-STEP-ID' style='text-align: "),r.b(r.v(r.d("direction.side",e,t,0))),r.b(";padding-top:5px; padding-"),r.b(r.v(r.d("direction.oppositeSide",e,t,0))),r.b(": 3px; padding-bottom: 1px; padding-"),r.b(r.v(r.d("direction.side",e,t,0))),r.b(": 7px;margin:3px 3px 0 3px;direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b(";'><div class='walkme-custom-balloon-content-wrapper' style='min-height: "),r.s(r.f("buttonsExist",e,t,1),e,t,0,388,390,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("30")}),e.pop()),r.s(r.f("buttonsExist",e,t,1),e,t,1,0,0,"")||r.b("0"),r.b("px;'>"),r.s(r.f("displayX",e,t,1),e,t,0,460,818,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<div class='walkme-custom-balloon-close-button walkme-action-close mt-custom-balloon-close-button CUSTOM-STEP-ID walkme-action-close' style='opacity:0.7; font-size: 16px; position: absolute; top: 2px; "),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b(": 8px; cursor: pointer;color:"),n.b(n.v(n.d("colors.content",e,t,0))),n.b(";font-weight:normal;font-family:;' title='"),n.b(n.v(n.d("data.balloonCloseTooltip",e,t,0))),n.b("'>&#215;</div>")}),e.pop()),r.b("<div class='walkme-custom-balloon-title mt-custom-balloon-title CUSTOM-STEP-ID' style='text-align: "),r.b(r.v(r.d("direction.side",e,t,0))),r.b(";font-weight:bold;margin-top:2px;margin-"),r.b(r.v(r.d("direction.oppositeSide",e,t,0))),r.b(":14px;font-size:15px;color:"),r.b(r.v(r.d("colors.header",e,t,0))),r.b(";font-family:"),r.b(r.t(r.f("font",e,t,0))),r.b(";'>"),r.b(r.t(r.f("title",e,t,0))),r.b(r.t(r.d("data.title",e,t,0))),r.b("</div>"),r.s(r.d("data.content",e,t,1),e,t,0,1134,1429,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<div class='walkme-custom-balloon-content mt-custom-balloon-content CUSTOM-STEP-ID' style='text-align: "),n.b(n.v(n.d("direction.side",e,t,0))),n.b(";margin-top: 4px; margin-"),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b(": 6px; font-family:"),n.b(n.v(n.f("font",e,t,0))),n.b(";font-size:14px;color:"),n.b(n.v(n.d("colors.content",e,t,0))),n.b(";"),n.b(n.v(n.f("ie7LayoutFix",e,t,0))),n.b("'>"),n.b(n.t(n.f("content",e,t,0))),n.b(n.t(n.d("data.content",e,t,0))),n.b("</div>")}),e.pop()),r.b("</div><div class='walkme-custom-balloon-top-div-bottom mt-custom-balloon-top-div-bottom CUSTOM-STEP-ID' style='clear: both;'>"),r.s(r.f("buttonsExist",e,t,1),e,t,1,0,0,"")||r.b("<div class='walkme-custom-balloon-no-buttons-div' style='height: 10px'></div>"),r.s(r.f("buttonsExist",e,t,1),e,t,0,1699,2702,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<div class='walkme-custom-balloon-buttons-div mt-custom-balloon-buttons-div CUSTOM-STEP-ID' style='clear:both;padding:5px;text-align:"),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b(";direction:"),n.b(n.v(n.d("direction.basic",e,t,0))),n.b("'>"),n.s(n.f("buttons",e,t,1),e,t,0,1902,2684,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("<button class='"),n.b(n.v(n.f("classes",e,t,0))),n.b("' type='button' style='"),n.b(n.t(n.f("cssReset",e,t,0))),n.b(";-moz-border-radius:"),n.b(n.v(n.d("radiuses.button",e,t,0))),n.b("; -webkit-border-radius:"),n.b(n.v(n.d("radiuses.button",e,t,0))),n.b("; border-radius:"),n.b(n.v(n.d("radiuses.button",e,t,0))),n.b("; direction: "),n.b(n.v(n.d("direction.basic",e,t,0))),n.b(";"),n.b(n.v(n.f("BackgroundCSS",e,t,0))),n.b("-moz-box-shadow: 0 0 "),n.b(n.v(n.f("buttonShadowWidth",e,t,0))),n.b("px rgba(0, 0, 0, 0.4); -webkit-box-shadow: 0 0 "),n.b(n.v(n.f("buttonShadowWidth",e,t,0))),n.b("px rgba(0, 0, 0, 0.4); box-shadow: 0 0 "),n.b(n.v(n.f("buttonShadowWidth",e,t,0))),n.b("px rgba(0, 0, 0, 0.4); border: 1px solid "),n.b(n.v(n.d("colors.buttonBorder",e,t,0))),n.b("; color: "),n.b(n.v(n.d("colors.buttonText",e,t,0))),n.b("; cursor: pointer; display: inline-block; float: none; font-size: 14px; font-weight: normal; font-family: Arial; margin-"),n.b(n.v(n.d("direction.side",e,t,0))),n.b(": 6px; padding: 2px 14px; text-align: center; text-decoration: none; position: static; overflow: visible;' "),n.b(n.v(n.f("wtIdAttribute",e,t,0))),n.b(">"),n.b(n.t(n.f("buttonText",e,t,0))),n.b("</button>")}),e.pop()),n.b("</div>")}),e.pop()),r.b("</div></div>"),r.s(r.f("showBottomDiv",e,t,1),e,t,0,2749,4329,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<div class='walkme-custom-balloon-separator' style='display: block; margin: 0 10px; height: 1px; opacity: 0.2; filter: alpha(opacity=20); background-color: "),n.b(n.v(n.d("colors.footerText",e,t,0))),n.b("; line-height: 0px;'>&#160;</div><div class='walkme-custom-balloon-bottom-div' style='position: relative; height: 23px; display: block;'><div class='walkme-custom-balloon-subtext mt-custom-balloon-subtext CUSTOM-STEP-ID' style='text-align: "),n.b(n.v(n.d("direction.side",e,t,0))),n.b("; position: absolute; "),n.b(n.v(n.d("direction.side",e,t,0))),n.b(": 10px; display:inline-block;font-family: "),n.b(n.t(n.f("font",e,t,0))),n.b(";font-size:10px;margin-top:3px;margin-bottom:0px;color: "),n.b(n.v(n.d("colors.footerText",e,t,0))),n.b("'>"),n.b(n.t(n.d("data.stepIndexText",e,t,0))),n.b("</div><div class='walkme-custom-balloon-powered-by-div mt-custom-balloon-powered-by-div CUSTOM-STEP-ID' style='display:inline-block;position: absolute; "),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b(": 10px; top: 3px;text-decoration:none;font-family:"),n.b(n.t(n.f("font",e,t,0))),n.b(";font-size:10px;opacity: 0.9; width:100px; color:"),n.b(n.v(n.d("color.content",e,t,0))),n.b(";text-align: "),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b(" '>"),n.s(n.d("poweredBy.link",e,t,1),e,t,0,3744,3993,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("<a class='walkme-custom-balloon-powered-by-link mt-custom-balloon-powered-by-link CUSTOM-STEP-ID' href='"),n.b(n.v(n.d("poweredBy.link",e,t,0))),n.b("' target='_blank' style='text-decoration:none;font-family:"),n.b(n.t(n.f("font",e,t,0))),n.b(";font-size:10px;opacity: 0.9; color:"),n.b(n.v(n.d("colors.footerText",e,t,0))),n.b("'>")}),e.pop()),n.s(n.d("poweredBy.showText",e,t,1),e,t,0,4035,4048,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("By WalkMe.com")}),e.pop()),n.s(n.d("poweredBy.showImage",e,t,1),e,t,0,4095,4251,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("<div title='WalkMe.com' style='border: none; background-image: url("),n.b(n.v(n.f("serverName",e,t,0))),n.b("/player/resources/images/by-walkme.png); width: 49px; height: 18px;'></div>")}),e.pop()),n.s(n.d("poweredBy.link",e,t,1),e,t,0,4294,4298,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("</a>")}),e.pop()),n.b("</div></div>")}),e.pop()),r.fl()};return e});r.apply(null,arguments)}function mn(e,t,n,r){function i(){u.ExtendsInstance(jl.create("BaseBalloon",r)),s=u._base}function o(){s.buttons().buttonsArr.sort(function(e,t){return e.order-t.order})}function a(e){var t=function(e,t,n){var r=this;return r.b(n=n||""),r.s(r.f("buttons",e,t,1),e,t,0,12,906,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<button class='"),n.b(n.v(n.f("classes",e,t,0))),n.b(" walkme-click-and-hover' type='button' style='"),n.b(n.t(n.f("cssReset",e,t,0))),n.b(" zoom: 1; border: none; margin-top: 6px; margin-bottom: 6px; height: 21px; font-family: inherit; cursor: pointer; display: inline-block; direction: "),n.b(n.v(n.d("direction.basic",e,t,0))),n.b(";"),n.s(n.f("normal",e,t,1),e,t,0,277,513,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("text-align:center; background-color: "),n.b(n.v(n.d("colors.buttonBg",e,t,0))),n.b("; color: "),n.b(n.v(n.d("colors.buttonText",e,t,0))),n.b("; border-radius:"),n.b(n.v(n.d("radiuses.button",e,t,0))),n.b("; margin-"),n.b(n.v(n.d("direction.side",e,t,0))),n.b(": 7px; "),n.s(n.f("isNotIe7",e,t,1),e,t,0,445,461,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("min-width: 42px;")}),e.pop()),n.b(" padding-left: 5px; padding-right: 5px;")}),e.pop()),n.s(n.f("weak",e,t,1),e,t,0,533,690,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("text-align:"),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b("; background:none; color: "),n.b(n.v(n.d("colors.footerText",e,t,0))),n.b("; margin-"),n.b(n.v(n.d("direction.side",e,t,0))),n.b(": 3px; margin-"),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b(": 2px;")}),e.pop()),n.b("'><span class='walkme-custom-balloon-button-text' style='"),n.b(n.t(n.f("cssReset",e,t,0))),n.b(" direction: "),n.b(n.v(n.d("direction.basic",e,t,0))),n.b("; text-align:center; font-size: 10px; position:relative; color:inherit;'>"),n.b(n.t(n.f("buttonText",e,t,0))),n.b("</span></button>")}),e.pop()),r.s(r.f("buttons",e,t,1),e,t,1,0,0,"")||(r.b("<div class='walkme-custom-balloon-no-buttons-div' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b("'></div>"),r.s(r.d("poweredBy.link",e,t,1),e,t,0,1028,1546,"{{ }}")&&(r.rs(e,t,function(e,t,n){
n.s(n.d("poweredBy.showText",e,t,1),e,t,0,1051,1523,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("<div class='walkme-custom-powered-by-div' style='"),n.b(n.t(n.f("cssReset",e,t,0))),n.b(" cursor: pointer; margin-top:6px; margin-bottom:6px; color:"),n.b(n.v(n.d("colors.footerText",e,t,0))),n.b("; font-size:9px; display: inline-block; text-align: "),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b("'><a draggable='false' class='walkme-custom-powered-by walkme-click-and-hover' style='"),n.b(n.t(n.f("cssReset",e,t,0))),n.b(" text-decoration:none; font-size: inherit; color:"),n.b(n.v(n.d("colors.footerText",e,t,0))),n.b("; display: inline;' href='"),n.b(n.v(n.d("poweredBy.link",e,t,0))),n.b("' target='_blank'>By WalkMe</a></div>")}),e.pop())}),e.pop())),r.fl()},n=Dc.to_html(t,e);return n}var s,u=jl.create("WalkmeOOP",this),l=8,c=u.Prop.Public("contentMargin",15);u.Override("manipulationsForInlineCss",function(e){if(!ef.isIE(8,"lte")){var t=s.balloonSettings();n.addClickAndHover({regularColor:t.ButtonBgColor,hoverColor:t.ButtonBgHoverColor,clickColor:t.ButtonBgClickColor,cssProperty:"background-color",elemSelector:".walkme-custom-balloon-normal-button",balloonDiv:e}),n.addClickAndHover({regularColor:t.FooterTextColor,hoverColor:t.FooterTextHoverColor,clickColor:t.FooterTextClickColor,cssProperty:"color",elemSelector:".walkme-custom-powered-by",balloonDiv:e}),n.addClickAndHover({regularColor:t.XButtonColor,hoverColor:t.XButtonHoverColor,clickColor:t.XButtonClickColor,cssProperty:"color",elemSelector:".walkme-custom-balloon-close-button",balloonDiv:e}),n.addClickAndHover({regularColor:t.FooterTextColor,hoverColor:t.FooterTextHoverColor,clickColor:t.FooterTextClickColor,cssProperty:"color",elemSelector:".walkme-custom-balloon-weak-button",balloonDiv:e})}}),u.Override("createTemplateData",function(){var n=s.createTemplateData();n.outerDiv=s.getCustomDivHtml("inner-div"),n.title=s.getCustomDivHtml("title"),n.colors.xBtn=s.balloonSettings().XButtonColor,n.colors.stepInfo=s.balloonSettings().StepInfoColor,n.colors.separator=s.balloonSettings().SeparatorColor,n.stepIndexHeight=46,n.top={minHeight:57,textAlign:n.direction.side,title:{paddingTop:12},content:{sideMargin:c(),oppositeSideMargin:c()-2}},n.data.title&&!n.data.content&&(n.top.minHeight=43),n.bottom={},n.bottom.stepIndexMarginTop=10,e.isDefined(n.buttons)&&0!=n.buttons.length||(n.stepIndexHeight-=l,n.bottom.stepIndexMarginTop-=l/2),n.stepIndexHeight+="px",n.bottom.poweredByHeight+="px",n.xBtn={marginTop:s.balloonSettings().BalloonBorderWidth+"px",marginHorizental:parseInt(s.balloonSettings().BalloonBorderWidth)+4+"px"};var r=s.balloonSettings().BalloonBorderWidth-4;return 0>r&&(r=0),n.border.side={size:r+"px"},n.shadow=t.calculate(s.balloonSettings().ShadowType,s.balloonSettings().ShadowLevel,s.balloonSettings().ShadowColor),n.isNotIe7=!ef.isIEBrowser(7),o(),n.buttonsHtml=a(n),n}),u.Override("createHtmlTemplate",function(){var e=function(e,t,n){var r=this;return r.b(n=n||""),r.b("<div class='walkme-custom-balloon-outer-div walkme-custom-balloon-v3' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" width: auto; min-width: 190px; position: absolute; direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b(";'><div class='walkme-custom-balloon-mid-div' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b("; position: relative; "),r.s(r.f("shadow",e,t,1),e,t,0,304,388,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("-webkit-box-shadow: "),n.b(n.v(n.f("shadow",e,t,0))),n.b("; -moz-box-shadow: "),n.b(n.v(n.f("shadow",e,t,0))),n.b("; box-shadow: "),n.b(n.v(n.f("shadow",e,t,0))),n.b(";")}),e.pop()),r.b(" font-family: "),r.b(r.t(r.f("font",e,t,0))),r.b("; border-radius:"),r.b(r.v(r.d("radiuses.balloon",e,t,0))),r.b("; overflow: hidden;'><div class='walkme-custom-balloon-inner-div' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b("; background-color:"),r.b(r.v(r.d("colors.mainBg",e,t,0))),r.b("; border:"),r.b(r.v(r.d("border.size",e,t,0))),r.b(" solid "),r.b(r.v(r.d("colors.border",e,t,0))),r.b("; border-radius:"),r.b(r.v(r.d("radiuses.balloon",e,t,0))),r.b("; border-"),r.b(r.v(r.d("position.side",e,t,0))),r.b(": none; overflow: hidden;'>"),r.s(r.d("data.customHtml.inner",e,t,1),e,t,0,776,803,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.t(n.d("data.customHtml.inner",e,t,0)))}),e.pop()),r.s(r.d("data.customHtml.inner",e,t,1),e,t,1,0,0,"")||(r.b(r.t(r.f("outerDiv",e,t,0))),r.b("<div class='walkme-custom-balloon-top-div' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b("; background-color:"),r.b(r.v(r.d("colors.mainBg",e,t,0))),r.b("; border-radius:"),r.b(r.v(r.d("radiuses.balloon",e,t,0))),r.b(";'><div class='walkme-custom-balloon-content-wrapper' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b("; min-height: "),r.b(r.v(r.d("top.minHeight",e,t,0))),r.b("px;'>"),r.s(r.f("displayX",e,t,1),e,t,0,1191,1589,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<div class='walkme-click-and-hover walkme-custom-balloon-close-button walkme-action-close' style='"),n.b(n.t(n.f("cssReset",e,t,0))),n.b(" font-size: 12px; color: "),n.b(n.v(n.d("colors.xBtn",e,t,0))),n.b("; position: absolute; "),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b(": 0px; top: 0px; padding-"),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b(": "),n.b(n.v(n.d("xBtn.marginHorizental",e,t,0))),n.b("; margin-top: "),n.b(n.v(n.d("xBtn.marginTop",e,t,0))),n.b("; cursor: pointer;font-weight:normal;' title='"),n.b(n.v(n.d("data.balloonCloseTooltip",e,t,0))),n.b("'>&#215;</div>")}),e.pop()),r.b("<div class='walkme-custom-balloon-title' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b("; padding-top:"),r.b(r.v(r.d("top.title.paddingTop",e,t,0))),r.b("px; padding-"),r.b(r.v(r.d("direction.side",e,t,0))),r.b(": 15px; padding-"),r.b(r.v(r.d("direction.oppositeSide",e,t,0))),r.b(": 13px; text-align: "),r.b(r.v(r.d("top.textAlign",e,t,0))),r.b("; font-size:14px; color:"),r.b(r.v(r.d("colors.header",e,t,0))),r.b(";'>"),r.b(r.t(r.d("data.title",e,t,0))),r.b(r.t(r.f("title",e,t,0))),r.b("</div>"),r.s(r.d("data.content",e,t,1),e,t,0,1936,2320,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<div class='walkme-custom-balloon-content' style='"),n.b(n.t(n.f("cssReset",e,t,0))),n.b(" direction: "),n.b(n.v(n.d("direction.basic",e,t,0))),n.b("; text-align: "),n.b(n.v(n.d("top.textAlign",e,t,0))),n.b("; margin-top: 2px; margin-"),n.b(n.v(n.d("direction.side",e,t,0))),n.b(": "),n.b(n.v(n.d("top.content.sideMargin",e,t,0))),n.b("px; margin-"),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b(": "),n.b(n.v(n.d("top.content.oppositeSideMargin",e,t,0))),n.b("px; line-height: 18px; font-size:12px; color:"),n.b(n.v(n.d("colors.content",e,t,0))),n.b(";overflow: auto;zoom: 1;'>"),n.b(n.t(n.d("data.content",e,t,0))),n.b("</div>")}),e.pop()),r.b("</div></div><div class='walkme-custom-balloon-separator' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" background-color:"),r.b(r.v(r.d("colors.separator",e,t,0))),r.b(";  height:1px; margin-top:10px;  font-family: Arial; font-size: 1px;'></div><div class='walkme-custom-balloon-bottom-div' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" background-color:"),r.b(r.v(r.d("colors.minorBg",e,t,0))),r.b(";'><div class='walkme-custom-balloon-subtext' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" color: "),r.b(r.v(r.d("colors.stepInfo",e,t,0))),r.b("; font-size: 9px; margin-top: "),r.b(r.v(r.d("bottom.stepIndexMarginTop",e,t,0))),r.b("px; margin-"),r.b(r.v(r.d("direction.side",e,t,0))),r.b(": 10px; float: "),r.b(r.v(r.d("direction.side",e,t,0))),r.b(";'>"),r.b(r.t(r.d("data.stepIndexText",e,t,0))),r.b("</div><div class='walkme-custom-balloon-top-div-bottom' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" text-align: "),r.b(r.v(r.d("direction.oppositeSide",e,t,0))),r.b("; direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b(";'><div class='walkme-custom-balloon-buttons-wrapper' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" text-align: "),r.b(r.v(r.d("direction.oppositeSide",e,t,0))),r.b("; direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b("; margin-"),r.b(r.v(r.d("direction.oppositeSide",e,t,0))),r.b(": 6px;'>"),r.b(r.t(r.f("buttonsHtml",e,t,0))),r.b("</div></div><div class='walkme-custom-balloon-bottom-clear' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" clear: both'></div></div>")),r.b("</div><div class='walkme-custom-side-border' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" background-color:"),r.b(r.v(r.d("colors.buttonBg",e,t,0))),r.b("; width: 4px; height: 100%;  top:0px; "),r.b(r.v(r.d("direction.side",e,t,0))),r.b(":0px; border:"),r.b(r.v(r.d("border.side.size",e,t,0))),r.b(" solid "),r.b(r.v(r.d("colors.buttonBg",e,t,0))),r.b("; border-"),r.b(r.v(r.d("direction.oppositeSide",e,t,0))),r.b(": none; border-top: none; border-bottom: none; position: absolute;'></div></div>"),r.s(r.d("data.customHtml.outter",e,t,1),e,t,0,3721,3749,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.t(n.d("data.customHtml.outter",e,t,0)))}),e.pop()),r.b("</div>"),r.fl()};return e});i.apply(null,arguments)}function vn(e,t){function n(){i.ExtendsInstance(jl.create("BaseBalloon",t)),r=i._base}var r,i=jl.create("WalkmeOOP",this),o=i.Prop.Public("contentMargin",15);i.Override("manipulationsForInlineCss",function(e){if(!ef.isIE(8,"lte")){r.balloonSettings()}}),i.Override("createTemplateData",function(){var t=r.createTemplateData();return t.outerDiv=r.getCustomDivHtml("inner-div"),t.colors.xBtn=r.balloonSettings().XButtonColor,t.top={minHeight:30,textAlign:t.direction.side,content:{sideMargin:o(),oppositeSideMargin:o()-2}},t.shadow=e.calculate(r.balloonSettings().ShadowType,r.balloonSettings().ShadowLevel,r.balloonSettings().ShadowColor),t.isNotIe7=!ef.isIEBrowser(7),t}),i.Override("createHtmlTemplate",function(){var e=function(e,t,n){var r=this;return r.b(n=n||""),r.b("<div class='walkme-tooltip-outer-div walkme-tooltip-v1' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" width: auto; min-width: 120px; position: absolute; direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b(";'><div class='walkme-tooltip-mid-div' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b("; position: relative; "),r.s(r.f("shadow",e,t,1),e,t,0,283,367,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("-webkit-box-shadow: "),n.b(n.v(n.f("shadow",e,t,0))),n.b("; -moz-box-shadow: "),n.b(n.v(n.f("shadow",e,t,0))),n.b("; box-shadow: "),n.b(n.v(n.f("shadow",e,t,0))),n.b(";")}),e.pop()),r.b(" font-family: "),r.b(r.t(r.f("font",e,t,0))),r.b("; border-radius:"),r.b(r.v(r.d("radiuses.balloon",e,t,0))),r.b("; overflow: hidden;'><div class='walkme-tooltip-inner-div' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b("; background-color:"),r.b(r.v(r.d("colors.mainBg",e,t,0))),r.b("; border:"),r.b(r.v(r.d("border.size",e,t,0))),r.b(" solid "),r.b(r.v(r.d("colors.border",e,t,0))),r.b("; border-radius:"),r.b(r.v(r.d("radiuses.balloon",e,t,0))),r.b("; border-"),r.b(r.v(r.d("position.side",e,t,0))),r.b(": none; overflow: hidden;'>"),r.b(r.t(r.f("outerDiv",e,t,0))),r.b("<div class='walkme-tooltip-top-div' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b("; background-color:"),r.b(r.v(r.d("colors.mainBg",e,t,0))),r.b("; border-radius:"),r.b(r.v(r.d("radiuses.balloon",e,t,0))),r.b(";'><div class='walkme-tooltip-content-wrapper' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b("; min-height: "),r.b(r.v(r.d("top.minHeight",e,t,0))),r.b("px;'>"),r.s(r.d("data.content",e,t,1),e,t,0,1048,1425,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<div class='walkme-tooltip-content' style='"),n.b(n.t(n.f("cssReset",e,t,0))),n.b(" direction: "),n.b(n.v(n.d("direction.basic",e,t,0))),n.b("; text-align: "),n.b(n.v(n.d("top.textAlign",e,t,0))),n.b("; margin-top: 2px; margin-"),n.b(n.v(n.d("direction.side",e,t,0))),n.b(": "),n.b(n.v(n.d("top.content.sideMargin",e,t,0))),n.b("px; margin-"),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b(": "),n.b(n.v(n.d("top.content.oppositeSideMargin",e,t,0))),n.b("px; line-height: 18px; font-size:12px; color:"),n.b(n.v(n.d("colors.content",e,t,0))),n.b(";overflow: auto;zoom: 1;'>"),n.b(n.t(n.d("data.content",e,t,0))),n.b("</div>")}),e.pop()),r.b("</div></div></div></div></div>"),r.fl()};return e});n.apply(null,arguments)}function yn(e,t,n,r){function i(){u.ExtendsInstance(jl.create("BaseBalloon",r)),s=u._base}function o(){s.buttons().buttonsArr.sort(function(e,t){return e.order-t.order})}function a(e){var t=function(e,t,n){var r=this;return r.b(n=n||""),r.s(r.f("buttons",e,t,1),e,t,0,12,920,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<button class='"),n.b(n.v(n.f("classes",e,t,0))),n.b(" walkme-click-and-hover' type='button' style='"),n.b(n.t(n.f("cssReset",e,t,0))),n.b(" zoom: 1; border: none; margin-top: 6px; margin-bottom: 6px; height: 25px; font-family: inherit; cursor: pointer; display: inline-block; direction: "),n.b(n.v(n.d("direction.basic",e,t,0))),n.b(";"),n.s(n.f("normal",e,t,1),e,t,0,277,513,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("text-align:center; background-color: "),n.b(n.v(n.d("colors.buttonBg",e,t,0))),n.b("; color: "),n.b(n.v(n.d("colors.buttonText",e,t,0))),n.b("; border-radius:"),n.b(n.v(n.d("radiuses.button",e,t,0))),n.b("; margin-"),n.b(n.v(n.d("direction.side",e,t,0))),n.b(": 7px; "),n.s(n.f("isNotIe7",e,t,1),e,t,0,445,461,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("min-width: 42px;")}),e.pop()),n.b(" padding-left: 7px; padding-right: 7px;")}),e.pop()),n.s(n.f("weak",e,t,1),e,t,0,533,704,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("text-align:"),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b("; background:none; float: left; color: "),n.b(n.v(n.d("colors.footerText",e,t,0))),n.b("; margin-"),n.b(n.v(n.d("direction.side",e,t,0))),n.b(": 10px; margin-"),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b(": 2px;")}),e.pop()),n.b("'><span class='walkme-custom-balloon-button-text' style='"),n.b(n.t(n.f("cssReset",e,t,0))),n.b(" direction: "),n.b(n.v(n.d("direction.basic",e,t,0))),n.b("; text-align:center; font-size: 12px; position:relative; color:inherit;'>"),n.b(n.t(n.f("buttonText",e,t,0))),n.b("</span></button>")}),e.pop()),r.s(r.f("buttons",e,t,1),e,t,1,0,0,"")||(r.b("<div class='walkme-custom-balloon-no-buttons-div' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b("'></div>"),r.s(r.d("poweredBy.link",e,t,1),e,t,0,1042,1581,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.s(n.d("poweredBy.showText",e,t,1),e,t,0,1065,1558,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("<div class='walkme-custom-powered-by-div' style='"),n.b(n.t(n.f("cssReset",e,t,0))),n.b(" cursor: pointer; margin-top: 11px; margin-bottom:6px; margin-right: 5px; color:"),n.b(n.v(n.d("colors.footerText",e,t,0))),n.b("; font-size:9px; display: inline-block; text-align: "),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b("'><a draggable='false' class='walkme-custom-powered-by walkme-click-and-hover' style='"),n.b(n.t(n.f("cssReset",e,t,0))),n.b(" text-decoration:none; font-size: inherit; color:"),n.b(n.v(n.d("colors.footerText",e,t,0))),n.b("; display: inline;' href='"),n.b(n.v(n.d("poweredBy.link",e,t,0))),n.b("' target='_blank'>By WalkMe</a></div>")}),e.pop())}),e.pop())),r.fl()},n=Dc.to_html(t,e);return n}var s,u=jl.create("WalkmeOOP",this),l=8,c=5,d=u.Prop.Public("contentMargin",15);u.Override("manipulationsForInlineCss",function(e){if(!ef.isIE(8,"lte")){var t=s.balloonSettings();n.addClickAndHover({regularColor:t.ButtonBgColor,hoverColor:t.ButtonBgHoverColor,clickColor:t.ButtonBgClickColor,cssProperty:"background-color",elemSelector:".walkme-custom-balloon-normal-button",balloonDiv:e}),n.addClickAndHover({regularColor:t.FooterTextColor,hoverColor:t.FooterTextHoverColor,clickColor:t.FooterTextClickColor,cssProperty:"color",elemSelector:".walkme-custom-powered-by",balloonDiv:e}),n.addClickAndHover({regularColor:t.XButtonColor,hoverColor:t.XButtonHoverColor,clickColor:t.XButtonClickColor,cssProperty:"color",elemSelector:".walkme-custom-balloon-close-button",balloonDiv:e}),n.addClickAndHover({regularColor:t.FooterTextColor,hoverColor:t.FooterTextHoverColor,clickColor:t.FooterTextClickColor,cssProperty:"color",elemSelector:".walkme-custom-balloon-weak-button",balloonDiv:e})}}),u.Override("createTemplateData",function(){var n=s.createTemplateData();return n.outerDiv=s.getCustomDivHtml("inner-div"),n.title=s.getCustomDivHtml("title"),n.colors.xBtn=s.balloonSettings().XButtonColor,n.colors.stepInfo=s.balloonSettings().StepInfoColor,n.colors.separator=s.balloonSettings().SeparatorColor,n.stepIndexHeight=46,n.top={minHeight:57,textAlign:n.direction.side,title:{paddingTop:12},content:{sideMargin:d(),oppositeSideMargin:d()-2}},n.data.title&&!n.data.content&&(n.top.minHeight=43),n.bottom={},n.bottom.stepIndexMarginTop=10,e.isDefined(n.buttons)&&0!=n.buttons.length||(n.stepIndexHeight-=l,n.bottom.stepIndexMarginTop-=l/2),n.stepIndexHeight+="px",n.bottom.poweredByHeight+="px",n.xBtn={marginTop:s.balloonSettings().BalloonBorderWidth-c+"px",marginHorizental:parseInt(s.balloonSettings().BalloonBorderWidth)+4+"px"},n.shadow=t.calculate(s.balloonSettings().ShadowType,s.balloonSettings().ShadowLevel,s.balloonSettings().ShadowColor),n.isNotIe7=!ef.isIEBrowser(7),o(),n.buttonsHtml=a(n),n}),u.Override("createHtmlTemplate",function(){var e=function(e,t,n){var r=this;return r.b(n=n||""),r.b("<div class='walkme-custom-balloon-outer-div walkme-custom-balloon-vm1' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" width: auto; min-width: 190px; position: absolute; direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b(";'><div class='walkme-custom-balloon-mid-div' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b("; position: relative; "),r.s(r.f("shadow",e,t,1),e,t,0,305,389,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("-webkit-box-shadow: "),n.b(n.v(n.f("shadow",e,t,0))),n.b("; -moz-box-shadow: "),n.b(n.v(n.f("shadow",e,t,0))),n.b("; box-shadow: "),n.b(n.v(n.f("shadow",e,t,0))),n.b(";")}),e.pop()),r.b(" font-family: "),r.b(r.t(r.f("font",e,t,0))),r.b("; border-radius:"),r.b(r.v(r.d("radiuses.balloon",e,t,0))),r.b("; overflow: hidden;'><div class='walkme-custom-balloon-inner-div' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b("; background-color:"),r.b(r.v(r.d("colors.mainBg",e,t,0))),r.b("; border:"),r.b(r.v(r.d("border.size",e,t,0))),r.b(" solid "),r.b(r.v(r.d("colors.buttonBg",e,t,0))),r.b("; border-radius:"),r.b(r.v(r.d("radiuses.balloon",e,t,0))),r.b("; border-"),r.b(r.v(r.d("position.side",e,t,0))),r.b(": none; overflow: hidden;'>"),r.s(r.d("data.customHtml.inner",e,t,1),e,t,0,779,806,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.t(n.d("data.customHtml.inner",e,t,0)))}),e.pop()),r.s(r.d("data.customHtml.inner",e,t,1),e,t,1,0,0,"")||(r.b(r.t(r.f("outerDiv",e,t,0))),r.b("<div class='walkme-custom-balloon-top-div' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b("; background-color:"),r.b(r.v(r.d("colors.mainBg",e,t,0))),r.b("; border-radius:"),r.b(r.v(r.d("radiuses.balloon",e,t,0))),r.b(";'><div class='walkme-custom-balloon-content-wrapper' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b("; min-height: "),r.b(r.v(r.d("top.minHeight",e,t,0))),r.b("px;'>"),r.s(r.f("displayX",e,t,1),e,t,0,1194,1715,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<div class='walkme-click-and-hover walkme-custom-balloon-close-button walkme-action-close' style='"),n.b(n.t(n.f("cssReset",e,t,0))),n.b(" border-radius: 20px; font-size: 23px; color: "),n.b(n.v(n.d("colors.xBtn",e,t,0))),n.b("; position: absolute; "),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b(": 0px; top: 0px; padding-"),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b(": "),n.b(n.v(n.d("xBtn.marginHorizental",e,t,0))),n.b("; padding-"),n.b(n.v(n.d("direction.side",e,t,0))),n.b(": 18px; padding-bottom: 6px; margin-top: "),n.b(n.v(n.d("xBtn.marginTop",e,t,0))),n.b("; cursor: pointer;font-weight:normal; -webkit-tap-highlight-color: rgba(0, 0, 0, 0);' title='"),n.b(n.v(n.d("data.balloonCloseTooltip",e,t,0))),n.b("'>&#215;</div>")}),e.pop()),r.b("<div class='walkme-custom-balloon-title' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" line-height: 30px; direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b("; padding-top:"),r.b(r.v(r.d("top.title.paddingTop",e,t,0))),r.b("px; padding-"),r.b(r.v(r.d("direction.side",e,t,0))),r.b(": 15px; padding-"),r.b(r.v(r.d("direction.oppositeSide",e,t,0))),r.b(": 13px; text-align: "),r.b(r.v(r.d("top.textAlign",e,t,0))),r.b("; font-size: 16px; color:"),r.b(r.v(r.d("colors.header",e,t,0))),r.b(";'>"),r.b(r.t(r.d("data.title",e,t,0))),r.b(r.t(r.f("title",e,t,0))),r.b("</div>"),r.s(r.d("data.content",e,t,1),e,t,0,2082,2468,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<div class='walkme-custom-balloon-content' style='"),n.b(n.t(n.f("cssReset",e,t,0))),n.b(" direction: "),n.b(n.v(n.d("direction.basic",e,t,0))),n.b("; text-align: "),n.b(n.v(n.d("top.textAlign",e,t,0))),n.b("; margin-top: 2px; margin-"),n.b(n.v(n.d("direction.side",e,t,0))),n.b(": "),n.b(n.v(n.d("top.content.sideMargin",e,t,0))),n.b("px; margin-"),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b(": "),n.b(n.v(n.d("top.content.oppositeSideMargin",e,t,0))),n.b("px; line-height: 18px; font-size:13px; color:"),n.b(n.v(n.d("colors.content",e,t,0))),n.b(";overflow: hidden;zoom: 1;'>"),n.b(n.t(n.d("data.content",e,t,0))),n.b("</div>")}),e.pop()),r.b("</div></div><div class='walkme-custom-balloon-separator' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" background-color:"),r.b(r.v(r.d("colors.separator",e,t,0))),r.b(";  height:1px; margin-top:10px;  font-family: Arial; font-size: 1px;'></div><div class='walkme-custom-balloon-bottom-div' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" padding: 3px 3px 3px 0; min-height:36px; background-color:"),r.b(r.v(r.d("colors.minorBg",e,t,0))),r.b(";'><div class='walkme-custom-balloon-subtext' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" position: absolute; color: "),r.b(r.v(r.d("colors.stepInfo",e,t,0))),r.b("; font-size: 9px; margin-top: "),r.b(r.v(r.d("bottom.stepIndexMarginTop",e,t,0))),r.b("px; left: 50%; transform: translateX(-65%); float: "),r.b(r.v(r.d("direction.side",e,t,0))),r.b(";'>"),r.b(r.t(r.d("data.stepIndexText",e,t,0))),r.b("</div><div class='walkme-custom-balloon-top-div-bottom' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" text-align: "),r.b(r.v(r.d("direction.oppositeSide",e,t,0))),r.b("; direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b(";'><div class='walkme-custom-balloon-buttons-wrapper' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" text-align: "),r.b(r.v(r.d("direction.oppositeSide",e,t,0))),r.b("; direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b("; margin-"),r.b(r.v(r.d("direction.oppositeSide",e,t,0))),r.b(": 6px;'>"),r.b(r.t(r.f("buttonsHtml",e,t,0))),r.b("</div></div><div class='walkme-custom-balloon-bottom-clear' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" clear: both'></div></div>")),r.b("</div></div>"),r.s(r.d("data.customHtml.outter",e,t,1),e,t,0,3616,3644,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.t(n.d("data.customHtml.outter",e,t,0)))}),e.pop()),r.b("</div>"),r.fl()};return e});i.apply(null,arguments)}function wn(e,t,n,r,i,o,a,s,u,l){function c(){O(400),N(400),B(!0),Y(l.balloonSettings)}function d(){return M()+1}function f(e){var t=e[0],r=t.getBoundingClientRect(),i=n.getElementDocument(e),o=a.getOffsetRect(t,i,window),s=a.getElementBoundsWithRectAndOffset(r,o);return s}function p(){var e=mtjQuery(document);return e.height=e.height(),e.width=e.width(),e.top=0,e.left=0,e}function g(e){var t=mtjQuery(".walkme-custom-balloon-title",e).text(),r=0,i=0,o=0,a=mtjQuery(".walkme-custom-balloon-content",e);if(a.length>0){for(var u=a.html().replace(/<br*">/g,"< >").split("< >"),l=0;l<u.length;l++){var c=u[l].replace(/(<([^>]+)>)/gi,"").length;c>o&&(o=c)}var d=mtjQuery(".walkme-custom-balloon-content span",e);i=d.length>0?parseInt(d.css("font-size").replace(/px/,"")):parseInt(a.css("font-size").replace(/px/,""))}var f=mtjQuery(".walkme-custom-balloon-title span",e);r=f.length>0?parseInt(f.css("font-size").replace(/px/,"")):parseInt(mtjQuery(".walkme-custom-balloon-title",e).css("font-size").replace(/px/,""));var p=0;p=t.length*r>o*i?t.length*r:o*i;var g=parseFloat(n.getSettingsValue(s.get().Settings,"quirksModeFactor",.5));return p*=g}function h(e,t){var n=.5;return e==E.Start?n=1:e==E.End&&(n=0),(2==t||3==t)&&(n=1-n),n}function m(e,t,n,r,i,a){var s=v(i,a);s.color=r;var u=e.top,l=e.left;t.positionType==o.POSITION_TYPE.Bottom,t.positionType==o.POSITION_TYPE.Right,s.point_direction=t.positionType,s.angle=h(t.positionOffset,s.point_direction);var c=y(s,n[0].ownerDocument);return c.css("top",u+"px"),c.css("left",l+"px"),c.css("display","none"),mtjQuery(n.append(c)),c}function v(e,t,n,r,i,o){return{width:e,height:t,point_direction:n||0,angle:r||0,color:i||"red",background:o||"transparent"}}function y(e,t){var n=mtjQuery(t.createElement("div"));return n.css("display","block"),n.css("width","0"),n.css("height","0"),n.css("border",e.width+"px solid transparent"),n.css("border-"+C[e.point_direction]+"-color",e.color),n.css("line-height","0"),n.css("border-"+C[(e.point_direction+2)%4],"0px"),3==e.point_direction||1==e.point_direction?n.css("border-style","outset solid solid solid"):n.css("border-style","solid outset solid solid"),n}function w(e,t,n,i){var a,s;if(e.positionType==o.POSITION_TYPE.Top||e.positionType==o.POSITION_TYPE.Bottom){var u=e.left+t.width;a=b(e.left,u,L(),e.positionOffset,n.width,n.left),s=e.positionType==o.POSITION_TYPE.Top?e.top+t.height:e.top-M()}else if(e.positionType==o.POSITION_TYPE.Left||e.positionType==o.POSITION_TYPE.Right){var l=e.top+t.height;s=b(e.top,l,L(),e.positionOffset,n.height,n.top),e.positionType==o.POSITION_TYPE.Left?(a=e.left+t.width,r.isQuirksMode(i[0])&&(a-=2)):a=e.left-M()}return{top:s,left:a}}function b(t,n,r,i,o,a){var s;return i==E.Center?s=(n+t-r)/2:i==E.Start?s=a+(o-r)/2:i==E.End?s=a+(o-r)/2:e.error(null),S(s,t,n,r)}function S(e,t,n,r){var i=n-r;return e>i?i:t>e?t:e}function T(e,t){var n=t.balloonData;n.title||e.addClass("walkme-custom-no-title"),n.content||n.customHtml&&(n.customHtml.inner||n.customHtml.outter)||e.addClass("walkme-custom-no-content"),t.nextButton||t.backButton||t.doneButton||t.submitButton||e.addClass("walkme-custom-no-buttons")}function I(e,t,n,r){var i=e.top-t.height-n>r.top,o=e.right+t.width+n<r.width+r.left,a=e.bottom+t.height+n<r.height+r.top,s=e.left-t.width-n>r.left;return{top:i,right:o,bottom:a,left:s}}var C=["top","right","bottom","left"],E={Center:0,Start:1,End:2},k=["center","start","end"],_=jl.create("WalkmeOOP",this),x=_.Prop.Protected("balloon"),P=_.Prop.Protected("balloonClass"),D=_.Prop.Protected("balloonSettings"),A=_.Prop.Protected("minWidth"),O=_.Prop.Protected("maxWidth"),N=_.Prop.Protected("defaultMaxWidth"),M=(_.Prop.Public("minPopupWidth"),_.Prop.Public("arrowHeight")),L=_.Prop.Public("arrowBaseWidth"),B=_.Prop.Public("hasBorder"),F=_.Virtual.Protected("addBalloonDiv"),j=_.Virtual.Public("loadResources",function(e,t){t&&t()}),R=_.Virtual.Protected("getArrowsColors"),U=(_.Virtual.Public("fixSize",function(e,t,n,r,i){U(e,t,n,r),G(e,i);var o={width:e.width(),height:e.height()};return o}),_.Virtual.Protected("fixWidth",function(e,t,n,i,o){var a=0;a=r.isQuirksMode(t[0])?g(e):e.width();var s=0;s=!i||0>=i?N():i;var u=A();if(void 0!=o&&(u=o),u>a&&(a=u),a>s&&(a=s),e.css("width",a+"px"),!i||0>=i){var l=0;mtjQuery.each(mtjQuery("[width], [style*=width], [style*=WIDTH]",e),function(e,t){mtjQuery(t).width()>l&&(l=mtjQuery(t).width())}),l>a&&W(l,e)}})),G=_.Virtual.Protected("fixHeight",function(e,t){var n=e.height();t&&t>0&&(n=t),e.css("height",n+"px")}),W=_.Virtual.Protected("handleWiderElement",function(e,t){var n=mtjQuery(".walkme-custom-balloon-content",t);n.css("width",e+"px"),t.css("width","auto")}),V=_.Public("generateHtml",function(e){var t={balloonSettings:D(),balloonData:e.balloonData,userGuid:e.userGuid,settings:e.settings,end:e.end,stepType:e.stepType,contentDiv:e.contentDiv},n={nextButton:e.nextButton,doneButton:e.doneButton,backButton:e.backButton,submitButton:e.submitButton};return x(jl.create(P(),t)),x().initButtons(n),x().generateHtml()}),Q=(_.Public("manipulationsForInlineCss",function(e){return x().manipulationsForInlineCss(e)}),_.Public("generateBalloonDiv",function(e,t,n,r,i,o,a){var s=F(V(o),e,t);return Q(s,n,r,i,o,a),s}),_.Virtual.Protected("addIdentifiers",function(e,n,r,o,a,s){e.attr("id","walkme-balloon-"+r),e.addClass("walkme-custom-walkthru-"+n),e.addClass("walkme-custom-step-"+r);var u=o==kc.STEP_TYPE.Popup?"popup":"simple";e.addClass("walkme-custom-"+u+"-step");var l=i.getCurrentLanguage()||"default";e.addClass("walkme-custom-language-"+l),t.addBrowserSpecificClasses(e),T(e,a)})),H=_.Virtual.Protected("addArrowClasses",function(e,t,n,r){e.addClass("walkme-custom-balloon-arrow"),e.addClass("walkme-custom-balloon-arrow-"+n),e.addClass("walkme-custom-balloon-arrow-"+t),e.addClass("walkme-custom-balloon-arrow-"+t+"-"+n),e.addClass("walkme-custom-step-"+r)}),z=(_.Virtual.Public("fixArrows",function(){}),_.Virtual.Public("fixQuirksMode",function(){}),_.Virtual.Protected("finalizeArrowsPosition",function(){})),Y=(_.Virtual.Public("drawArrows",function(e,t,n,i,a,s){var u=w(n,i,a,e),l={top:u.top,left:u.left};n.positionType==o.POSITION_TYPE.Top&&(l.top=u.top,u.top=u.top-D().BalloonBorderWidth+1,l.left=u.left-1),n.positionType==o.POSITION_TYPE.Bottom&&(u.top=u.top+D().BalloonBorderWidth-1,l.top=u.top-D().BalloonBorderWidth,l.left=u.left-1),n.positionType==o.POSITION_TYPE.Left&&(r.isQuirksMode(e[0])?(u.left=u.left-D().BalloonBorderWidth+1,l.left=u.left+D().BalloonBorderWidth,l.top=u.top-1):(u.left=u.left-D().BalloonBorderWidth+1,l.left=u.left+D().BalloonBorderWidth-1,l.top=u.top-1)),n.positionType==o.POSITION_TYPE.Right&&(u.left=u.left+D().BalloonBorderWidth-1,l.left=u.left-D().BalloonBorderWidth,l.top=u.top-1),z(n.positionType,u,l);var c="",d=null,f=C[n.positionType],p=R(f);D().BalloonBorderWidth>0&&(d=m(l,n,s,p.outterArrow,M()+1,M()+1),H(d,"outer",f,t)),c=m(u,n,s,p.innerArrow,M(),M()),H(c,"inner",f,t);var g=[c];return d&&g.push(d),g}),_.Protected("getBalloonBasicWidth",function(e,t,n){var i=0;i=r.isQuirksMode(t[0])?g(e):e.width();var o=0;return o=n||0>=n?O():n,i<A()&&(i=A()),i>o&&(i=o),i}),_.Public("setConfiguration",function(e){u.fixConfiguration(e),D(e),j()})),q=(_.Public("decideWhereToPopForCaptureBalloon",function(t,n,r,i){try{var o={width:r,height:i},a=p(),s=f(t),u=d(),l=q(s,o,n,u,a,!0);return l}catch(c){e.error(c)}}),_.Public("getPossiblePositionsForCaptureBalloon",function(t,n,r){try{var i={width:n,height:r},o=p(),a=f(t),s=d(),u=I(a,i,s,o);return u}catch(l){e.error(l)}}),_.Public("addPositionClass",function(e,t){var n="walkme-custom-position-"+C[t.positionType];n+=" walkme-custom-offset-"+k[t.positionOffset],e.addClass(n)}),_.Public("decideWhereToPop",function(e,t,n,r,i,a){var s,u,l=e.left+e.width/2,c=e.top+e.height/2,d=I(e,t,r,i),f=d.bottom,p=d.left,g=d.right,h=d.top,m=l-t.width/2>i.left,v=l+t.width/2<i.width+i.left,y=c-t.height/2>i.top,w=c+t.height/2<i.height+i.top;if(n==o.POSITION_TYPE.Top||n==o.POSITION_TYPE.Bottom){var b,S;if(m&&v)S=l-t.width/2,u=E.Center;else if(m){if(!v){var T=i.width+i.left-e.right;S=e.right-t.width+T-1,u=E.End}}else S=e.left,u=E.Start;return n==o.POSITION_TYPE.Top?(b=e.top-t.height-r,s=o.POSITION_TYPE.Top):(b=e.bottom+r,s=o.POSITION_TYPE.Bottom),a&&(h&&n==o.POSITION_TYPE.Top||n==o.POSITION_TYPE.Bottom&&!f?(b=e.top-t.height-r,s=o.POSITION_TYPE.Top):(b=e.bottom+r,s=o.POSITION_TYPE.Bottom)),{top:Math.ceil(b),left:Math.ceil(S),positionType:s,positionOffset:u}}if(n==o.POSITION_TYPE.Right||n==o.POSITION_TYPE.Left){
var b,S;return w&&y?(b=c-t.height/2,u=E.Center):w?y||(b=e.top-M()+2,u=E.Start):(b=e.top-M()+2,u=E.End),n==o.POSITION_TYPE.Left?(S=e.left-t.width-r,s=o.POSITION_TYPE.Left):(S=e.right+r,s=o.POSITION_TYPE.Right),a&&(p&&n==o.POSITION_TYPE.Left||n==o.POSITION_TYPE.Right&&!g?(S=e.left-t.width-r,s=o.POSITION_TYPE.Left):(S=e.right+r,s=o.POSITION_TYPE.Right)),{top:Math.ceil(b),left:Math.ceil(S),positionType:s,positionOffset:u}}}));c.apply(null,arguments)}function bn(e,t,n){function r(){a.ExtendsInstance(jl.create("BaseBalloonDrawer",n));var e=n.balloonSettings.minPopupWidth?n.balloonSettings.minPopupWidth:400;o=a._base,o.balloonClass("BalloonV2"),o.minWidth(190),o.arrowHeight(13),o.arrowBaseWidth(26),o.minPopupWidth(e)}function i(e,t){var n=function(e,t){return(e+t)/2},r=function(e){return parseInt((""+e).replace("#",""),16)},i=function(e){return(e>>0).toString(16)},o=r(e),a=r(t),s=function(e){return e>>16&255},u=function(e){return e>>8&255},l=function(e){return 255&e},c=i(n(s(o),s(a))),d=i(n(u(o),u(a))),f=i(n(l(o),l(a))),p="#"+(c.length<2?"0"+c:c)+(d.length<2?"0"+d:d)+(f.length<2?"0"+f:f);return p}var o,a=jl.create("WalkmeOOP",this);a.Override("addBalloonDiv",function(n,r,i){var a=mtjQuery(r[0].ownerDocument.createElement("div"));return a.addClass("walkme-custom-balloon-outer-div"),a.addClass("mt-custom-balloon-outer-div"),a.css("display","none"),a.css("direction","ltr"),t.setStyleForBalloon(a,o.balloonSettings(),i),e.setLangAttribute(a),mtjQuery(r.append(a)),a.html(n),a}),a.Override("addIdentifiers",function(e,t,n,r,i,a){o.addIdentifiers(e,t,n,r,i,a),wmjQuery("*",e).addClass("walkme-custom-step-"+n)}),a.Override("addArrowClasses",function(e,t,n,r){o.addArrowClasses(e,t,n,r),e.addClass("mt-custom-balloon-arrow-"+t)}),a.Override("getArrowsColors",function(e){var t=o.balloonSettings(),n=""==t.BalloonColor2?"transparent":t.BalloonColor2,r=t.BorderColor;switch(e){case"bottom":n=""==t.Color?"transparent":t.Color;break;case"top":break;case"left":case"right":n="transparent"==t.Color||"transparent"==t.BalloonColor2||"#00000000"==t.Color||"#00000000"==t.BalloonColor2?"transparent":i(t.Color,t.BalloonColor2)}return{innerArrow:n,outterArrow:r}});r.apply(null,arguments)}function Sn(e,t,n,r,i,o){function a(){u.ExtendsInstance(jl.create("BaseBalloonDrawer",o));var e=o.balloonSettings.minPopupWidth?o.balloonSettings.minPopupWidth:300;s=u._base,s.balloonClass("BalloonV3"),s.minWidth(190),s.minPopupWidth(e),s.arrowHeight(10),s.arrowBaseWidth(18),s.hasBorder(!1)}var s,u=jl.create("WalkmeOOP",this);u.Override("addBalloonDiv",function(e,n){var i=t.createElementInDocument(e,n[0].ownerDocument);if(Lg("accessibility")){var o=i.find(".walkme-custom-balloon-content-wrapper, .walkme-custom-balloon-button, .walkme-custom-balloon-close-button");t.addTabIndex(o),o.on("focus",function(){wmjQuery(this).css({outline:"2px solid #efb05e","outline-offset":"-1px"})}),o.on("blur",function(){wmjQuery(this).css({outline:"none","outline-offset":"0px"})})}return r.setLangAttribute(i),i.css("display","none"),n.append(i),i}),u.Override("loadResources",function(e,t){var r=s.balloonSettings().FontsData;r?n.fonts(r,e,t,t):t&&t()}),u.Override("fixWidth",function(e,t,n,r){s.fixWidth(e,t,n,r),e.css("width",e.width()+1+"px")}),u.Override("getArrowsColors",function(e){var t=s.balloonSettings(),n=t.Color,r=t.BorderColor,i=t.direction;switch(e){case"bottom":n=t.Color;break;case"top":n=t.BalloonColor2;break;case"left":"ltr"==i?n=t.Color:(n=t.ButtonBgColor,r=t.ButtonBgColor);break;case"right":"ltr"==i?(n=t.ButtonBgColor,r=t.ButtonBgColor):n=t.Color}return{innerArrow:n,outterArrow:r}}),u.Override("fixArrows",function(t){t.balloonSettings=s.balloonSettings(),t.arrowBaseWidth=s.arrowBaseWidth(),e.fixArrows(t)}),u.Override("fixQuirksMode",function(e){var t=wmjQuery(".walkme-custom-side-border, .walkme-custom-balloon-bottom-clear",e);t.hide();var n=wmjQuery(".walkme-custom-powered-by-div",e);if(n.length>0){var r=n.css("margin-bottom"),i=n.css("margin-top");n.css("margin-bottom","0px").css("margin-top","0px"),n.css("padding-bottom",r).css("padding-top",i)}var o,a=wmjQuery(".walkme-custom-balloon-arrow-inner",e.parent()),u=wmjQuery(".walkme-custom-balloon-arrow-outer",e.parent());if(a.hasClass("walkme-custom-balloon-arrow-right"))o="right";else{if(!a.hasClass("walkme-custom-balloon-arrow-left"))return;o="left"}a.css("border-"+o+"-color",s.balloonSettings().Color),u.css("border-"+o+"-color",s.balloonSettings().BorderColor)}),u.Override("finalizeArrowsPosition",function(t,n,r){e.finalizeArrowsPosition(t,n)}),u.Override("handleWiderElement",function(e,t){var n=mtjQuery(".walkme-custom-balloon-content",t),r=mtjQuery(".walkme-custom-balloon-title",t);r.css("width","10px"),n.css("width",e+"px"),t.css("width","auto");var i=t.width();t.css("width",i+"px"),r.css("width","auto")});a.apply(null,arguments)}function Tn(e,t,n,r,i){function o(){l.ExtendsInstance(jl.create("BaseBalloonDrawer",i));var e=i.balloonSettings.minPopupWidth?i.balloonSettings.minPopupWidth:300;u=l._base,u.balloonClass("TooltipV1"),u.minWidth(120),u.minPopupWidth(e),u.arrowHeight(10),u.arrowBaseWidth(18),u.hasBorder(!1)}function a(e,t,n,r,i){e.show();var o=u.arrowBaseWidth(),a=parseFloat(t[0].css("top")),s=parseFloat(e.css("top")),l=e[0]?e[0].offsetHeight:0,c=a-s,d=l;if(e.hide(),o>d-c&&d>c){var f=s-(d-c);e.css("top",f+"px")}}function s(e){e[0].css("border-top-color",u.balloonSettings().Color)}var u,l=jl.create("WalkmeOOP",this);l.Override("addBalloonDiv",function(t,r){var i=e.createElementInDocument(t,r[0].ownerDocument);return Lg("accessibility")&&(focusableElements=i.find(".walkme-custom-balloon-content-wrapper, .walkme-custom-balloon-button, .walkme-custom-balloon-close-button"),e.addTabIndex(focusableElements),focusableElements.on("focus",function(){wmjQuery(this).css({outline:"2px solid #efb05e","outline-offset":"-1px"})}),focusableElements.on("blur",function(){wmjQuery(this).css({outline:"none","outline-offset":"0px"})})),n.setLangAttribute(i),i.css("display","none"),r.append(i),i}),l.Override("loadResources",function(e,n){var r=u.balloonSettings().FontsData;r?t.fonts(r,e,n,n):n&&n()}),l.Override("fixWidth",function(e,t,n,r){u.fixWidth(e,t,n,r),e.css("width",e.width()+1+"px")}),l.Override("getArrowsColors",function(e){var t=u.balloonSettings(),n=t.Color,r=t.BorderColor;return{innerArrow:n,outterArrow:r}}),l.Override("fixArrows",function(e){var t=e.balloonDiv,n=e.arrowsDivs,i=e.result,o=e.isInCaptureMode,l=e.isQuirksMode,c=u.balloonSettings().direction,d=i.positionType==r.POSITION_TYPE.Left||i.positionType==r.POSITION_TYPE.Right;d?a(t,n,i,c,l):o&&i.positionType==r.POSITION_TYPE.Top&&s(n)}),l.Override("fixQuirksMode",function(e){var t,n=wmjQuery(".walkme-tooltip-arrow-inner",e.parent()),r=wmjQuery(".walkme-tooltip-arrow-outer",e.parent());if(n.hasClass("walkme-tooltip-arrow-right"))t="right";else{if(!n.hasClass("walkme-tooltip-arrow-left"))return;t="left"}n.css("border-"+t+"-color",u.balloonSettings().Color),r.css("border-"+t+"-color",u.balloonSettings().BorderColor)}),l.Override("finalizeArrowsPosition",function(e,t,n){switch(e){case r.POSITION_TYPE.Top:t.top--;break;case r.POSITION_TYPE.Bottom:t.top++;break;case r.POSITION_TYPE.Left:t.left--;break;case r.POSITION_TYPE.Right:t.left++}}),l.Override("handleWiderElement",function(e,t){var n=mtjQuery(".walkme-tooltip-content",t);n.css("width",e+"px"),t.css("width","auto");var r=t.width();t.css("width",r+"px")});o.apply(null,arguments)}function In(e,t,n,r,i,o){function a(){u.ExtendsInstance(jl.create("BaseBalloonDrawer",o));var e=o.balloonSettings.minPopupWidth?o.balloonSettings.minPopupWidth:300;s=u._base,s.balloonClass("BalloonVM1"),s.minWidth(190),s.minPopupWidth(e),s.arrowHeight(10),s.arrowBaseWidth(18),s.hasBorder(!1),s.defaultMaxWidth(230)}var s,u=jl.create("WalkmeOOP",this);u.Override("addBalloonDiv",function(e,n){var i=t.createElementInDocument(e,n[0].ownerDocument);return Lg("accessibility")&&(focusableElements=i.find(".walkme-custom-balloon-content-wrapper, .walkme-custom-balloon-button, .walkme-custom-balloon-close-button"),t.addTabIndex(focusableElements),focusableElements.on("focus",function(){wmjQuery(this).css({outline:"2px solid #efb05e","outline-offset":"-1px"})}),focusableElements.on("blur",function(){wmjQuery(this).css({outline:"none","outline-offset":"0px"})})),r.setLangAttribute(i),i.css("display","none"),n.append(i),i}),u.Override("loadResources",function(e,t){var r=s.balloonSettings().FontsData;r?n.fonts(r,e,t,t):t&&t()}),u.Override("fixWidth",function(e,t,n,r){s.fixWidth(e,t,n,r),e.css("width",e.width()+1+"px")}),u.Override("getArrowsColors",function(e){var t=s.balloonSettings(),n=t.Color,r=t.ButtonBgColor;return n="top"==e?t.BalloonColor2:t.Color,{innerArrow:n,outterArrow:r}}),u.Override("fixArrows",function(t){t.balloonSettings=s.balloonSettings(),t.arrowBaseWidth=s.arrowBaseWidth(),e.fixArrows(t)}),u.Override("fixQuirksMode",function(e){var t=wmjQuery(".walkme-custom-side-border, .walkme-custom-balloon-bottom-clear",e);t.hide();var n=wmjQuery(".walkme-custom-powered-by-div",e);if(n.length>0){var r=n.css("margin-bottom"),i=n.css("margin-top");n.css("margin-bottom","0px").css("margin-top","0px"),n.css("padding-bottom",r).css("padding-top",i)}var o,a=wmjQuery(".walkme-custom-balloon-arrow-inner",e.parent()),u=wmjQuery(".walkme-custom-balloon-arrow-outer",e.parent());if(a.hasClass("walkme-custom-balloon-arrow-right"))o="right";else{if(!a.hasClass("walkme-custom-balloon-arrow-left"))return;o="left"}a.css("border-"+o+"-color",s.balloonSettings().Color),u.css("border-"+o+"-color",s.balloonSettings().ButtonBgColor)}),u.Override("finalizeArrowsPosition",function(t,n,r){e.finalizeArrowsPosition(t,n)}),u.Override("handleWiderElement",function(e,t){var n=mtjQuery(".walkme-custom-balloon-content",t),r=mtjQuery(".walkme-custom-balloon-title",t);r.css("width","10px"),n.css("width",e+"px"),t.css("width","auto");var i=t.width();t.css("width",i+"px"),r.css("width","auto")});a.apply(null,arguments)}function Cn(){function e(){}var t=this;t.get=function(e,t){var n;switch(e){case"v3":n=jl.create("BalloonDrawerV3",t);break;case"vm1":n=jl.create("BalloonDrawerVM1",t);break;default:n=jl.create("BalloonDrawerV2",t)}return n},e.apply(null,arguments)}function En(){function e(){}function t(e,t,n){wmjQuery(e).css(t,n)}var n=this;n.addClickAndHover=function(e){function n(e){d=!0;var n=wmjQuery(".walkme-click-and-hover:active")[0]==e.currentTarget;n?t(e.currentTarget,a,l):t(e.currentTarget,a,u)}function r(e){d=!1,t(e.currentTarget,a,s)}function i(e){t(e.currentTarget,a,l)}function o(e){d?t(e.currentTarget,a,u):t(e.currentTarget,a,s)}var a=e.cssProperty,s=e.regularColor,u=e.hoverColor,l=e.clickColor,c=e.elemSelector,d=!1,f=e.balloonDiv,p=f.find(c);p.mouseenter(n),p.mouseleave(r),p.mouseup(o),p.mousedown(i)},e.apply(null,arguments)}function kn(e){function t(){}var n=this,r={None:0,Shadow:1,Glow:2};n.calculate=function(t,n,i){if(t==r.Shadow)switch(n){case 0:return"1px 1px 3px 0px rgba(0, 0, 0, 0.2)";case 1:return"0px 0px 13px 0px rgba(0, 0, 0, 0.2)";case 2:return"0px 0px 13px 5px rgba(0, 0, 0, 0.2)"}else if(t==r.Glow){var o=e.hexToRgba(i,.6);switch(n){case 0:return"0px 0px 7px 0px rgba"+o;case 1:return"0px 0px 14px 0px rgba"+o;case 2:return"0px 0px 26px 5px rgba"+o}}},t.apply(null,arguments)}function _n(){function e(e){ve=e.element,Se=e.settings,Te=e.identifySettings,Ie=e.html,Ce=e.lib,_e=e.position,Me=e.launcherId,Le=e.launcherName,de=e.userGuid,we=e.isCapturingMode,Be=e.positionHelper,Fe=e.addFunctionality,We=e.cdnServer,se=e.clickAuditManager,ae=ln.isTrue(Se,"animated",!1),me=e.delayBetweenClicks,be=e.useDefaultHighlightSettings,ce=jl.create("Highlighter",{element:ve,settings:Se,drawableType:"launcher",drawableId:Me,monitor:!we,defaultSettings:be,cssKeysValues:[{id:Me,name:"launcher"}]}),Ve=ln.isTrue(Se,"embedInParent",!1)&&!we,t(),ye=ve.data("iframe")?Ce.shouldHandlePageAsFramesets()||Ve:!0,pe=jl.get("FontsData"),ge=jl.get("ResourceManager"),fe=jl.get("TimerManager")}function t(){var e=yl(Se,"imageObject",He);if("customText"==e.type||"htmlShape"==e.type)o(e);else{var t=n()+e.data.shape+"-"+e.data.color;r(e,t),we||i(e,t)}}function n(){return We+"/player/resources/launchers/"}function r(e,t){xe="shape"==e.type?t+".png":l(e.data.url)?e.data.url:n()+e.data.url}function i(e,t){"shape"==e.type?a(e,t):s(e)}function o(e){Oe=e.data.customText,Ne=e.data.customClass?e.data.customClass.split(/,| /).join(" "):""}function a(e,t){ln.isValueTrue(e.data.hover)&&(Pe=t+"-hover.png"),ln.isValueTrue(e.data.click)&&(De=t+"-click.png")}function s(e){Pe=u(e,"hover"),Pe=Pe?encodeURI(Pe):Pe,De=u(e,"click"),De=De?encodeURI(De):De}function u(e,t){var r=null;return e.data[t]&&(r=l(e.data[t])?e.data[t]:n()+e.data[t]),r}function l(e){return 0==e.indexOf("http")}function c(e,t){var n=wmjQuery("<img />");n.load(function(){var e={width:this.width,height:this.height};t(e),n.unbind("load")}),n.attr("src",e)}function d(e){var t=wmjQuery(document.createElement("div")).addClass("walkme-custom-launcher-tester").addClass(Ne).important({position:"absolute",top:"-9999px",left:"-9999px",visibility:"hidden","line-height":"normal"}).html(Oe).appendTo(wmjQuery("body",document).or("html",document)),n=f(yl(Se,"version",1),t);t.remove(),e(n)}function f(e,t){switch(parseInt(e)){case 1:return{width:t.width(),height:t.height()};case 2:return{width:t.outerWidth(),height:t.outerHeight()}}}function p(){ce.shouldShow()&&!ef.isQuirksMode(ve[0])&&ce.highlight()}function g(e,t){oe.top-=t.top-e.top,oe.left-=t.left-e.left}function h(){if(le=b(),Ve){var e=w();if(!e)return void h()}Ee=mtjQuery(document.createElement("div"));var t=yl(Se,"tooltip","");t=Dh(t,["&",'"',"'",">","<"]),Ee.attr("title",t);var n="walkme-launcher-id-"+Me;Ee.addClass(n),Ee.css("display","none"),Ce.getUiUtils().setLangAttribute(Ee),le.append(Ee[0].outerHTML),Ee=le.find("."+n),Ee.html(Ie),Ee.addClass("walkme-custom-launcher-outer-div"),Ee.addClass("walkme-text-launcher"),Ee.addClass(Ne),Ce.getUiUtils().addBrowserSpecificClasses(Ee),Fe&&ln.addTabIndex(Ee);var r=X();K(r),m()}function m(){ne=Ee.find(".walkme-launcher-image-div"),Oe?y():v()}function v(){_(xe,Ae.width,Ae.height),A(Ae.width,Ae.height),ne.css("background-repeat","no-repeat"),T()}function y(){ne.html(Oe)}function w(){try{ke=mtjQuery(le[0].ownerDocument.createElement("div")),ke.css("position","relative"),ke.css("float",ee()),ke.css("display","-moz-inline-stack"),ke.css("display","inline-block"),ke.css("zoom","1"),ke.css("*display","inline"),ke.addClass("walkme-launcher-container"),ke.addClass("walkme-launcher-container-id-"+Me);var e=mtjQuery(le),t=e.offset();return e.append(ke),ke.html("a"),ke.is(":mt_hidden")&&!Qe?(el("Launcher ["+Me+"] invisible - Fallback to embed in parent",3),ke.remove(),ke=void 0,Qe=!0,!1):(ke.html(""),g(t,ke.offset()),le=ke,!0)}catch(n){return ke&&(ke.remove(),ke=void 0),Qe=!0,el("Error while building launcher embed in container ["+Me+"]. trying again.  ex:"+n,5),!1}}function b(){var e;return e=Ve?S(ve)?ve:ve.parent():ye?bl(ve):bl(null,!0),Lg("jsp")&&!we&&(e=ln.findJspContainer(ve,e)),e}function S(e){if(Qe)return!1;var t=e.css("overflow");if(t&&V()&&("auto"===t||"scroll"===t||"hidden"===t))return!1;var n=e.prop("tagName");switch(n){case"A":case"INPUT":case"BUTTON":case"IFRAME":return!1;default:return!0}return!0}function T(){Pe&&c(Pe,I),De&&c(De,C)}function I(e){re=e,ne.hover(function(){k(Pe,re.width,re.height,!0)},function(){k(xe,Ae.width,Ae.height)})}function C(e){ie=e,ne.bind("touchend mouseup",function(){var e=E();k(e.url,e.width,e.height)}),ne.bind("touchstart mousedown",function(){k(De,e.width,e.height)})}function E(){var e,t,n;return Pe?(e=Pe,t=re.width,n=re.height):(e=xe,t=Ae.width,n=Ae.height),{url:e,width:t,height:n}}function k(e,t,n,r){ae&&ne.stop(),_(e),x(t,n),A(t,n,r)}function _(e,t,n){ne.css("background-image",'url("'+e+'")'),Ee.css("top",oe.top+"px"),Ee.css("left",oe.left+"px")}function x(e,t){var n=P(e,t);Ee.css("top",oe.top+n.top+"px"),Ee.css("left",oe.left+n.left+"px")}function P(e,t){var n=parseInt(yl(Se,"direction",ze.BottomRight)),r={top:0,left:0};switch(ae&&(n=ze.Right),n){case ze.Top:r.top+=Ae.height-t,r.left+=Ae.width/2-e/2;break;case ze.Right:r.top+=Ae.height/2-t/2;break;case ze.Bottom:r.left+=Ae.width/2-e/2;break;case ze.Left:r.top+=Ae.height/2-t/2,r.left+=Ae.width-e;break;case ze.TopLeft:r.top+=Ae.height-t,r.left+=Ae.width-e;break;case ze.TopRight:r.top+=Ae.height-t;break;case ze.BottomRight:break;case ze.BottomLeft:r.left+=Ae.width-e;break;case ze.Center:r.top+=Ae.height/2-t/2,r.left+=Ae.width/2-e/2}return r}function A(e,t,n){ne.css("height",t+"px"),n&&ae?ne.animate({width:e+"px"}):ne.css("width",e+"px")}function O(){Ee.css("top",oe.top+"px"),Ee.css("left",oe.left+"px");var e=yl(Se,"z-index","2147483627");nh(Ee,e),Ee.css("display","inline")}function N(e,t){Ce.userSawWalkMe(),Ae=e,Ie||(Ie="<div class='walkme-launcher-image-div'></div>"),p();var n=Ve?Be.getEmbedInElementPosition(ve,Se):Be.getElementBounds(ve,ye,window,Se);oe=W(n),h(),F(),O(),z();var r={image:xe,hover:Pe,click:De};Qp("LauncherIsShown",{launcherId:te.getId()}),Hp("LauncherIsShown",te,{imagePaths:r,customText:Oe,name:Le}),t&&t(le)}function M(){var e=Be.getElementBounds(ve,ye,window,Se);oe=W(e);var t=X();K(t),F(),O(),p()}function L(){if(!Ve)return!0;if(!ve)return!1;for(var e=!0,t=ve.data("iframe");t&&e;)e=e&&t&&t.parents("html").length>0,t=t.data("iframe");return e}function B(){return Ee.parents("html").length>0}function F(){Ve?j():Lg("jsp")&&le.hasClass("jspPane")&&(oe.top=oe.top-le.offset().top,oe.left=oe.left-le.offset().left)}function j(){var e=ve.offsetParent();if(e.length>0){var t="BODY"==e.prop("tagName");t?R(e):G(e)}}function R(e){"static"!=e.css("position")?G(e):Ve&&!S(ve)&&U()}function U(){var e=ve.offset(),t=ve.parent().offset();oe.top+=e.top-t.top,oe.left+=e.left-t.left}function G(e){if(Ve)return void(S(ve)||U());var t=e.offset();oe.top-=t.top,oe.left-=t.left}function W(e){var t=V()?Q(e):H(e);return t}function V(){var e=yl(Se,"context",Ye.Outside);return e==Ye.Outside}function Q(e){var t,n,r=qe+1,i=D.getCenterPositionByBounds(e);switch(_e){case ze.Top:n=i.left-Ae.width/2,t=e.top-Ae.height-r;break;case ze.Right:t=i.top-Ae.height/2,n=e.right+r;break;case ze.Bottom:t=e.bottom+r,n=i.left-Ae.width/2;break;case ze.Left:t=i.top-Ae.height/2,n=e.left-Ae.width-r;break;case ze.TopLeft:n=e.left-Ae.width-r,t=e.top-Ae.height-r;break;case ze.TopRight:n=e.right+r,t=e.top-Ae.height-r;break;case ze.BottomRight:n=e.right+r,t=e.bottom+r;break;case ze.BottomLeft:n=e.left-Ae.width-r,t=e.bottom+r}return{top:t,left:n}}function H(e){var t,n,r=D.getCenterPositionByBounds(e);switch(_e){case ze.Top:t=e.top,n=r.left-Ae.width/2;break;case ze.Right:t=r.top-Ae.height/2,n=e.right-Ae.width;break;case ze.Bottom:t=e.bottom-Ae.height,n=r.left-Ae.width/2;break;case ze.Left:t=r.top-Ae.height/2,n=e.left;break;case ze.TopLeft:t=e.top,n=e.left;break;case ze.TopRight:t=e.top,n=e.right-Ae.width;break;case ze.BottomRight:t=e.bottom-Ae.height,n=e.right-Ae.width;break;case ze.BottomLeft:t=e.bottom-Ae.height,n=e.left;break;case ze.Center:t=r.top-Ae.height/2,n=r.left-Ae.width/2}return{top:t,left:n}}function z(){var e={launcherId:Me};Ee.click(function(t){Qp("LauncherClicked",e)}),Fe?(Ee.css("cursor","pointer"),Ve&&Ee.hover(function(e){e.stopPropagation()}),Ee.click(function(e){var t=(new Date).getTime(),n=t-he;if(null!=he&&me>=n)return void el("Launcher ["+Me+"] click was ignored - it was already activated "+n+" ms ago",3);he=t,Ve&&e.stopPropagation(),wmjQuery(this).blur();var r=jl.get("Consts");Hp(r.EVENTS.LauncherClicked),_makeTutorial.getLauncherAction(Me).doAction(),se.SendClickAudit(Qd.Launcher,Me)})):Ve&&(Ee.click(function(e){e.stopPropagation()}),Ee.hover(function(e){e.stopPropagation()}))}function Y(){var e=X();q(e)&&M(),K(e)}function q(e){return Ue!=e.top||Ge!=e.left||je!=e.height||Re!=e.width}function K(e){Ue=e.top,Ge=e.left,je=e.height,Re=e.width}function X(){var e,t,n=!1;if(ye){var r=ve.offset();e=Math.floor(r.top),t=Math.floor(r.left)}else{var i=Be.getPosRelativeToWindow(ve[0],window,!0);e=i.top,t=i.left;var n=J()}var o=ve.height(),a=ve.width();return{top:e,left:t,height:o,width:a,elementIsScrolledOut:n}}function J(){var e=ve.data("iframe");return e&&Be.isElementScrolledOut(ve,e,_e)}function $(){var e=Te?Te.filter:void 0,t=Be.isElementVisible(ve,e);t&&te.evaluator&&Z()&&(t=te.evaluator.getValue()),t?(Ve||Y(),ue=fe.libSetTimeout($,800)):(te.actionInProgress=!0,te.destroy(function(){te.actionInProgress=!1}))}function Z(){var e=ln.isTrue(Se,Ke,!1);return e}function ee(){var e="left";switch(_e){case ze.Right:case ze.TopRight:case ze.BottomRight:e="right"}return e}var te=this;te.evaluator=null;var ne,re,ie,oe,ae,se,ue,le,ce,de,fe,pe,ge,he,me,ve=null,ye=!1,we=!1,be=!1,Se=null,Te=null,Ie=null,Ce=null,Ee=null,ke=null,_e=null,xe=null,Pe=null,De=null,Ae=null,Oe=null,Ne="",Me=null,Le=null,Be=null,Fe=!1,je=null,Re=null,Ue=null,Ge=null,We=null,Ve=!1,Qe=!1,He={type:"shape",data:{shape:"round-question-mark",color:"blue"}},ze={Top:0,Right:1,Bottom:2,Left:3,TopLeft:4,TopRight:5,BottomRight:6,BottomLeft:7,Center:8},Ye={Outside:0,Inside:1},qe=0,Ke="condHide";this.getId=function(){return Me},this.show=function(e){function t(){d(function(t){N(t,e)})}if(Oe){var n=ye?ml(ve):wmjQuery("head");ge.fonts([pe.get("walkme-opensans")],n,t,t)}else c(xe,function(t){N(t,e)})},this.updateOffset=function(e,t){oe.top+=e,oe.left+=t},this.destroy=function(e){try{ue&&ue.clear(),qu(ke||Ee,function(){ce.unhighlightElement(),e&&e()})}catch(t){e&&e()}},this.isDrawn=function(){try{return B()&&L()}catch(e){return!1}},this.setTimeoutOn=function(e){e=e?e:800,ue=fe.libSetTimeout($,e)},te.recalculateOrDestory=function(){te.evaluator&&!te.evaluator.getValue()&&(te.actionInProgress=!0,te.destroy(function(){te.actionInProgress=!1}))},e.apply(null,arguments)}function xn(e,t,n,r,i,o,a,s,u,l,c,d,f,p){function g(){O=r.wrapCustomerLog(Wl)}function m(){N=t.register("sa",{beforeSendingManipulationFunc:v,actionUrl:"/Statistics/AddStepsLogs",prefixForStorage:"sa",sendingThreshold:5,dataType:"step audit",dataIdFieldName:"Id",requestParamsFunc:function(e){return{stepActionsSerialized:u.toJSON(e),source:n.getEnvironmentId(),customFieldsSerialized:u.toJSON(_g),browser:i.browser.string,os:i.os.name,domain:window.location.host,permutationId:n.getPermutationId(),endUserGuid:n.getEndUserGuid()}}})}function v(e,t){D(e,t)}function y(e,t,r){if(il()||!Hf)return!0;var o=Hf+"/Analytics/BalloonShown";r=r||{};var a={tutorialId:e.TutorialId,stepId:e.Id,stepIndex:e.StepIndex+1,stepStatus:t,permutationId:n.getPermutationId(),endUserGuid:n.getEndUserGuid(),datetime:u.getDateAtUTC(),playGuid:A._currentPlayGUID,playInitiator:A._currentPlayInitiator?A._currentPlayInitiator.type:0,playInitiatorObj:A._currentPlayInitiator?A._currentPlayInitiator.objectId:-1,source:n.getEnvironmentId(),customFieldsSerialized:u.toJSON(_g),browser:i.browser.string,os:i.os.name,domain:window.location.host,FETime:r.FETime,balloonDrawTime:r.balloonDrawTime,balloonShowTime:r.balloonShowTime,logicTime:r.logicTime};Fp.execute({url:o,data:a})}function w(e,t){if(il())return O("Audit steps manager - Auditing is disabled, doing nothing",3),!0;try{var n={tutorialId:t.TutorialId,tutorialName:t.Name,playGuid:A._currentPlayGUID,playInitiator:A._currentPlayInitiator,status:e};c.send(n)}catch(i){r.error(i)}try{var o=_(t.Id,-1,-1,a.STEP_STATUS.SupposedToShow,t.Steps.length,!1);o.SafeStartAction=e,N.sendData(o)}catch(i){r.error(i)}}function b(e,t,n){try{t!=a.STEP_STATUS.Shown||s.isActionStep(e)||y(e,t,n)}catch(r){}}function S(e,t,n,i){k(n,t);var o=e.Steps.length;if(il())return O("Audit steps manager - Auditing is disabled, doing nothing",3),!0;if(t.TutorialId<0)return void O(h("Audit steps manager - Step with id {0} has negative tutorial id ({1})",t.Id,t.TutorialId),3);try{var a=_(t.TutorialId,t.Id,t.StepIndex+1,n,o,i);N.sendData(a);try{return T(t,e,o,n)}catch(s){return r.error(s),!0}}catch(s){return r.error(s),s}}function T(e,t,n,r){var i=f.getSettingsValue(e.Settings,"action","");return l.postEvent(l.EVENT_TYPES.Play,{type:l.EVENT_APPS.Step,oId:e.Id,oName:e.StepTitle||"",aType:I(i),aAppType:C(i),oType:e.Type,indx:e.StepIndex+1,owId:t.TutorialId,owName:t.Name,owType:l.EVENT_APPS.Walkthru,total:n,status:r,pId:A._currentPlayGUID})}function I(e){return e?d.map(e.actionType):""}function C(e){return e?p.map(e.actionType):""}function E(t){(void 0==A._currentPlayGUID||0==A._currentPlayGUID.length)&&(A._currentPlayGUID=e.generateNewPlayGuid(t))}function k(e,t){if(e!=a.STEP_STATUS.SkippedByActionStep){var n=e==a.STEP_STATUS.SkippedStartedFromBiggerStep?"NewSkippedStep":"CheckNewStep";Hp(n,t)}}function _(e,t,n,r,i,o){E(e);var a={};return a.tutorialID=e,a.stepId=t,a.stepIndex=n,a.totalSteps=i,a.playGuid=A._currentPlayGUID,a.TicksSince1970=u.getDateAtUTC(),a.StepStatus=r,x(a),is(o,!1)&&(a.isFirstStepError=!0),a}function x(e){return A._currentPlayInitiator&&A._currentPlayInitiator.type!=Rd.NONE?(e.playInitiator=A._currentPlayInitiator.type,void(void 0!=A._currentPlayInitiator.objectId&&A._currentPlayInitiator.objectId>-1&&(e.initObjId=A._currentPlayInitiator.objectId))):void(e.playInitiator=Rd.NONE)}function P(){N.clearAndStopSavingData()}function D(e,t){var n=[];if(e.length<=0)return n;for(var r=0;r<e.length;r++)e[r].stepIndex==t.stepIndex&&e[r].playGuid==t.playGuid&&(n.push(e.splice(r,1)[0]),r--);return n}var A=this;A.init=m,A.safeStartAudit=w,A.auditBalloonDrawToPeta=b,A.auditStep=S,A.removeAllStepAuditsLogs=P,this._currentPlayGUID="",this._currentPlayInitiator=null,this.createPlayGuidIfNeeded=E;var O,N;g.apply(null,arguments)}function Pn(e,t,n){function r(){}function i(r,i,o,a,s){if(!il()){var u=r.Steps;t.postEvent(t.EVENT_TYPES.Play,{type:t.getEventAppByDeployable(e.Tutorial),oId:r.TutorialId,oName:r.Name,pId:s||-1,pInit:n.map(i),oRequestedSubObject:u[o].Id,oActualSubObject:u[a].Id})}}var o=this;o.auditWalkthruStart=i,r.apply(null,arguments)}function Dn(e,t,n,r,i,o){function a(){}function s(a,s){if(o.isEnabled()){var u=i.getDeployablesManager(a.RelatedDeployableType),l=u.getById(a.RelatedDeployableId);e.postEvent(t.EVENT_SENDER_EVENT_TYPES.Play,{type:t.EVENT_SENDER_EVENT_APPS.Task,oId:a.Id,oName:a.Name,pId:"-1",aoId:l.Id,aoName:l.Name,aAppType:r.map(a.RelatedDeployableType),pInit:n.map(s)})}}var u=this;u.auditTaskPlayed=s,a.apply(null,arguments)}function An(e,t,n,r){function i(){}function o(t){if(s(t)){var r=a(t);e.postEvent(e.EVENT_TYPES.PlayFailed,r)}else n.error("params is not valid for send action in AuditSafeStartManager")}function a(e){return{oId:e.tutorialId,oName:e.tutorialName,pId:e.playGuid,pInit:t.map(e.playInitiator),status:e.status,type:r.EVENT_SENDER_ACTIONS.PlayWalkthru}}function s(e){return null==e||null==e.tutorialId||null==e.playGuid||null==e.status?!1:!0}var u=this;u.send=o,i.apply(null,arguments)}function On(e,t,n,r,i,o,a){function s(){}function u(e){if(e){var r,a=e.Method,s=e.Parameters;switch(a){case"var":s.VarName&&(r=o.getWindowData(Ec.Var,s.VarName),c(r)&&(t.customerLog("endUserGuid - invalid variable name",1,w),r=void 0));break;case"salesforce":r=l();break;case"cookie":s.VarName&&(r=o.getWindowData(Ec.Cookie,s.VarName));break;case"jquery":s.VarName&&(r=n.getjQueryElementText(s.VarName));break;case"walkme":case"none":r=f(),r||(r=i(),t.customerLog("endUserGuid wasn't found in storage. was generated and stored in storage "+r,3,w))}return r?d(r):(r=f(),r||(r=i(),t.customerLog("getEndUserGuid: Forced generating new user guid-"+r,3,w),d(r,!0))),r}}function l(){return window.walkme_sf_vars?window.walkme_sf_vars.userId:void 0}function c(e){return e&&e.nodeType}function d(t,n){e.saveData(v,t,yc),n?(h=!0,e.saveData(y,1,yc)):(h=!1,e.removeData(y))}function f(){return h=e.getData(y),e.getData(v)}var p,g,h,m=this,v="wm-ueug",y="wm-fgug",w="endUser";this.setEndUserSettings=function(e){p=e,a.sendInternalEvent("endUserSettingsSet",{endUserSettings:e})},this.getEndUserSettings=function(){return p},this.isRealEndUserType=function(){var e=!1;return p&&m.getEndUserGuid()&&(e=!0),e},m.getEndUserGuid=function(e){if(g&&(!e||!h))return g;var n=u(p);return!n||(g=n,t.customerLog("getEndUserGuid: retrieved endUserGuid-"+n,3,w),e&&h)?(t.customerLog("Could not retrieve endUserGuid",3,w),!1):g},s.apply(null,arguments)}function Nn(e,t,n,r,i,o,a,s,l){function c(){T=i.getCurrentPermutation}function d(){return window.walkme_sf_vars?window.walkme_sf_vars.organizationName:void 0}function f(){return window.walkme_sf_vars?window.walkme_sf_vars.organizationId:void 0}function p(){return window.walkme_sf_vars?window.walkme_sf_vars.roleId:void 0}function h(){if(window.walkme_sf_vars){var e=g(window.walkme_sf_vars);return delete e.organizationName,delete e.organizationId,delete e.userId,e}}function m(){return window.walkme_sf_vars&&window.walkme_sf_vars.walkme_error?!0:!1}function v(){return x+n.getEndUserGuid()}function y(){var e=window.walkme_sf_vars,n="walkme_sf_error:"+u(e);t.customerLog(n,1,_)}function w(){return void 0===I&&(I=r.get().EndUserSettings&&r.get().EndUserSettings.logWalkMeVisible),I}function b(t,n){e.saveData(v(),n,60*t)}function S(){return e.getData(v())}var T,I,C,E=this,k=1e4,_="endUser",x="wm-euaf";E.reportEndUser=function(e,i){if(!C){var c=r.get().EndUserSettings?r.get().EndUserSettings.auditFreq:null,g=w();if(g&&!c&&(c=1440),c&&(!g||i)){var v=S();if(v)return void(C=!0);if(0===v)return t.customerLog("Loading WalkMe Failed due to ISV Limitations",1),void(e&&e());if(m())return void y();var I={permutationId:T(),endUserGuid:n.getEndUserGuid(),domain:window.location.host,source:al(),browser:s.browser.string,os:s.os.name,userGuid:o.getUserGuid()};l.isFeatureEnabled("dontReportSF")||(I.organizationName=d(),I.organizationId=f(),I.roleId=p(),I.extraData=h());var E="Logging WalkMe EndUser ("+n.getEndUserGuid()+"). Caused by WalkMe Visible : "+!!i;t.customerLog(E,1,_);var x=u(I);C=!0;Fp.execute({dataType:"jsonp",url:a.get()+"/EndUser/AddEndUserData",data:{endUsersDataSerialized:x},timeout:k,success:function(t){"true"==t?b(c,1):"false"==t&&(b(c,0),e&&e())}})}}},c.apply(null,arguments)}function Mn(e,t){function n(e,t,n,r){var i=new Zc.regular,o=jl.get("MobileUtils");return o.message(e+"_"+d,{varName:t},n,function(e){r&&r(e,i)}),d++,i}function r(e,r,i){function o(e,t){t.setValue(void 0!==e[a]&&e[a]===i)}var a=c[r.PermissionsForApplicationVar];return n(e+a,a,t.MOBILE_COMMANDS.GET_DATA.permissions,o)}function i(e,t){if(e.toString()===t.toString())return!1;for(var n=e.split("."),r=t.split("."),i=Math.min(n.length,r.length),o=0;i>o;){var a=Number(n[o]),s=Number(r[o]);if(a!=s)return a>s;o++}return n.length>r.length}function o(e,t){return e.toString()===t.toString()?!1:!i(e,t)}function a(e,t,n,r){var i=e[l];void 0===i||null===i?n.setValue(!1):n.setValue(r(i,t))}function s(e,r,i){return n(e.StorageVarName+r,e.StorageVarName,t.MOBILE_COMMANDS.GET_DATA.storageVar,i)}var u=this,l="deviceSystemVersion",c={"Camera Access":"video","Location Services":"location",Contacts:"contacts","Photo Gallery":"photos","Sending Notifications":"notifications"},d=0;u.getFuncList=function(){return k},u.getFuncAssert=function(){return _},u.getAsyncFuncs=function(){return x};var f=function(e){return r("Permission_enabled_",e,!0)},p=function(e){return r("PermissionFor_notEnabled_",e,!1)},g=function(e){function r(t,n){a(t,e.OSVersionInput,n,function(e,t){return e.toString().toLowerCase()==t.toString().toLowerCase()})}return n("OSVersion_is",l,t.MOBILE_COMMANDS.GET_DATA.systemInfo,r)},h=function(e){function r(t,n){a(t,e.OSVersionInput,n,function(e,t){return e.toString().toLowerCase()!=t.toString().toLowerCase()})}return n("OSVersion_isNot",l,t.MOBILE_COMMANDS.GET_DATA.systemInfo,r)},m=function(e){function r(t,n){a(t,e.OSVersionInput,n,function(e,t){return i(e.toString(),t.toString())})}return n("OSVersion_newerThan",l,t.MOBILE_COMMANDS.GET_DATA.systemInfo,r)},v=function(e){function r(t,n){a(t,e.OSVersionInput,n,function(e,t){return o(e.toString(),t.toString())})}return n("OSVersion_olderThan",l,t.MOBILE_COMMANDS.GET_DATA.systemInfo,r)},y=function(e,t,n){function r(t,n){var r=t[e.StorageVarName],i=Dh(e.StorageVarInput,["&",'"',"'"]);void 0===r||null===r?n.setValue(!1):n.setValue(r.toString().toLowerCase()==i.toLowerCase());
}return s(e,"_equals",r)},w=function(e,t,n){function r(t,n){var r=t[e.StorageVarName],i=Dh(e.StorageVarInput,["&",'"',"'"]);void 0===r||null===r?n.setValue(!0):n.setValue(r.toString().toLowerCase()!=i.toLowerCase())}return s(e,"_notEquals",r)},b=function(t,n,r){function i(n,r){var i=n[t.StorageVarName];void 0===i||null===i?r.setValue(!1):r.setValue(e.isBigger(i,t.StorageVarInput))}return s(t,"_bigger",i)},S=function(t,n,r){function i(n,r){var i=n[t.StorageVarName];void 0===i||null===i?r.setValue(!1):r.setValue(e.isSmaller(i,t.StorageVarInput))}return s(t,"_smaller",i)},T=function(t,n,r){function i(n,r){var i=n[t.StorageVarName],o=Dh(t.StorageVarInput,["&",'"',"'"]);void 0===i||null===i?r.setValue(!1):r.setValue(e.isLike(i.toString(),o))}return s(t,"_like",i)},I=function(t,n,r){function i(n,r){var i=n[t.StorageVarName],o=Dh(t.StorageVarInput,["&",'"',"'"]);void 0===i||null===i?r.setValue(!0):r.setValue(!e.isLike(i.toString(),o))}return s(t,"_notLike",i)},C=function(e,t,n){function r(t,n){var r=t[e.StorageVarName];void 0!==r&&null!==r?n.setValue(!0):n.setValue(!1)}return s(e,"_exists",r)},E=function(e,t,n){function r(t,n){var r=t[e.StorageVarName];void 0!==r&&null!==r?n.setValue(!1):n.setValue(!0)}return s(e,"_notExists",r)},k={StorageVarEquals:y,StorageVarNotEquals:w,StorageVarBigger:b,StorageVarSmaller:S,StorageVarLike:T,StorageVarNotLike:I,StorageVarExists:C,StorageVarNotExists:E,OSVersionIs:g,OSVersionIsNot:h,OSVersionNewerThan:m,OSVersionOlderThan:v,PermissionEnabled:f,PermissionNotEnabled:p},_=[];_.StorageVarExists=!1,_.StorageVarNotExists=!1,_.StorageVarEquals=!1,_.StorageVarNotEquals=!1,_.StorageVarLike=!1,_.StorageVarNotLike=!1,_.StorageVarBigger=!1,_.StorageVarSmaller=!1,_.OSVersionIs=!1,_.OSVersionIsNot=!1,_.OSVersionNewerThan=!1,_.OSVersionOlderThan=!1,_.PermissionEnabled=!1,_.PermissionNotEnabled=!1;var x=["StorageVarExists","StorageVarNotExists","StorageVarEquals","StorageVarNotEquals","StorageVarLike","StorageVarNotLike","StorageVarBigger","StorageVarSmaller","OSVersionIs","OSVersionIsNot","OSVersionNewerThan","OSVersionOlderThan","PermissionEnabled","PermissionNotEnabled"]}function Ln(){var e=this,t=jl.get("screen");e.getFuncList=function(){return a},e.getFuncAssert=function(){return s},e.getAsyncFuncs=function(){return u};var n=function(e){return t.width>e.WidthInput?!0:!1},r=function(e){return t.width<e.WidthInput?!0:!1},i=function(e){return t.height>e.HeightInput?!0:!1},o=function(e){return t.height<e.HeightInput?!0:!1},a={widthMoreThan:n,widthLessThan:r,heightMoreThan:i,heightLessThan:o},s=[],u=[]}function Bn(){function e(e,t,n){return t==e.WindowSizeInput?!1:t>e.WindowSizeInput===n}var t=this,n=jl.get("win");t.getFuncList=function(){return o},t.getFuncAssert=function(){return a},t.getAsyncFuncs=function(){return s};var r=function(t){switch(t.SizeParameter){case"Width":return e(t,n.innerWidth,!0);case"Height":return e(t,n.innerHeight,!0)}},i=function(t){switch(t.SizeParameter){case"Width":return e(t,n.innerWidth,!1);case"Height":return e(t,n.innerHeight,!1)}},o={WindowSizeMoreThan:r,WindowSizeLessThan:i},a=[],s=[]}function Fn(e){function t(){}function n(e){if(!e)return void 0;var t=0;return r(e,t)}function r(t,n){switch(t.Type){case e.NEW_CONDITION_NODE_TYPE.Condition:return i(t,n);case e.NEW_CONDITION_NODE_TYPE.Group:return o(t,n);default:return a(t,n)}}function i(e,t){return{nodeType:"Func",nodeDepth:t,ConditionId:e.Id,funcName:e.Settings.funcName,funcArgs:e.Settings.funcArgs}}function o(e,t){return r(e.Nodes[0],t+1)}function a(t,n){var i=t.Type==e.NEW_CONDITION_NODE_TYPE.And?"And":"Or";return{nodeType:i,nodeDepth:n,leftSon:r(t.Nodes[0],n),rightSon:r(t.Nodes[1],n)}}this.convert=n,t.apply(null,arguments)}function jn(e,t){function n(){a=jl.create("ConditionChecker",t),r()}function r(){for(var e in a)if(a.hasOwnProperty(e)){var t=a[e];"evaluateAsync"!=e&&"function"==typeof t&&(s[e]=i(t))}}function i(e){return function(){return e.apply(a,arguments)}}function o(t){var n=e.convert(t.Root);a.evaluateAsync(n)}var a,s=this;this.evaluateAsync=o,n.apply(null,arguments)}function Rn(){function e(e,t,n){for(var r=Array(),i=n,o=e.indexOf(t);o>-1;){if("("!=e.charAt(o+t.length))throw"Ilegal function definition in expression";for(var a=o+t.length+1,s=Array(),u=a;(")"!=e.charAt(u)||0!=s.length)&&u<e.length;){if("'"==e.charAt(u)||'"'==e.charAt(u))if(0==s.length)s.push(e.charAt(u));else{var l=s.pop();l!=e.charAt(u)&&(s.push(l),s.push(e.charAt(u)))}u++}if(")"!=e.charAt(u))throw"Ilegal function definition in expression";r[i]=e.substring(o,u+1),e=e.substring(0,o)+"["+i+"]"+e.substr(u+1),i++,o=e.indexOf(t)}return[r,e]}function t(e){if(void 0==e||e.length<=0)throw"Ilegal function definition";for(var t=e.substr(0,e.indexOf("(")),n=e.substring(e.indexOf("(")+1,e.length-1).split(","),r=0;r<n.length;r++)n[r]=n[r].replace(/^\s+|\s+$/g,""),("'"==n[r].charAt(0)&&"'"==n[r].charAt(n[r].length-1)||'"'==n[r].charAt(0)&&'"'==n[r].charAt(n[r].length-1))&&(n[r]=n[r].substring(1,n[r].length-1));return function(){return a.supportedFunctions[t].apply(this,n)}}function n(e,t){return void 0==t&&(t=1),mtjQuery(e).length>=t}function r(e,t){return mtjQuery(e).text()==t}function i(e){return $g(e)}function o(e){e=parseInt(e);for(var t=0;t<xg.length;t++){var n=Xg(xg[t]);if(n&&n.StepIndex==e)return!0}return!1}var a=this;this.supportedFunctions={isExistJQ:n,isTextValueJQ:r,isLocationMatch:i,isStepPlayed:o};var s=new td;this.setExpression=function(n){if(void 0==n||n.length<=0)throw"Ilegal Expression";var r=0;for(var i in this.supportedFunctions)if(this.supportedFunctions.hasOwnProperty(i)){var o=e(n,i,r);n=o[1];for(var a=r;a<o[0].length;a++){var u=t(o[0][a]);s.setFunction(u,r++)}}s.setExpression(n)},this.evaluate=function(){if(void 0!=s)return s.evaluate();throw"Evaluator is undefined"}}function Un(){function e(){return jl.get("TimerManager")}function t(e,t,r,i,o,a){X=jl.get("StorageResourceManager"),ee=t,J=new Gn,oe=jl.get("CookiesStorageManager"),re=new L,$=[],H=n(r,i),K=e,z=K.isLocalStorageEnabled(),Y=a,el("Storage mode: "+H+", ["+(i?"from db/feature":"auto detected")+"], compressed: "+o,3),Z._origin=X.getOrigin(),Z._path=X.getHiddenIframePath(o),Z._saveCookiePath=X.getSaveCookiePath()}function n(e,t){return e&&"Safari"==ef.browser.name?dc.Cookies:t?t:e&&ef.isIEBrowser(10,"gte")?dc.IndexedDB:dc.LocalStorage}function r(e){for(var t=0;t<le.length;t++)le[t].push(e)}function i(e,t){S(e,t),J.removeData(e,t),r(e)}function o(e,t){re.removeData(e,t)}function a(e,t){var n=Z.getData(e,t)||{};return n&&"string"==typeof n&&(n=l(n)||{}),n}function s(e,t,n,r){var i={requestType:"add",userGuid:r,key:e,keyValues:t,saveObj:{value:"{}",saveTime:(new Date).getTime(),expireSeconds:n}};C(i)}function c(e,t,n,r){var i={requestType:"remove",userGuid:r,key:e,keysToRemove:t,saveObj:{value:"{}",saveTime:(new Date).getTime(),expireSeconds:n}};C(i)}function d(e,t){C(f(e,t))}function f(e,t){var n=p();return e.actionId=n,ce[n]=t,e}function p(){return de+=1,de>1e3&&(de=1),de}function g(e){if(e&&ce[e.actionId]){var t=ce[e.actionId];delete ce[e.actionId],t(e.value)}}function h(e){Y?q=jl.create("HiddenIframeProxy",[Z._iframe.contentWindow,G,e]):(q=Z._iframe.contentWindow,e())}function m(){return window.postMessage&&z}function v(){var e=document.getElementById(ae);return e}function y(e){var t=K.createIframe(Z._path,ae,!1,e,G);return t}function w(e,t,n,r){return{requestType:"set",userGuid:r,key:e,saveObj:{value:t,saveTime:(new Date).getTime(),expireSeconds:n}}}function b(e,t,n,r){var i=w(e,t,n,r);C(i)}function S(e,t){C({requestType:"delete",userGuid:t,key:e})}function T(e){var t=le.shift();if(e)for(var n in e){var r=e[n];if(r&&r.length&&r.length>0&&void 0!=r[0].saveObj)for(var i=0;i<r.length;i++){var o=r[i].key;if(-1==wmjQuery.inArray(o,t)){var a=r[i].saveObj,s=I(a);s>0?J.saveData(o,a.value,s/1e3,n):Z.removeData(o,n)}}}}function I(e){var t=(new Date).getTime(),n=e.saveTime+1e3*e.expireSeconds-t;return n}function C(e){Z._iframeReady&&(Z.isInitialized()?ne!==!1&&E(e):Z.init(function(){E(e)}))}function E(e){q.postMessage(u(e),"*")}function k(e){le.push([]);var t={requestType:"getAllMultiple",usersToLoad:e};C(t)}function _(){var e={requestType:"checkCanSave",saveMode:H,userGuids:ee};C(e)}function x(){mtjQuery.browser.msie&&window.opener?(P(),e().libSetTimeout(A,3e3)):A()}function P(){Z._iframeReady||(D(),e().libSetTimeout(P,100))}function D(){E({requestType:"get",key:se,userGuids:ee,saveMode:H})}function A(){Z._iframeReady||(Z._iframeReady=!0,O(),_())}function O(){F(),te=e().libSetTimeout(N,ue)}function N(){el("storage failed loading, removing walkme",3),F(),ne=!1,E({requestType:"terminate"}),_makeTutorial.removeWalkMe("storageFailedLoading")}function M(){window.open(Z._saveCookiePath,"_blank"),pe=!0,window.focus(),mtjQuery(document).unbind("click.wmpopup"),B()}function B(t){t=t||0,t>10?N():ne!==!0&&(t++,_(),e().libSetTimeout(function(){B(t)},200))}function F(){te&&(te.clear(),te=null)}function j(t){F(),t.canSave||pe?t.canSave&&(clearTimeout(fe),U(),O(),k(ee)):"cookies"==H?(void 0===fe&&R(),fe=e().libSetTimeout(_,500)):N()}function R(){var e=parseInt(oe.getData(ge)||0);3>e?(e++,oe.saveData(ge,e.toString(),he),mtjQuery(document).bind("click.wmpopup touchend.wmpopup",M)):N()}function U(){mtjQuery(document).unbind(".wmpopup")}function G(e){if(Z._origin.toLowerCase().indexOf(e.origin)>-1){try{var t=l(e.data)}catch(n){return}if("checkCanSave"==t.key)j(t);else if("getAllMultiple"==t.key){if(ne=!0,F(),T(t.allValues),oe.removeData(ge),oe.removeData(Nd),ie){var r=ie;ie=null,r()}Q()}else void 0!==t.actionId?g(t):"get"==t.key&&(I(t.saveObj)>0?W(t.dataKey,t.saveObj.value):Z.removeData(t.dataKey,userGuid))}}function W(e,t){e==se&&t&&A()}function V(e){e&&$.push(e)}function Q(){if($.length>0){var e=$.shift();e&&e()}}var H,z,Y,q,K,X,J=null,$=null,Z=this;Z._iframe=null,Z._iframeReady=!1;var ee,te,ne,re,ie=function(){},oe=null,ae="walkme-hidden-iframe",se="wm-sync",ue=15e3,le=[];Z.refreshGetData=function(e,t){V(t),ne===!0?k(e):Q()},Z.saveData=function(e,t,n,a){n>0?(o(e,a),b(e,t,n,a),J.saveData(e,t,n,a),r(e)):(i(e,a),re.saveData(e,t,n))},Z.getData=function(e,t){var n=J.getData(e,t);return void 0===n&&(n=re.getData(e,t)),n},Z.removeData=function(e,t){i(e,t),o(e,t)},Z.increment=function(e,t,n,r,i){d({requestType:"increment",userGuid:r,key:e,ttl:n,lastValue:t},i)},Z.setSyncFlag=function(e){var t=w(se,1,10,e);E(t)},Z.addToDictionary=function(e,t,n,r,i){var o=a(e,i);if(o[t]=n,o=u(o),r>0){var l={};l[t]=n,s(e,l,r,i),J.saveData(e,o,r,i)}else re.saveData(e,o,r)},Z.removeFromDictionary=function(e,t,n,r){var i=a(e,r);if(delete i[t],i=u(i),n>0){var o=[t];c(e,o,n,r),J.saveData(e,i,n,r)}else re.saveData(e,i,n)},Z.getInternalKeys=function(e,t){var n=re.getInternalKeys(e,t),r=J.getInternalKeys(e,t);return wmjQuery.extend(n,r)},this.sessionSetData=function(e,t,n){var r={requestType:"setSession",userGuid:n,key:e,value:t};C(r)};var ce={};this.sessionGetData=function(e,t,n,r){d({requestType:"getSession",userGuid:n,key:e,defaultValue:t},r)};var de=0;this.init=function(e){return Z._iframeReady=!1,ie=e,m()?(Z._iframe=v(ee),void(Z._iframe?h(x):Z._iframe=y(function(){h(x)}))):(el("Cannot run cross-domain Walk-Thrus on this browser. Removing WalkMe."),!1)},this.removeAllData=function(e){var t=J.getStorageInternal(),n=t[e];if(n)for(var r in n)Z.removeData(r,e)};var fe,pe=!1,ge="wm-popup",he=31536e4;Z.isInitialized=function(){try{return Z._iframe&&Z._iframe.contentWindow}catch(e){return!1}},t.apply(null,arguments)}function Gn(){function e(){r={}}function t(e){return void 0===r[e]&&(r[e]={}),r[e]}var n=this,r=null;this.saveData=function(e,n,r,i){var o={};o.value=n,o.saveTime=(new Date).getTime(),o.expiresSeconds=r;var a=t(i);a[e]=o},this.getData=function(e,r){var i=t(r),o=i[e];if(o){var a=(new Date).getTime(),s=o.saveTime+1e3*o.expiresSeconds-a;if(0==o.expiresSeconds||s>0)return o.value;n.removeData(e,r)}return void 0},this.removeData=function(e,n){var r=t(n);delete r[e]},this.clear=function(e){r[e]={}},this.getStorageInternal=function(){return r},this.getInternalKeys=function(e,r){var i={},o=t(e);return wmjQuery.safeEach(o,function(t,o){0===wmjQuery.trim(t).toLowerCase().indexOf(r)&&(i[t]=n.getData(t,e))}),i},e.apply(null,arguments)}function Wn(){function e(e,t,n,r,u){i=e,s.dataManager=t,c=n,o=r,a=u}function t(){return s.dataManager.isInitialized?s.dataManager.isInitialized():d}function n(e){return a.defaultValue(e,c)}function r(e){wmjQuery.safeEach(e,function(t,n){void 0!==n&&""!==n&&(n=l(n)),e[t]=n})}this.ONE_HOUR_SECONDS=3600;var i,o,a,s=this,c=null,d=!1;this.getStorageType=function(){return i},this.init=function(e){return e=e||function(){},t()?void e():(d=!0,s.dataManager.init?s.dataManager.init(e):void e())},this.refreshGetData=function(e,t){e=e&&e.length>0?e:[n()],s.dataManager.refreshGetData?s.dataManager.refreshGetData(e,t):t&&t()},this.saveData=function(e,t,r,i){if(e=mtjQuery.trim(e),i=n(i),void 0===t)return void s.removeData(e,i);if(void 0==r){var a="storageManager: trying to save key in storage manager without expiration, key: "+e+", value: "+t+", userGUID: "+i;o.customerLog(a,3)}s.dataManager.saveData(e,u(t),r,i)},this.getData=function(e,t,r){e=mtjQuery.trim(e),r=n(r);var i=s.dataManager.getData(e,r);return void 0===i||""===i?t:l(i)},this.addToDictionary=function(e,t,r,i,o){if(e=mtjQuery.trim(e),o=n(o),s.dataManager.addToDictionary)s.dataManager.addToDictionary(e,t,r,i,o);else{var a=s.getData(e,o);(null===a||"object"!=typeof a)&&(a={}),a[t]=r,s.saveData(e,a,i,o)}},this.removeFromDictionary=function(e,t,r,i){if(e=mtjQuery.trim(e),i=n(i),s.dataManager.removeFromDictionary)s.dataManager.removeFromDictionary(e,t,r,i);else{var o=s.getData(e,i);o&&void 0!==o[t]&&(delete o[t],s.saveData(e,o,r,i))}},this.removeData=function(e,t){e=mtjQuery.trim(e),t=n(t),s.dataManager.removeData(e,t)},this.addToQueue=function(e,t,r,i,o){e=mtjQuery.trim(e),o=n(o);var a=s.getData(e,[],o);a||(a=[]),a.push(t),a.splice(0,a.length-r),s.saveData(e,a,i,o)},s.convertOldCookieStorage=function(e){var t=jl.get("CookiesManager"),n=t.getCookie(e),r='"#!@DeL@!#"';if(n&&n!=r&&0!==n.indexOf('"')){s.saveData(e,n,yc);var i=qd.getStorageType();i&&i!=STORAGE_TYPE.Cookie&&t.setCookie(e,r,-1)}},s.increment=function(e,t,r,i,o){if(e=mtjQuery.trim(e),i=n(i),s.dataManager.increment)s.dataManager.increment(e,t,r,i,o);else{var a=s.getData(e,0,i);t!==a&&(a++,s.saveData(e,a,r,i)),o&&o(a)}},s.getInternalKeys=function(e,t){t&&""!==t||(t="wm-");var i=s.dataManager.getInternalKeys(n(e),t);return r(i),i},this.removeAllData=function(e){s.dataManager.removeAllData(n(e))},s.sessionSetData=function(e,t,n){e=mtjQuery.trim(e),s.dataManager.sessionSetData?s.dataManager.sessionSetData(e,t,n):window.sessionStorage[n+e]=t},s.sessionGetData=function(e,t,n,r){e=mtjQuery.trim(e),s.dataManager.sessionGetData?s.dataManager.sessionGetData(e,t,n,r):r&&r(window.sessionStorage[n+e]||t)},s.setSyncFlag=function(e){s.dataManager.setSyncFlag&&s.dataManager.setSyncFlag(e)},s.isEnabled=function(){return s.dataManager.isEnabled()},e.apply(null,arguments)}function Vn(){function e(e,r){t=r,n=e}var t,n,r=this;r.saveToStorage=function(e,r,i){n.saveData(e+t,r,i)},r.getFromStorage=function(e,r){return n.getData(e+t,r)},r.removeFromStorage=function(e){return n.removeData(e+t)},r.refreshGetData=function(e,t){return n.refreshGetData(e,t)},e.apply(null,arguments)}function Qn(e,t,n,r){function i(){l=e,c=t,d=n,f=r}function o(e,t,n){m[e]||(m[e]={success:[],fail:[]}),t&&m[e].success.push(t),n&&m[e].fail.push(n)}function a(e,t){for(var n=t?m[e].success:m[e].fail,r=[].splice.call(arguments,2,arguments.length-2),i=0;i<n.length;i++)try{h.apply(this,[n[i]].concat(r))}catch(o){}m[e]=void 0}function s(e){return!!m[e]}var u,l,c,d,f,p=this,g=jl.get("TimerManager"),h=function(e){if(e){var t=arguments;g.libSetTimeout(function(){e.apply(this,Array.prototype.slice.call(t,1))},0)}},m={};this.loadServerData=function(e,t,n,r,i,u){var l=s(n);o(n,r,i),l||Fp.execute({url:e,data:t,traditional:u,success:function(e,t,r){e.ErrorMessage?a(n,!1,e.ErrorMessage):(p.updateLocalData(n,e),a(n,!0,e))},error:function(e,t,r){a(n,!1,t)}})},this.retrieveData=function(e,t,n,r,i,o){if(void 0!==u)return void(r&&r(u));var a=l.getData(n,null);if(a){var t=f?f(a):a;r&&r(t)}else p.loadServerData(e,t,n,r,i,o)},this.retrieveLocalData=function(e){if(void 0!==u)return u;var t=l.getData(e,null);return f&&t?f(t):t},this.updateLocalData=function(e,t){u=t;var n=d&&t?d(t):t;l.saveData(e,n,c)},this.updateRemoteData=function(e,t,n,r){Fp.execute({url:e,data:t,success:function(e,t,i){e.ErrorMessage?h(r,e.ErrorMessage):h(n)},error:function(e,t,n){h(r,t)}})},i.apply(null,arguments)}function Hn(e,t,n,r,i,o,a,s){function l(){m=e,v=new Qn(t,C,d,f),y=r,b=n}function c(e,t){return{userGuid:i.getUserGuid(),endUserId:e,taskGoalsIds:u(t),source:i.getEnvironmentId()}}function d(e){var t=[];return mtjQuery.each(e,function(e,n){if(n.TaskId){var r=mtjQuery.extend(!0,{},n);p(r,"TaskId","t"),p(r,"IsCompleted","c"),p(r,"CompletedGoals","g"),t.push(r)}}),t}function f(e){var t={};return mtjQuery.each(e,function(e,n){if(n.t){var r=mtjQuery.extend(!0,{},n);p(r,"t","TaskId"),p(r,"c","IsCompleted"),p(r,"g","CompletedGoals"),t[r.TaskId]=r}}),t}function p(e,t,n){e.hasOwnProperty(t)&&(e[n]=e[t],delete e[t])}function g(e,t){var n=0;for(var r in e){var i=e[r];e.hasOwnProperty(r)&&i.IsCompleted&&t[i.TaskId]&&n++}return n}function h(e,t){if(e&&0!==e.length)for(var n=e.length-1;n>=0;n--)e[n].taskId==t.taskId&&e[n].goalId==t.goalId&&e[n].permutationId==t.permutationId&&e[n].source==t.source&&e[n].endUserGuid==t.endUserGuid&&e.splice(n,1)}var m,v,y,w,b,T=this,I=1948,C=3600,E="/ToDoList/UserCompletedTasksByIdsAndGoalsIds",k="/ToDoList/UpdateUserTasksCompleted";T.init=function(){w=b.register("tg",{beforeSendingManipulationFunc:h,actionUrl:k,prefixForStorage:"tg",sendingThreshold:1,dataType:"task goal",dataIdFieldName:"Id",requestParamsFunc:function(e){return{userCompletedTasksSerialized:u(e),userGuid:i.getUserGuid()}}})},T.getEndUserUniqueDataKey=function(e){return o?"wm-ct-prv-"+i.getUserGuid()+"-"+e:"wm_ct_"+i.getUserGuid()+"_"+e},this.asyncRetrieveCompletedTasks=function(e,t,n,r){var i=c(e,t);wmjQuery.param(i).length>I&&(i.taskGoalsIds=null),v.retrieveData(m+E,i,T.getEndUserUniqueDataKey(e),n,r,!0)},this.syncRetrieveCompletedTasks=function(e,t){var n=v.retrieveLocalData(T.getEndUserUniqueDataKey(e));return n?n:(v.loadServerData(m+E,c(e,t),T.getEndUserUniqueDataKey(e),null,null,!0),null)},this.updateTaskCompleted=function(e,t,n,r,o,u){var l=T.getEndUserUniqueDataKey(e);v.updateLocalData(l,r);var c=S(o).length;if(u){var d={endUserId:e,taskId:t?t.Id:-1,goalId:n?n.Id:-1,tasksCount:c,permutationId:i.getPermutationId(),endUserGuid:i.getEndUserGuid(),source:i.getEnvironmentId()};w.sendData(d);try{if(a.isReportingEnabled()&&t&&t!=={}){var f=s.getDeployablesManager(t.RelatedDeployableType),p=f.getById(t.RelatedDeployableId),h=g(r,o),m=h/c,b=Number(m.toFixed(2)),I=jl.get("DeployableTypeToEventSenderAppTypeMapper"),C={type:a.EVENT_APPS.Task,oId:t.Id,oName:t.Name,pId:"-1",total:o?c:-1,aoId:p.Id,aoName:p.Name,aAppType:I.map(t.RelatedDeployableType),ratio:b};a.postEvent(a.EVENT_TYPES.Complete,C)}}catch(E){y(E)}}},this.tempClearUserCompletedTasks=function(e){v.updateLocalData(T.getEndUserUniqueDataKey(e),{})},this.clearTaskAndGoalCompletionLocally=function(e,t,n){var r=T.getEndUserUniqueDataKey(e),i=v.retrieveLocalData(r);wmjQuery.each(i,function(e,r){r.TaskId==t&&(r.IsCompleted=0);for(var i=r.CompletedGoals.length-1;i>=0;i--){var o=r.CompletedGoals[i];o==n&&r.CompletedGoals.splice(i,1)}}),v.updateLocalData(r,i)},l.apply(null,arguments)}function zn(){function e(e){o=e.serverAddress,s=e.lib.getUserGuid(),u=e.lib.Logger.error,l=e.getPermutationId,c=e.getEndUserGuid,d=e.getAuditSource,f=o+"/AbTesting/UserCompletedGoals",a=new Qn(e.storageManager,p)}function t(e){return"wm_abg_"+s+"_"+e}function n(e,t){return{userGuid:s,endUserId:e,source:d(),permutationId:l(),goalsToCheck:t}}function r(e){var t={};return t[g]=l(),t[h]=e,t}function i(e){var n=a.retrieveLocalData(t(e));return n&&l()==n[g]?n:null}var o,a,s,u,l,c,d,f,p=86400,g="p",h="g";this.asyncRetrieveCompletedGoals=function(e,i,o,s){var u=function(n){var i=t(e),s=r(n);a.updateLocalData(i,s),o&&o(n)},l=n(e,i);a.loadServerData(f,l,t(e),u,s,!0)},this.syncRetrieveCompletedGoals=function(e){var t=i(e);return t?t[h]:null},this.updateGoalCompleted=function(e,n){var o=t(e),s=i(e)||r([]);s[h].push(n),a.updateLocalData(o,s)},this.tempClearUserCompletedGoals=function(e){a.updateLocalData(t(e),{})},e.apply(null,arguments)}function Yn(){function e(e){i=e.goalsManager,o=e.todoListManager,n=_makeTutorial.Logger.wrapCustomerLog(Kl),r=jl.get("GoalsCompletedPetaSender")}function t(e){return e.GoalsNotCompleted?e.GoalsNotCompleted:[]}var n,r,i=null,o=null,a=this,s=function(e){r.audit(e),o.updateGoalCompleted(e)};this.startWatchingTasks=function(){var e=o.getTasksGoalsNotCompleted();mtjQuery.each(e,function(e,t){t.TaskId&&a.startWatchingTask(t)})},this.startWatchingTask=function(e){var r=t(e);if(r.length>0){var o={goalCompletedFunc:s};i.addGoalsWatch(r,o)}n("Started watching Task : "+e.Name,2)},e.apply(null,arguments)}function qn(e,t,n){function r(){h=e.wrapCustomerLog(Yl)}function i(e,t){return void 0===t&&(t=[]),mtjQuery("frame",e).each(function(){try{mtjQuery("frame, frameset",this.contentWindow.document).length>0&&(t=i(this.contentWindow.document,t)),t.push(this)}catch(e){h("Frame is cross-domain, we can't access it",v)}}),t}function o(){for(var e=0;e<b.length;e++){var t=b[e];I.isFrameActive(t)||null!=t&&null!=t.contentWindow&&a(t)}}function a(e){c(e)||(w.push(e),t.isIE(9,"lte")?e.addEventListener?e.addEventListener("load",s,!1):e.attachEvent("onload",s):mtjQuery(e).bind("load.walkme",function(){l(e)}))}function s(e){l(e.currentTarget)}function u(e){t.isIE(9,"lte")?e.removeEventListener?e.removeEventListener("load",s,!1):e.detachEvent("onload",s):mtjQuery(e).unbind("load.walkme")}function l(e){u(e),d(e)}function c(e){for(var t=0;t<w.length;t++)if(w[t]==e)return!0;return!1}function d(e){for(var t=0;t<w.length;t++)w[t]==e&&w.splice(t,1)}function f(){null!=y&&(y.clear(),y=null)}function p(){for(var e=0;e<w.length;e++)mtjQuery(w[e]).unbind("load.walkme");w=[]}function g(e){var t=0;return t=void 0!==e.height&&void 0!==e.width?e.height*e.width:mtjQuery(e).height()*mtjQuery(e).width()}var h,m=7e3,v=5,y=null,w=[],b=void 0,S=null,T=void 0,I=this;this.isFramesetsPage=function(){return void 0===T&&(T=wmjQuery("frameset").length>0),T},this.checkIfAnyFrameIsUnloaded=function(e){n.libSetTimeout(f,e),b=i(),w=[],y=n.playSetInterval(o,5),null!=S&&S.clear(),S=n.libSetTimeout(p,m)},this.isLoadingFrames=function(){return w.length>0},this.isFrameActive=function(e){return null==e?(h("Frame is not active (Frame is null)",v),!1):null==e.contentWindow?(h("Frame is not active (frame.contentWindow is null)",v),!1):null==e.contentWindow.document?(h("Frame is not active (frame.contentWindow.document is null)",v),!1):0==mtjQuery("head",e.contentWindow.document).length?(h('Frame is not active (mtjQuery("head", frame.contentWindow.document).length == 0)',v),!1):0==mtjQuery("body",e.contentWindow.document).length&&0==mtjQuery("frameset",e.contentWindow.document).length?(h('Frame is not active (mtjQuery("body", frame.contentWindow.document).length == 0)',v),!1):!0},this.getAllFramesDocuments=function(){for(var e=[],t=i(),n=0;n<t.length;n++)e.push(t[n].contentWindow.document);return e},I.waitForFramesHeadsAndBodies=function(e){function t(){var o=I.findBiggestFrame(),a=I.isFrameActive(o);return a?(h("Biggest frame is active. waitCount: "+i,5,"FramesetsUtils"),void e()):i>r?void h("Failed waiting for head and body in biggest frame. Stopping execution"+i,1,"FramesetsUtils"):void n.setWalkmeTimeout(function(){i++,h("Biggest frame wasn't ready on attempt "+i,5,"FramesetsUtils"),t()},200)}if(!I.isFramesetsPage())return void e();var r=40,i=0;t()},this.findBiggestFrame=function(e,t){e=e?e:document;var n=t?g(t):-1;return mtjQuery("frame",e).each(function(){try{if(mtjQuery("frame, frameset",this.contentWindow.document).length>0){var e=this.contentWindow.document;e&&(t=I.findBiggestFrame(e,t),n=t?g(t):-1)}else{var r=g(this);r>n&&(n=r,t=this)}}catch(i){}}),t},r.apply(null,arguments)}function Kn(e,t,n,r,i,o,a){function s(){}function u(e,t,n,r,i){function o(e){var n,r=t.Settings.complexHtml;return n="option"==e.target.tagName.toLowerCase()?e.target:e.target.options[e.target.selectedIndex],n.value==r.val||n.text==r.txt}var a=void 0;i&&(a=o);var s=["change"],u={change:a};r.push(c(e,t,s,n,y,u))}function l(e){if(null!=e){var t=Wg(e);return r.isActionStep(t)}return!1}function c(e,t,n,r,o,a){function s(e){var t=function(t){(!e||e(t))&&l(t)};return t}Xp=Fd.WAITING_FOR_ELEMENT_EVENT;for(var u=function(e,t){i.customerLog("Step event triggered.");var a=-1!==wmjQuery.inArray("click",n);return p(r,o,a,e,t),!0},l=d(u),c=0;c<n.length;c++){var g=a&&a[n[c]],h=s(g);f(e,n[c]+".mt",h)}return function(e){return l(null,e)}}function d(e){function t(t,r){var i;return n||(i=e(t,r),n=!0),i}var n=!1;return t}function f(e,t,n){e.on(t,n),b.push({element:e,eventName:t})}function p(r,i,o,a,s){n.releaseBalloons(),o&&(n.shouldHandlePageAsFramesets()&&t.checkIfAnyFrameIsUnloaded(i),null!=a&&(ng=g(mtjQuery(a.target)))),Xp=Fd.RUNNING,Su(),Fu(void 0==s),void 0!=s&&(Kp=s),r&&void 0==s?n.tutorialFinished():e.playSetTimeout(function(){n.executeTutorialNextStep()},i)}function g(e){if(ef.isIE()){var t=!1;if("a"==e[0].nodeName.toLowerCase())t=e;else{var n=e.parents("a");n.length>0&&(t=mtjQuery(n[0]))}if(t&&t.attr("href")&&0==t.attr("href").indexOf("javascript:"))return!0}return!1}function h(e){return"Func"==e.nodeType?"ElementClicked"==e.funcName:"And"==e.nodeType||"Or"==e.nodeType?h(e.leftSon)||h(e.rightSon):!1}function m(e,t,n,r){Xp=Fd.WAITING_FOR_ELEMENT_EVENT,ru(e,t);for(var i=function(r){el("Clicked the branched walk-thru."),ru(e,t),nu(n)},o=d(i),a=d(function(){ru(e,t)}),s=0;s<t.length;s++)f(e,t[s]+".mt",o);return function(){return a()}}var v=this,y=1e3,w=500,b=[];v.handle=function(t,r,s,d,f){var g=Wg(s),v=!1,b=g.LinkedTutorialIds?!0:!1,S=[];if(b){var T=g.LinkedTutorialIds.split(";"),I=qs(T);I?(i.customerLog("This is a branched step. Branched walk-thru's: "+g.LinkedTutorialIds),S.push(m(t,["click","mousedown"],T,y))):(i.customerLog("Branch walk-thru id, not found: "+g.LinkedTutorialIds),b=!1)}var C=!1,E=!1,k=-1,_=Ls(),x=null==_;Ds(g.End,fc.NEXT_BUTTON)&&(Xp=Fd.WAITING_FOR_NEXT_BUTTON_CLICK,x?E=!0:(_.IsSkippable||yl(_.Settings,"skipNotExists",!1)||Ks(_)!=Vd.STICKY_CONDITION&&!Xs(_)||yl(_.Settings,"fake",!1))&&-2==fs(_.TutorialIndex,_.StepIndex,void 0,void 0,void 0,hc.Normal)?E=!0:C=!0);var P;if(Ds(g.End,fc.NOTHING)?x||(v=!0):Ds(g.End,fc.HOVER)?(P=["mouseenter"],S.push(c(t,r,P,x,w))):Ds(g.End,fc.CLICK)&&!b?(P=["click","mousedown","mouseup"],o.isFeatureEnabled("ipad_touch_as_click")&&P.push("touchstart"),o.isFeatureEnabled("noFocusTrigger")||P.push("focus"),S.push(c(t,r,P,x,y))):Ds(g.End,fc.KEY_PRESSED)?(P=["keydown","paste","change"],S.push(c(t,r,P,x,2e3))):Ds(g.End,fc.PAGE_CHANGED)?(Xp=Fd.WAITING_FOR_PAGE_CHANGE,tg=!0):Ds(g.End,fc.DURATION)?g.durationHandler=e.playSetTimeout(function(){Fu(),n.executeTutorialNextStep()},1e3*g.Duration):Ds(g.End,fc.SELECT_ANY)?u(t,r,x,S,!1):Ds(g.End,fc.SELECT_VALUE)?u(t,r,x,S,!0):Ds(g.End,fc.SWIPE)&&(P=["swipe"],S.push(c(t,r,P,x,w))),g.Settings.additionalTriggers){Hp("StepAdditionalTriggerCBSet",g);var D={elementName:r.StepTitle||r.StepText,jqueryPollingIntervalMs:500,elementPollingIntervalMs:500,stickySonar:!0,trackEvent:"Step - Additional Trigger",trackData:a.getStepTrackData(r)},A=jl.create("ConditionChecker",D);A.onValueChanged(function(e){if(Hp("StepAdditionalTriggered",g),e){tg=!1,g.durationHandler&&(g.durationHandler.clear(),g.durationHandler=null);var t=h(g.Settings.additionalTriggers);p(x,y,t)}}),A.evaluateAsync(g.Settings.additionalTriggers),Ng.push(A)}if(s>0&&Ds(g.End,fc.NEXT_BUTTON)&&!l(f)){if(k=fs(d,s-1,0,-1,void 0,hc.Normal),k>=0){var O=Wg(k);Ds(O.End,fc.NEXT_BUTTON)||(k=-1)}Ag=k}return{executeNextStep:v,clearElementEventsFuncs:S,buttons:{nextButton:C,doneButton:E,backButtonStepIndex:k}}},v.releaseAllEventBindings=function(){for(var e=0;e<b.length;e++)try{b[e].element.off(b[e].eventName)}catch(t){}b.length=0},s.apply(null,arguments)}function Xn(){var e,t=this;oa=function(n,r){t._question=n,t._questionDiv=mtjQuery("<div></div>"),e=r},t.getQuestionDivFromWindow=function(){var n=mtjQuery("#walkme-survey-balloon-"+e.Id+" .walkme-survey"),r=mtjQuery("#"+t._questionDiv.attr("id"),n);return r},t.setTitle=function(e){var n=mtjQuery("<div></div>");n.addClass("walkme-survey-question-title"),n.css("font-weight","bold"),n.css("font-size","16px"),n.css("margin-bottom","6px"),n.html(e),t._questionDiv.append(n)},t.setSubTitle=function(e){var n=mtjQuery("<div></div>");n.addClass("walkme-survey-question-sub-title"),n.css("margin-bottom","8px"),n.html(e),t._questionDiv.append(n)},t.Generate=function(){return t._questionDiv=mtjQuery("<div></div>"),t._questionDiv.attr("Id","walkme-survey-question-"+t._question.Id),t._questionDiv.addClass("walkme-survey-question"),t.setTitle(t._question.Title),t.setSubTitle(t._question.SubTitle),t._questionDiv},oa.apply(null,arguments)}function Jn(){function e(e,n){rr.extend(t,Xn,e,n)}var t=this,n=1e3;t.Generate=function(){t._questionDiv=t._base.Generate();var e=mtjQuery("<div></div>");e.addClass("walkme-survey-question-freetext-answers"),e.attr("id","walkme-survey-question-freetext-answers-"+t._base._question.Id);var r=mtjQuery('<textarea rows="4" cols="20" maxlength="'+n+'"></textarea>');return r.css("resize","none"),r.attr("id","walkme-survey-question-freetext-"+t._base._question.Id),r.addClass("walkme-survey-answer-textarea"),r.css("width","100%"),r.css("max-width","97%"),r.css("border","1px solid #b9b9b9"),e.append(r),t._questionDiv.append(e),t._questionDiv},t.getAnswers=function(){var e={},n=t._base.getQuestionDivFromWindow(),r=mtjQuery(".walkme-survey-answer-textarea",n).val();return""!=r?(e.questionId=t._base._question.Id,e.answerText=r,[e]):[]},t.getType=function(){return pc.FreeText},e.apply(null,arguments)}function $n(){function e(e,n){rr.extend(t,Xn,e,n)}var t=this;t.Generate=function(){t._questionDiv=t._base.Generate();var e=mtjQuery("<div></div>");e.addClass("walkme-survey-question-checkbox-answers"),e.attr("id","walkme-survey-question-checkbox-answers-"+t._base._question.Id);for(var n=t._base._question.Answers,r=0;r<n.length;r++){var i=mtjQuery("<div></div>");i.addClass("walkme-survey-question-checkbox-answer"),"rtl"==Nf.get().Direction?i.css("margin","0 0 5px 8px"):i.css("margin","0 8px 5px 0"),i.attr("id","walkme-survey-answer-"+n[r].Id);var o=mtjQuery("<label><label/>");o.attr("for","walkme-survey-answer-checkbox-"+n[r].Id),o.addClass("walkme-survey-answer-text"),o.css("*display","inline"),o.css("display","inline-block"),o.css("zoom","1"),o.css("max-width","91%"),ef.isIE("8")?o.css("vertical-align","top"):o.css("vertical-align","text-top"),o.html(n[r].Title);var a=mtjQuery('<input type="checkbox"/>');a.addClass("walkme-survey-answer-checkbox"),a.css("vertical-align","-3px"),"rtl"==Nf.get().Direction?ef.isIE("7")?(a.css("margin","0px -3px 0px -1px"),a.css("vertical-align","-4px")):ef.isIE("8")?a.css("margin","-1px -3px 0px 3px"):ef.isIE("9")?a.css("margin","0 -4px 0px 2px"):ef.isIE("11")?(a.css("vertical-align","-2px"),a.css("margin","0 0 0 3px")):"Safari"==ef.browser.name?(a.css("margin","0px 1px 0px 5px"),a.css("vertical-align","1px")):a.css("margin","0 0 0 3px"):ef.isIE("7")?(a.css("margin","0px -1px 0px -3px"),a.css("vertical-align","-4px")):ef.isIE("8")?a.css("margin","-1px 3px 0px -3px"):ef.isIE("11")?(a.css("vertical-align","-2px"),a.css("margin","0 3px 0 0")):"Safari"==ef.browser.name?(a.css("margin","0px 5px 0px 1px"),a.css("vertical-align","1px")):a.css("margin","0 3px 0 0"),a.attr("value",n[r].Id),a.attr("id","walkme-survey-answer-checkbox-"+n[r].Id);var s=mtjQuery("<label />");s.addClass("walkme-survey-answer-label-checkbox"),s.addClass("walkme-survey-answer-label-unchecked"),s.attr("for","walkme-survey-answer-checkbox-"+n[r].Id),i.append(s),i.append(a),
i.append(o),e.append(i)}return t._questionDiv.append(e),t._questionDiv},t.getAnswers=function(){for(var e=t._base.getQuestionDivFromWindow(),n=mtjQuery("input:checkbox:checked",e),r=[],i=0;i<n.length;i++){var o={};o.answerId=n[i].value,o.questionId=t._base._question.Id,r.push(o)}return r},t.getType=function(){return pc.CheckBox},e.apply(null,arguments)}function Zn(){function e(e,n){rr.extend(t,Xn,e,n)}var t=this;t.Generate=function(){t._questionDiv=t._base.Generate();var e=mtjQuery("<div></div>");e.attr("id","walkme-survey-question-radiobutton-answers-"+t._base._question.Id),e.addClass("walkme-survey-question-radiobutton-answers");for(var n=t._base._question.Answers,r=0;r<n.length;r++){var i=mtjQuery("<div></div>");i.addClass("walkme-survey-radiobutton-answer"),"rtl"==Nf.get().Direction?i.css("margin","0 0 5px 8px"):i.css("margin","0 8px 5px 0"),i.attr("id","walkme-survey-question-answer-"+n[r].Id);var o=mtjQuery("<div></div>");o.addClass("walkme-survey-answer-text"),o.css("*display","inline"),o.css("display","inline-block"),o.css("max-width","91%"),o.css("zoom","1"),o.attr("id","walkme-survey-answer-text-"+n[r].Id),o.css("vertical-align","text-top");var a=mtjQuery("<label></label>");a.attr("for","walkme-survey-answer-radiobutton-"+n[r].Id),a.addClass("walkme-survey-answer-title"),a.css("display","inline-block"),a.css("max-width","545px"),a.html(n[r].Title);var s=mtjQuery("<label></label>");s.attr("for","walkme-survey-answer-radiobutton-"+n[r].Id),s.addClass("walkme-survey-answer-subtitle"),s.css("display","inline-block"),s.html(n[r].SubTitle),o.append(a),o.append(s);var u=mtjQuery("<div></div>");u.addClass("walkme-survey-answer-radiobutton-div"),u.css("display","inline-block"),u.css("*display","inline"),u.css("zoom","1"),u.attr("id","walkme-survey-answer-radiobutton-div-"+n[r].Id);var l=mtjQuery('<input type="radio" name="walkme-survey-question-group-'+t._base._question.Id+'" />');l.addClass("walkme-survey-answer-radiobutton"),l.css("display","inline-block"),l.css("vertical-align","-3px"),"rtl"==Nf.get().Direction?ef.isIE("8")?l.css("margin","-1px -4px 1px 1px"):ef.isIE("7")?(l.css("margin","0px -3px 0px -1px"),l.css("vertical-align","-3px")):ef.isIE("9")?l.css("margin","0px -5px 0px 0px"):ef.isIE("11")?(l.css("vertical-align","-3px"),l.css("margin","0px 0px 0px 3px")):"Safari"==ef.browser.name?(l.css("margin","0px 1px 0px 5px"),l.css("vertical-align","1px")):l.css("margin","0 0 0 3px"):ef.isIE("8")?(l.css("margin","-1px 0px 1px -3px"),l.css("vertical-align","-3px")):"Safari"==ef.browser.name?(l.css("margin","0px 5px 0px 1px"),l.css("vertical-align","1px")):ef.isIE("7")?(l.css("margin","0px -1px 0px -3px"),l.css("vertical-align","-3px")):ef.isIE("11")?(l.css("vertical-align","-2px"),l.css("margin","0 3px 0 1px")):l.css("margin","0 3px 0 1px"),l.attr("value",n[r].Id),l.attr("id","walkme-survey-answer-radiobutton-"+n[r].Id);var c=mtjQuery("<label />");c.addClass("walkme-survey-answer-label-radiobutton"),c.addClass("walkme-survey-answer-label-unchecked"),u.append(c),u.append(l),i.append(u),i.append(o),e.append(i)}return t._questionDiv.append(e),t._questionDiv},t.getAnswers=function(){var e={},n=t._base.getQuestionDivFromWindow(),r=mtjQuery("input[name=walkme-survey-question-group-"+t._base._question.Id+"]:checked",n).val();return r?(e.answerId=r,e.questionId=t._base._question.Id,[e]):!1},t.getType=function(){return pc.RadioButton},e.apply(null,arguments)}function er(){var e=this;e.getSurveyQuestion=function(e,t){var n;switch(e.QuestionType){case pc.FreeText:n=new Jn(e,t);break;case pc.CheckBox:n=new $n(e,t);break;case pc.RadioButton:n=new Zn(e,t)}return n}}function tr(e,t,n,r){function i(){C=[],S=r.surveyJson}function o(){var e=mtjQuery("<div></div>");return e.addClass("walkme-survey"),e}function a(){var e=mtjQuery("<div></div>");return e.addClass("walkme-survey-title"),e.html(S.Name),e.css("margin-bottom","8px"),e.css("font-weight","bold"),e.css("font-size","24px"),e}function s(){var e=mtjQuery("<div></div>");e.addClass("walkme-survey-questions"),e.css("overflow-y","auto"),e.css("overflow-x","hidden");for(var n=0;n<S.Questions.length;n++){var i=t.getSurveyQuestion(S.Questions[n],S);C.push(i),e.append(u(n,"before"));var o=i.Generate();n!=S.Questions.length-1&&o.css("margin-bottom","20px"),e.append(o),e.append(u(n,"after"))}return r.surveyQuestions=C,e}function u(e,t){var n=mtjQuery("<div></div>");return n.addClass("walkme-survey-question-separator-"+t),n.attr("id","walkme-survey-question-separator-"+t+"-"+e),n}function l(){var e=o(),t=a();e.append(t);var n=s();return e.append(n),c(e),e}function c(e){for(var t=0;4>t;t++){var n=mtjQuery("<div></div>");n.addClass("walkme-survey-extra-div-"+t),e.append(n)}}function d(){var e=mtjQuery("<div></div>");return e.append(l()),e}function f(){k.submitSurvey(r,v,p)}function p(){var e=T.find(".walkme-custom-balloon-buttons-wrapper"),t="walkme-survey-validation-errors",n="."+t;e.find(n).remove(),e.prepend("<span style='font-size:11px;color:"+I+"' class='"+t+"'>Please fill in the answers and click submit again</span>")}function g(){k.surveyExited(r,v)}function h(e){var t=mtjQuery("#"+e),n=t.parent();mtjQuery("input:checked",n).removeAttr("checked");var r=mtjQuery(".walkme-survey-answer-radiobutton",t);r.attr("checked","checked"),r.change()}function m(e,t){var n=mtjQuery("#"+e).parent(),r=n.parent(),i=r.parent();t&&mtjQuery(".selected",i).removeClass("selected"),n.addClass("selected"),r.addClass("selected")}function v(){e.releaseBalloons()}function y(t,n){I=n.FooterTextColor,T=t,T.css("min-width","350px"),T.addClass("walkme-survey-id-"+S.Id),mtjQuery(".walkme-action-submit",T).click(f),mtjQuery(".walkme-action-close",T).attr("onclick","").unbind("click"),mtjQuery(".walkme-action-close",T).click(g),b(T);for(var r=0;r<S.Questions.length;r++)w(T,"radiobutton",S.Questions[r].Id),w(T,"checkbox",S.Questions[r].Id);mtjQuery(".walkme-survey-answer-radiobutton",T).change(function(){m(this.id,!0)}),mtjQuery(".walkme-survey-radiobutton-answer",T).click(function(){h(this.id)}),T.addClass("walkme-survey-balloon"),e.getUiUtils().addBrowserClass(T)}function w(e,t,n){var r=e.find("#walkme-survey-question-"+n),i=r.find(".walkme-survey-answer-"+t);i.change(function(){for(var e=0;e<i.length;e++){var n=i[e],r=mtjQuery(n).parent().find(".walkme-survey-answer-label-"+t);r.removeClass("walkme-survey-answer-label-checked"),r.removeClass("walkme-survey-answer-label-unchecked"),i[e].checked?r.addClass("walkme-survey-answer-label-checked"):r.addClass("walkme-survey-answer-label-unchecked")}})}function b(){mtjQuery(".walkme-custom-balloon-close-button",T).attr("title","Close Survey")}var S,T,I,C,E=this,k=e.getDeployablesManager(n.Survey);E.show=function(){var e=d(),t={popupStepButtons:[{id:0,action:4}]};S.Settings&&void 0!==S.Settings.fadeBackground&&(t.fadeBackground=S.Settings.fadeBackground);var n={minPopupWidth:350,Vibrate:!1,surveyId:S.Id};ms({htmlContent:e},600,t,y,void 0,n)},i.apply(null,[r])}function nr(){function e(e){G.Extends(Bi,e),I=jl.get("Lib"),C=jl.get("AbCurrentPermutationProvider"),E=jl.get("RecorderServerManager"),k=jl.get("PermalinkManager"),_=jl.get("LibStates"),A=jl.get("GenerateGuidFunc"),D=jl.get("AuditStepsManager"),O=jl.get("FeaturesManager"),N=jl.get("CommonUtils"),M=jl.get("CommonEvents"),L=jl.get("AuditSourceManager").get(),B=jl.get("HostData"),F=jl.get("EventSender"),j=jl.get("Consts"),R=jl.get("Logger"),U=jl.get("ReportInitiatorMapper"),x=C.getCurrentPermutation(),P=I.getEndUserGuid()}function t(e){return Q=!1,e.answers.length>0?(i("SurveyCompleted",e),a(e.surveyGuid),r(e,"CompletedWithAnswers"),!0):(r(e,"CompletedWithNoAnswers"),!1)}function n(e){Q=!1,i("SurveyExited",e),r(e,"ExitButtonClicked")}function r(e,t){var n={surveyGuid:e.surveyGuid,status:t};e.answers&&e.answers.length>0&&(n.answers=e.answers),M.sendApiEvent("SurveyCompleted",n)}function i(e,t){if(!il()){t.permutationId=x,t.endUserGuid=P;var n=u(t),r=Fp.execute({url:E.get()+"/Survey/"+e,data:{surveyDataSerialized:n},timeout:H});r.success(function(e){}),r.error(function(e,t,n){})}}function a(e){var t="wm-SrvSmt-"+e;sf.saveData(t,1,mc)}function s(e,t){var n={shouldStart:!1,cookiesToSave:[],surveyId:null};if(O.isFeatureEnabled("noSurveys"))return n;var r=N.getSettingsValue(e.Settings,"survey",void 0);if(!r)return el("No survey defined on walkthru: "+e.Name,3,"survey"),n;if(r.startCondition==t||r.startCondition==Cc.Both){n.surveyId=r.surveyId;var i=G._base.deployablesDict()[n.surveyId];if(!i)return el("Couldn't find survey with id:"+r.surveyId,0,"survey"),n;var o="wm-SrvRep-"+i.Id,a=l(o,i.Settings);a&&a.shouldStart&&(n.cookiesToSave.push(a.store),o="wm-SrvWtRep-"+e.TutorialId+"-"+i.Id,a=l(o,r),n.cookiesToSave.push(a.store),n.shouldStart=a.shouldStart)}return n}function l(e,t){var n=t.repeat||"visit";return jl.get("AutoStartManager").checkRepeatCookie(e,n)}function c(e,t){var n=!0;Q=!0;var r=window.walkmeExternalSurvey;if(r&&e.surveyJson.Settings.isExternal){el("Starting external survey"),e.playGuid=D._currentPlayGUID,e.source=L;var i=r(e,e.callback);i===!1?n=!1:d(e.surveyJson)}else{el("Starting regular survey");var o=jl.create("Survey",e);o.show(),d(e.surveyJson)}return m(e,t),n}function d(e){M.sendApiEvent("SurveyPlayed",{surveyId:e.Id})}function f(e){for(var t=[],n=0;n<e.surveyQuestions.length;n++){var r=e.surveyQuestions[n].getAnswers();if(!r)return!1;t=t.concat(r)}return t}function p(e,t){t=t?t:[];var n={};return n.playGuid=e.surveyPlayGUID,n.surveyGuid=e.surveyJson.Guid,n.tutorialId=e.tutorialId,n.source=L,n.customVarsData=N.getWindowData(Ec.Var,e.surveyJson.Settings.customVar),n.customCookiesData=N.getWindowData(Ec.Cookie,e.surveyJson.Settings.customCookie),n.answers=t,n.fullUrl=B.getUrl(),n}function g(e,t){try{var n=w(e);n.reason=F.CANCEL_REASONS.Xclick,F.postEvent(F.EVENT_TYPES.Close,n)}catch(r){R.error(r,"reportSurveyExited")}}function m(e,t){try{I.userSawWalkMe();var n=mtjQuery.extend(w(e),y(e),U.mapForExtend(t));F.postEvent(F.EVENT_TYPES.Play,n)}catch(r){R.error(r,"reportSurveyStarted")}}function v(e){try{var t=w(e);F.postEvent(F.EVENT_TYPES.Submitted,t);for(var n=0;n<e.surveyQuestions.length;n++)for(var r=e.surveyQuestions[n],i=T(r,e),o=r.getAnswers(),a=0;a<o.length;a++){var s=mtjQuery.extend({},t,i,b(o[a],e.surveyJson),{indx:n+1});F.postEvent(F.EVENT_TYPES.Submitted,s)}}catch(u){R.error(u,"reportSurveySubmitted")}}function y(e){return e.eventSource?{reason:e.eventSource}:{}}function w(e){var t=F.EVENT_APPS.Survey,n={type:t,oId:e.surveyJson.Id,oName:e.surveyJson.Name,pId:e.surveyPlayGUID,total:0};return e.surveyQuestions&&e.surveyQuestions.length&&(n.total=e.surveyQuestions.length),n}function b(e,t){var n={};n.oId=e.questionId;var r=S(t,e.questionId,e.answerId);return n.oName=r.questionText,e.answerId&&(n.aoId=e.answerId,n.value=r.answerText),e.answerText&&(n.value=e.answerText),n.aType=j.EVENT_SENDER_ACTIONS.SurveyQuestionAnswered,n.aAppType=j.EVENT_SENDER_EVENT_APPS.SurveyQuestionAnswer,n}function S(e,t,n){for(var r={},i=0;i<e.Questions.length;i++)if(e.Questions[i].Id==t){var o=e.Questions[i];if(r.questionText=o.Title,void 0===n)return r;for(var a=0;a<o.Answers.length;a++)if(o.Answers[a].Id==n){var s=o.Answers[a];return r.answerText=s.Title,r}}}function T(e,t){var n={};return n.type=F.EVENT_APPS.Question,n.oType=e.getType(),n.owId=t.surveyJson.Id,n.owName=t.surveyJson.Name,n.owType=F.EVENT_APPS.Survey,n}var I,C,E,k,_,x,P,D,A,O,N,M,L,B,F,j,R,U,G=new o(this),W=this,V=!1,Q=!1,H=1e4;this.handleSurveyPlayThroughWalkthru=function(e,t,n,r,i){el("Checking if need to open survey");var o=s(e,t);if(o.shouldStart){el("Starting survey");var a={tutorialId:e.Id,stepIndex:n,lastStepIndex:e.Steps.length-1,eventSource:t,callback:r,surveyPlayGUID:D._currentPlayGUID},i=i||{objectId:e.Id,type:j.STEP_PLAY_INITIATOR_ENUM.WALKTHRU},u=W.activateById(o.surveyId,i,a);if(u)for(var l=0;l<o.cookiesToSave.length;l++)o.cookiesToSave[l]()}},this.surveyIsShown=function(){return Q},this.submitSurvey=function(e,t,n){var r=f(e);if(r){var i=p(e,r);e.submitResults(i),el("Submitting answers"),v(e),t&&t()}else n&&n()},this.surveyExited=function(e,t){el("Survey exited");var n=p(e);e.submitExit(n),g(e),t&&t()},G.Override("name",function(){return"Survey"}),G.Override("activateById",function(e,r,i){i||(i={});var o=G._base.deployablesDict()[e];if(!o)return el(h("Survey with id {0} doesn't exist",e),3),!1;i.surveyJson=o,i.submitResults=t,i.submitExit=n,i.drawBalloonFunc=ms,i.surveyPlayGUID=i.surveyPlayGUID||A();var a=c(i,r);return V=a||V,a}),G.Override("autoStartEnabled",function(e){return!(V||k.isStartingWalkthru()||I.getState()!=_.NOT_RUNNING&&I.getState()!=_.PAUSED)}),e.apply(null,arguments)}function rr(){function e(e,t){var n={};for(var r in t){n[r]=t[r];var i="function"==typeof t[r],o="function"==typeof e[r];i&&!o?e[r]=t[r]:i&&o&&t[r].WM_VIRTUAL&&(t[r]=e[r])}return n}this.extend=function(t,n,r,i,o,a){var s=new n(r,i,o,a),u=e(t,s);t._base=u},this.VIRTUAL=function(e){return e.WM_VIRTUAL=!0,e};var t=this.VIRTUAL(function(){throw"Function is pure virtual. must override"});this.WM_PURE_VIRTUAL=function(){return t}}function ir(){function e(e,t,u,l){n=e.checkIfExists,r=e.getTutorialByIndex,i=e.isStepPlayable,o=t,a=l,s=u}function t(e){for(var t=r(e),n=t.Steps.length-1;n>0;){var o=t.Steps[n],a=o.Settings.firstInPage;if(a&&i(e,n))return el("first step for page, step index: "+(n+1)),n;n--}return n}var n,r,i,o,a,s,u=this;u.findFirstStep=function(e,i,o){if(s.isFeatureEnabled("pageIdentifier")){var u=a.getFirstStep(e,r(e),i);if(u>=0)return u}if(s.isFeatureEnabled("firststep")&&(!i||0==i)){var u=t(e);if(u>0)return u}return i=i?i:0,n(e,i,void 0,void 0,o,hc.Normal)},e.apply(null,arguments)}function or(e){function t(){}var n=this;n.isActionStep=function(t){return t.Type&&t.Type==e.STEP_TYPE.Action?!0:!1},n.isPopupStep=function(t){return t.Type&&t.Type==e.STEP_TYPE.Popup},n.getById=function(e,t){return Xg(e,t)},t.apply(null,arguments)}function ar(){function e(e){m=jl.get("Logger"),v=jl.get("FeaturesManager"),w=jl.get("TimerManager"),M(B()),c=e.errorHandler,d=e.userGuid,f=e.terminateTutorialFunction,p=e.restoreStateFunc,l=e.resumeAfterUnloadFunc,u=e.getStepFunc,h=e.peekNextCookieStepFunc,O(e.storageManager),N(e.allUserGuids),g=e.topWindow==e.owner,y=m.wrapCustomerLog(Gl)}function t(){D+=1,w.setWalkmeTimeout(W,C)}function n(){var e=O().getData(_,!1,d);return e}function r(e){O().saveData(_,e,I,d)}function i(){return s=O().getData(k,!1,d)}function a(e){s=e,O().saveData(k,e,T,d)}var s,u,l,c,d,f,p,g,h,m,v,y,w,b=new o(this),S=2e3,T=3600,I=2,C=3e3,E=1100,k="wm-cdplay",_="wm-cdstop",x=this,P=!1,D=0,A=b.Prop.Protected("isRunning",!1),O=b.Prop.Protected("storageManager",!1),N=b.Prop.Protected("allUserGuids",{}),M=b.Prop.Public("crossDomainSampleRate",{}),L=b.Protected("terminateTutorial",function(){f()}),B=b.Virtual.Protected("getSampleRate",function(){return 200});b.Public("enabled",function(){return v.isFeatureEnabled("cd_play")||v.isFeatureEnabled("passOwnership")?!0:!1}),b.Virtual.Public("start",function(e){x.enabled()&&(y("starting cross domain listening..."),D+=1,z(D,e))}),b.Virtual.Public("stop",function(){D=0}),b.Virtual.Public("reset",function(){x.enabled()&&(r(!0),ee(),w.libSetTimeout(function(){r(!1)},E))}),b.Virtual.Public("switchOwner",function(e,t){x.enabled()&&(y("switching owner..."),a(e),t&&(V(),x.loseOwnership(),F(),O().setSyncFlag(d)))}),b.Virtual.Public("loseOwnership",function(e,t){x.enabled()&&(y("losing ownership..."+document.location.href),A()&&(e&&(y("reset state: reseting the ownership condition"),ee()),t?G():A(!1)),Hp("loseOwnership"))});var F=b.Virtual.Protected("removeOwner",function(){});b.Virtual.Public("walkthruStarted",function(e,t){return x.enabled()?j(e,t)?(U(),!0):(Xp=Fd.WAITING_FOR_OWNERSHIP,qp=e,Kp=t,Su(),L(),R(function(){Xp=Fd.NOT_RUNNING,Mp.reset()}),!1):!0});var j=b.Virtual.Protected("canStartPlaying",function(e,t){return x.enabled()?Xp==Fd.WAITING_FOR_OWNERSHIP:!0}),R=b.Virtual.Protected("dontStartAsOwner",function(e){L(),e&&e()}),U=b.Virtual.Protected("startAsOwner",function(){}),G=b.Virtual.Protected("resumeCrossDomain",function(){y("savining data to resume after unload",3),a(s),P=!0,s=null,t()}),W=b.Virtual.Protected("actualResume",function(){y("continue listening after "+C+" milliseconds",3),z(D)}),V=b.Virtual.Protected("terminate",function(){y("owner killed, terminating tutorial and losing ownership",3),L(),x.loseOwnership()}),Q=b.Virtual.Protected("gainOwnership",function(){y("gaining ownership with state "+Xp+" "+document.location.href,3),A(!0),P?(P=!1,l()):(y("ownership granted to: "+H(),3),p(d)),Hp("gainOwnership")}),H=b.Virtual.Protected("windowIdentifier",function(){return window.location.href}),z=b.Virtual.Protected("listen",function te(e,t){y("listening with runId: "+e,5),O().refreshGetData(N(),function(){if(Y(e)){var r=n();A()?r&&V():r||!X()&&!K()?r?y("waiting for other owner to die before gaining ownership...",3):P&&(P=!1):Q(),w.libSetTimeout(function(){te(e)},q()),t&&t()}})}),Y=b.Protected("shouldContinueListening",function(e){return e==D?!0:(y("stop listening...",3),!1)}),q=b.Protected("calculateDomainListenInterval",function(){return P?S:M()}),K=b.Protected("checkOwnership",function(){try{var e=i();if(e)return $(e.stepId,e.tutorialId);if(Z())return y("no ownership condition, owner by default",5),!0}catch(t){c(t,"Error determining the owner of a cross domain step")}return!1}),X=b.Protected("isOwnerByPeeking",function(){var e=(v.isFeatureEnabled("po_peek")||v.isFeatureEnabled("passOwnership"))&&J(h());return e&&y("[passownership] owner by peeking",5),e}),J=b.Public("isPassOwnershipStep",function(e){return e&&e.Settings&&e.Settings.action?"passOwnership"==e.Settings.action.actionType:!1}),$=b.Public("isOwnerByCondition",function(e,t){var n=u(e,t);return null!==n?_makeTutorial.evaluateConditionTree(n.Settings.action.arguments.condition):void 0}),Z=b.Public("isOwnerByDefault",function(){return g}),ee=b.Protected("resetOwnershipCondition",function(){O().saveData(k,!1,T,d)});e.apply(null,arguments)}function sr(){function e(e){z=jl.get("TimerManager");var n=jl.get("Logger");H=e.isFeatureEnabled("po_doubleCheck"),q.Extends(ar,e),L=q._base,L.crossDomainSampleRate(fe()),A=2*L.crossDomainSampleRate(),O=t()?5e3:800,N=t()?2e4:5e3,M="Chrome"==ef.browser.name?1200:700,j=e.errorHandler,F=e.userGuid,R=L.storageManager,U=L.allUserGuids,G=L.isRunning,Y=n.wrapCustomerLog(Gl),y()}function t(){return de()||ef.isIEBrowser(10,"gte")}function n(e){return function(){pe(e)}}function r(){return L.isOwnerByPeeking()?(le++,le>=se):void(le=0)}function i(){return W?(W--,!0):!1}function a(){L.storageManager().refreshGetData(U(),function(){V=null;var e=D(),t=C(),n=r();!e||B!=e||t&&!n?!n&&t&&t!=B&&P():(Y("priority is highest, gaining ownership - "+B,4),E(B),L.gainOwnership())})}function s(e){he(function(t){var n=parseInt(t,10)||0;Y("got priority "+n+" from sessionStorage",4),h(n,function(t){0===n||t?(Y((t?"inherited priority from parent":"priority is zero")+", getting a new priority",4),be(null,e,!0)):(B=n,H?c(e):e&&e())})})}function c(e){h(B,function(t){t?be(null,e,!0):e&&e()})}function d(){return ef.isIE()||H}function f(){d()&&p()}function p(){var e=ie+B,t=R().getData(e,void 0,F);t>=1&&R().increment(e,null,K,F),z.libSetTimeout(p,X)}function g(e,t){var n=ie+e;R().increment(n,null,K,F,function(){function e(){i&&R().refreshGetData(U(),function(){if(i){var t=R().getData(n,void 0,F);t>1&&r(!0),z.libSetTimeout(e,oe)}})}function r(e){e=!!e,R().saveData(n,0,K,F),R().removeData(n,F),i=!1,o&&o.clear(),t&&t(e)}var i=!0,o=z.libSetTimeout(r,M);e()})}function h(e,t){return e?void(d()?(Y("checking if priority is inherited using storageManager",4),g(e,t)):(Y("checking if priority is inherited using window.opener",4),m(e,t))):void(t&&t(!1))}function m(e,t){function n(e){Y("is priority inherited: "+e,4),i&&i.clear(),r&&r(),t&&t(e)}if(window.opener){var r,i,o;r=ln.registerEventHandler("message",function(t){try{var r=l(t.data);r.requestType==re&&(r.priority==e?(W=ae,n(!0)):(o--,0==o&&n()))}catch(i){Y("Error in priority inherited message event "+i,4)}}),i=z.libSetTimeout(function(){n(!1)},1e3),o=ln.postMessageToAllFramesChain(window.opener,u({requestType:ne})),0==o&&n(!1)}else t&&t(!1)}function v(){ve()&&(mtjQuery(window).bind("focus",be),mtjQuery(window).bind("mouseenter",be))}function y(){ln.registerEventHandler("message",S)}function w(){ve()&&(mtjQuery(window).unbind("focus",be),mtjQuery(window).unbind("mouseenter",be))}function b(){ln.unregisterEventHandler("message",S)}function S(e){var t;try{switch(t=l(e.data),t.requestType){case ee:ye(t.priority);break;case ne:e.source.postMessage(u({requestType:re,priority:B}),"*")}}catch(n){t&&j(n,"error handling priority message from parent")}}function T(e){B=e,me(B),G()&&(Y("is running during set priority - setting current owner",4),E(B)),Y("updated priority: "+B,4)}function I(e){var t={requestType:ee,priority:e};Y("sending priority to all frames: "+e,4),mtjQuery("iframe").each(function(e,n){n.contentWindow.postMessage(u(t),"*")})}function C(){return R().getData($,!1,F)}function E(e){return Y("setting owner to: "+document.location.href+"owner id:"+e,4),W=ae,R().saveData($,e,K,F)}function k(){Y("removing current owner",4),R().saveData($,null,K,F)}function _(){Y("register in queue with priority "+B,4),R().addToDictionary(Z,B,x(),K,F),(!V||V.cleared)&&(V=z.libSetTimeout(a,A))}function x(){return(new Date).getTime()}function P(){Y("po_tabs - clear priorities queue",4),R().saveData(Z,null,K,F)}function D(){var e=R().getData(Z,!1,F);Y("registered priorities: "+u(e),4);for(var t=0,n=O;!t&&N>n;){for(var r in e)e.hasOwnProperty(r)&&(priority=parseInt(r,10),x()-e[r]<n&&priority>t&&(t=priority));n+=A}return t}var A,O,N,M,L,B,F,j,R,U,G,W,V,Q,H,z,Y,q=new o(this),K=3600,X=300,J="wm-po-p",$="wm-po-r",Z="wm-po-q",ee="wm-setPriority",te="priority",ne="wm-qp-req",re="wm-qp-res",ie="wm-po-pc",oe=100,ae=1,se=10,ue=this,le=0,ce=!1;q.Virtual.Public("getPriority",function(){return B});var de=q.Protected("isSlowerBrowser",function(){return ef.isIEBrowser(9,"lte")}),fe=q.Override("getSampleRate",function(){var e=L.getSampleRate();return de()&&(e*=2),e});q.Override("start",function(e){s(function(){v(),f(),L.start(e)})}),q.Override("stop",function(){ue.enabled()&&(w(),b(),Y("stop ownership",4),G(!1),L.stop())}),q.Override("reset",function(){ue.enabled()&&(W=0,Y("reset ownership",4),L.resetOwnershipCondition(),k(),G(!1))});q.Override("dontStartAsOwner",function(e){L.dontStartAsOwner(),P(),e&&e()}),q.Override("startAsOwner",function(){G(!0),E(B)});q.Override("resumeCrossDomain",function(){G(!1),ce=!0,L.resumeCrossDomain()}),q.Override("actualResume",function(){ce=!1,L.actualResume()});var pe=q.Override("listen",function(e,t){L.storageManager().refreshGetData(U(),function(){if(L.shouldContinueListening(e)){var o=C();i()||(G()&&B!=o&&L.terminate(),G()||(!o&&L.checkOwnership()||r()?_():B==o&&ge()&&(L.gainOwnership(),be()))),z.libSetTimeout(n(e),L.calculateDomainListenInterval()),t&&t()}})}),ge=q.Virtual.Protected("shouldRegainOwnership",function(){return L.checkOwnership()});q.Override("switchOwner",function(e,t){function n(){L.switchOwner(e,t)}t&&P(),H?be(null,n,H):n()}),q.Override("windowIdentifier",function(){return B+":"+window.location.href}),q.Override("removeOwner",function(e,t){L.removeOwner(),k()});var he=(q.Override("canStartPlaying",function(e,t){if(L.canStartPlaying(e,t))return!0;var n=If[e],r=n.Steps[t],i=L.isPassOwnershipStep(r);return!i&&L.isOwnerByDefault()?!0:i&&L.isOwnerByCondition(r.Id,n.Id)?!0:!1}),q.Virtual.Protected("restorePriority",function(e){L.storageManager().sessionGetData(te,0,F,e)})),me=q.Virtual.Protected("storePriority",function(e){R().sessionSetData(te,e,F)}),ve=q.Virtual.Protected("shouldRegisterFocusEvents",function(){return window==top}),ye=q.Virtual.Protected("handleSendPriorityRequest",function(e){Y("frame got new priority from parent window: "+e,4),B=e,I(e)}),we=[],be=q.Virtual.Protected("updatePriority",function(e,t,n){if(t&&we.push(t),!Q&&!ce){var r=B;Q=!0;var i=n?null:B;R().increment(J,i,K,F,function(e){e!==B&&(Y("updating priority from "+r+" to "+e,4),T(e),Se(e,r));var t=we;we=[],Q=!1;for(var n=0;n<t.length;n++)t[n](B)})}}),Se=q.Virtual.Protected("afterUpdatingPriority",function(e){I(e)});e.apply(null,arguments)}function ur(){function e(e){var t=jl.get("Logger");p.Extends(sr,e),f=p._base,c=t.wrapCustomerLog(Gl)}function t(){var e=sessionStorage.getItem(g);return c("[po_frames] getting session priorities: "+e,4),e?l(e):void 0}function n(e,t){e&&!r(e)?t&&t(e):f.updatePriority(null,function(e){n(e,t)})}function r(e){return-1!=wmjQuery.inArray(e,a(top))}function i(){try{top.frames;return top}catch(e){return window}}function a(e){var t=[];try{var n=e._makeTutorial.crossDomainManager.getPriority();e!=window&&n&&t.push(parseInt(n,10))}catch(r){}try{for(var i=e.frames,o=0;o<i.length;o++)t=t.concat(a(i[o]))}catch(r){}return t}function s(e){var n=t();if(c("[po_frames] removing priority "+e+" from session",4),n&&e){var r=wmjQuery.inArray(e,n);r>=0&&(n.splice(r,1),sessionStorage.setItem(g,u(n)))}}var c,d,f,p=new o(this),g="walkme-priorities";p.Override("getPriority",function(){return f.getPriority()||d}),p.Override("restorePriority",function(e){if(c("[po_frames] restoring priority, temp priority is: "+d,4),window==top)f.restorePriority(e);else{var r=t();if(r&&r.length){var o=a(i());r.sort(function(e,t){return e>t?-1:t>e?1:0}),c("[po_frames] used priorities: "+u(r),4);for(var s=0;s<r.length&&!d;s++)-1==wmjQuery.inArray(r[s],o)&&(o.push(r[s]),sessionStorage.setItem(g,u(o)),d=r[s])}n(d,e)}}),p.Override("storePriority",function(e){if(e=parseInt(e,10),window==top)f.storePriority(e);else{var t=l(sessionStorage.getItem(g)||"[]");-1==wmjQuery.inArray(e,t)&&t.push(e),c("[po_frames] storing priority "+e+" in the session",4),sessionStorage.setItem(g,u(t))}}),p.Override("afterUpdatingPriority",function(e,t){s(t)}),p.Override("handleSendPriorityRequest",function(e){}),p.Override("shouldRegisterFocusEvents",function(){return!0}),p.Override("shouldRegainOwnership",function(e,t){return!0}),e.apply(null,arguments)}function lr(e){function t(){}function n(e){for(var t=T(df),n=0;n<t.length;n++)if(t[n]==e)return!0;return!1}function r(){c||(c=!0,el(h("Started watching stickies with identifiers:{0}",u(S(l))),1,Ql),e.libSetTimeout(i,a))}function i(){wmjQuery.each(l,function(e,t){o(t)});var t=v(l);t>0?e.libSetTimeout(i,a):c=!1}function o(e){var t=e.shouldDrawFunction(),n=h("handleStickinessTypes, stickyIdentifier={0}. stickinessType={1}. shouldDraw={2}",e.identifier,e.stickinessType,t);if(el(n,3,Ql),t){var r=e.redrawFunction();r&&e.stickinessType==df.soft&&(el(h("Sticky with identifier {0} was drawn and removed from stickies list",e.identifier),3,Ql),delete l[e.identifier])}}var a=2e3,s=this,l={},c=!1;s.registerSticky=function(e){return n(e.stickinessType)?(el(h("registerSticky for sticky with identifier {0}: stickinessType={1}",e.identifier,e.stickinessType),1,Ql),l[e.identifier]=e,void r()):void el(h("Sticky with id={0} has an invalid stickiness type={1}",e.identifier,e.stickinessType),1,Ql)},t.apply(null,arguments)}function cr(){function e(e){i=e.lib,o=e.cdnServer,a=e.clickAuditManager,u=i.Logger.wrapCustomerLog(Xl)}function t(e){s=jl.create("LightboxDisplayer"),s.activate(e,l.defaultLightboxSize(),l.getContentTypeName(),l.needsNewTabButton(),l.createContentElement,n)}function n(e){i.getCommonUtils().isValidUrl(e.Url)?(u(h("Opening content in new tab. Url: {0}",e.Url)),window.open(e.Url,"_blank")):u(h("Content url is invalid: {0}",e.Url))}function r(e){throw"activateContentInWidget is unimplemented"}var i,o,a,s,u,l=this,c="ContentPlayMode",d=jl.get("Consts").PLAY_MODE;l.getContentTypeName=rr.WM_PURE_VIRTUAL(),l.createContentElement=rr.WM_PURE_VIRTUAL(),l.needsNewTabButton=rr.WM_PURE_VIRTUAL(),l.defaultLightboxSize=rr.WM_PURE_VIRTUAL(),l.cannotPlayInLightbox=function(e){var t=0==window.location.href.indexOf("https://")&&0!=e.indexOf("/")&&0!=e.indexOf("https://");return t&&u("Can't play content in lightbox"),t},l.activateContent=function(e,i,o){var s=parseInt(yl(e.Settings,c,d.NewTab));switch(u(h("Started playing content, play mode is :{0}",s)),a.SendClickAudit(Qd.Content,e.Id,i,o,{contentType:e.Type}),e.Url=Dh(e.Url,["&"]),u(h("Content url is :{0}",e.Url)),Hp("ContentUrl",{name:e.Name,url:e.Url}),s){case d.Widget:r(e);break;case d.LightBox:l.cannotPlayInLightbox(e.Url)?(u("Falling back to playing content in a new tab instead"),n(e)):t(e);break;case d.NewTab:n(e)}},l.removeContent=function(e){s&&s.remove()},l.getLightboxSize=function(){return s.getSize()},e.apply(null,arguments)}function dr(){function e(e){rr.extend(l,cr,e),c=e.lib,o=e.vendorName,a=e.videoId,u=e.content,s=c.Logger.wrapCustomerLog(Xl)}function t(e){var t=n(e);if("html5video"==o){var r="";r+=i();var s=mtjQuery("<video controls "+r+' src="'+u.Url+'"></video>');return t.indexOf("autoplay")>-1&&s.attr("autoplay",1),s}var l=h("[{0} {1}]{2}[/{3}]",o,t,a,o),d=c.parseBBCode(l),f=mtjQuery(d);return f}function n(e){var t=yl(e.Settings,d,"");return t=r(t,e),t+=' wmode="opaque"'}function r(e,t){e=e.replace(/&quot;/gi,'"'),e=e.replace(/((width|height)="[^\\"]+)"/gi,"");var n=i();return e+=" "+n}function i(){var e=l.getLightboxSize(),t=h('width="{0}" height="{1}"',e.width,e.height);return t}var o,a,s,u,l=this,c=null,d="VideoParameters",f=420,p=315;l.getContentTypeName=function(){return"video"},l.createContentElement=function(e){return t(e)},l.needsNewTabButton=function(){return!1},l.defaultLightboxSize=function(){return{width:f,height:p}},e.apply(null,arguments)}function fr(){function e(e){rr.extend(r,cr,e),i=e.lib,n=i.Logger.wrapCustomerLog(Xl)}function t(e){if(i.getCommonUtils().isValidUrl(e.Url)){var t=r.getLightboxSize(),n='<iframe frameborder="0" src="{{{url}}}" style="width: {{{width}}}; height: {{{height}}};"></iframe>',o=Dc.to_html(n,{width:t.width,height:t.height,url:encodeURI(e.Url)}),a=mtjQuery(o);return a}}var n,r=this,i=null,o=900,a=500;r.getContentTypeName=function(){return"article"},r.createContentElement=function(e){return t(e)},r.needsNewTabButton=function(){return!0},r.defaultLightboxSize=function(){return{width:o,height:a}},e.apply(null,arguments)}function pr(e,t,n,r,i,o){function a(){m=n.Logger.wrapCustomerLog(b)}function s(e,t){return T+"-"+e+"-"+t}function u(e){return S+"-"+e}function l(r,a,l,p){if(!r)return void p(-1);var v=t.getEndUserGuid(!0);if(v===!1)return m("WalkMe ABTesting - Cannot retrieve end user. Stopping execution",1),void n.removeWalkMe("AbTesting - Cannot fetch EndUser");var y,w=u(v),b=null!=l,S=g(r,a),T=d(w,S);if(void 0!=T&&!b)return o.setCurrentPermutation(T),m("using permutation from storage: "+T,1),void p(T);if(b){I=!0;var E=c(v,l,T);if(!E)return m("using permutation from activation rule: "+l,1),o.setCurrentPermutation(l),void p(l);m("got permutation from activation rule: "+l,2),y=l}else y=h(r),m("permutation was drawn: "+y,1);m("sending permutation id to server: "+y,2);var k=a?a.PermutationId:void 0;f(v,y,S,k,b,function(t){m("server returned permutation id : "+t,2),m("saving permutation in storage : "+t,3),e.saveData(w,t,C);var n;if(b){m("Activation rule was used.",2);var r=s(v,l);e.saveData(r,1,C),n=y}else n=t;o.setCurrentPermutation(n),m("Final permutation: "+n,1),i.postEvent(b),p(n)})}function c(t,n,r){if(r==n)return!1;var i=s(t,n);return 1!=e.getData(i)}function d(t,n){var r=parseInt(e.getData(t));if(!isNaN(r)){if(wmjQuery.inArray(r,n)>-1)return m("permutation exists in storage: "+r,1),r;m("permutation exists in storage but was out of date: "+r,1)}return void m("no valid permutation exists in storage",2)}function f(e,t,n,i,o,a){r.sendPermutationToServer(e,t,n,i,o,a,p)}function p(){m("WalkMe ABTesting - Error when saving end-user permutation. Removing WalkMe",1),n.removeWalkMe("AbTesting - Cannot fetch EndUser Permutation")}function g(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e[r].PermutationId);return t&&n.push(t.PermutationId),n}function h(e){for(var t=0,n=Math.random(),r=0;r<e.length;r++)if(t+=e[r].Percentage,t>=n)return e[r].PermutationId;return e[e.length-1].PermutationId}var m,v,y,w=this,b="ABTesting",S="wm-ABPer",T="wm-frcd",I=!1,C=31536e4;
w.setPermutations=function(e,t){v=e,y=t},w.getPermutations=function(){return v},w.initGetPermutation=function(e,t){l(v,y,e,function(e){o.setCurrentPermutation(e),t(e)})},w.getPermutation=function(){return o.getCurrentPermutation()},w.getPermutationById=function(e){for(var t=0;t<v.length;t++)if(v[t].PermutationId==e)return v[t];return!1},a.apply(null,arguments)}function gr(){function e(){return r}function t(e){r=e}var n=this;n.setCurrentPermutation=t,n.getCurrentPermutation=e;var r=-1}function hr(e,t,n){function r(){}var i=this,o=1e4;i.sendPermutationToServer=function(r,i,a,s,l,c,d){var f=t.execute({url:e.get()+"/AbTesting/SaveEndUserPermutation",dataType:"jsonp",data:{endUser:r,walkmeUserGuid:Ip,source:al(),permutationId:i,isForcedPermutation:l,availablePermutationsSerialized:u(a),browser:n.browser.string,os:n.os.name,timeout:o,defaultPermutation:s}});f.success(function(e){"error"===e?d():c(e)}),f.error(function(e,t,n){d()})},r.apply(null,arguments)}function mr(e,t,n){function r(r){try{var o={type:e.EVENT_SENDER_EVENT_APPS.AbTesting,reason:i(r)};t.postEvent(e.EVENT_SENDER_EVENT_TYPES.Draw,o)}catch(a){n.error(a)}}function i(t){var n=t?e.EVENT_SENDER_AB_TESTING_DRAW_REASONS.ActivationRule:e.EVENT_SENDER_AB_TESTING_DRAW_REASONS.Draw;return n}var o=this;o.postEvent=r}function vr(e){function t(){var e=a.match(/android\s([0-9\.]*)/i);return e?e[1]:!1}function n(){return e.location.href}function r(){var t=[e.location.protocol,"//",e.location.host,e.location.pathname].join("");return t}function i(){return s.title}function o(){return/android|ipad|android.+mobile|blackberry|iemobile|ip(hone|od)|phone|symbian|windows (ce|phone)/i.test(a||e.navigator.vendor||e.opera)}var a=e.navigator.userAgent,s=e.document,u=function(e){var t=a.substring(e).indexOf(".");return a.substring(e,e+t)},l=function(){var e,t,n,r;if(-1!=(r=a.indexOf("MSIE")))e="IE",t=u(r+5);else if(-1!=a.indexOf("Trident")&&-1!=(r=a.indexOf("rv:")))e="IE",t=u(r+3);else if(-1!=(r=a.indexOf("Edge/")))e="Edge",t=u(r+5);else if(-1!=(r=a.indexOf("Chrome")))e="Chrome",t=a.substring(r+7,a.lastIndexOf(" "));else if(/Firefox\/(\S+)/.test(a))e="Firefox",t=RegExp.$1;else if(r=-1!=a.indexOf("Safari"))e="Safari",/Version\/(\S+)/.test(a)&&(t=RegExp.$1);else if(-1!=(r=a.indexOf("Opera")))if(e="Opera",/Version\/(\S+)/.test(a))t=RegExp.$1;else{var i=Math.max(a.lastIndexOf(" "),a.lastIndexOf("/"));t=a.substring(i+1)}else(n=a.lastIndexOf(" ")+1)<(r=a.lastIndexOf("/"))&&(e=a.substring(n,r),t=a.substring(r+1));return{name:e,version:t,string:e+" "+t,documentMode:s.documentMode}},c=function(e,t,n){switch(e){case"lt":return n>t;case"lte":return n>=t;case"gt":return t>n;case"gte":return t>=n;default:return t==n}},d=function(e,t){var n=l();return"IE"!=n.name?!1:e?c(t,n.version,e):!0},f=function(e,n){if("android"!=y().name.toLowerCase())return!1;if(!e)return!0;var r=t();return r?c(n,r,e):!1},p=function(e,t,n){var r=l();if("IE"!=r.name)return!1;if(!e)return!0;var i=n&&n.ownerDocument||s,o=i.documentMode;return o||("BackCompat"==i.compatMode?o=5:"7"==r.version&&(o=7)),c(t,o,e)},g=function(e,t,n,r){return r?d(e,t)&&p(e,t,n):d(e,t)||p(e,t,n)},h=function(e){return p(5,null,e)},m=[{n:"Android",os:"Android"},{n:"Linux",os:"Linux"},{n:"X11",os:"UNIX"},{n:"iPad",os:"iOS"},{n:"iPod",os:"iOS"},{n:"iPhone",os:"iOS"},{n:"Mac",os:"MacOS"},{n:"Win",os:"Windows"}],v=function(){try{return{height:e.screen.height,width:e.screen.width}}catch(t){}},y=function(){for(var e,t=0;t<m.length;t++){var n=m[t].n;if(-1!=a.indexOf(n)){e=m[t].os;break}}return e||(e="Unknown"),{name:e}},w=function(){try{var t=wmjQuery(e);return{height:t.height(),width:t.width()}}catch(n){return null}};return{browser:l(),getUrl:n,getUrlWithoutQueryString:r,getPageTitle:i,os:y(),isIE:g,isIEDoc:p,isIEBrowser:d,isQuirksMode:h,getWinSize:w,getScreenSize:v,isMobile:o,isAndroid:f}}function yr(){function e(e){l=e.deployablesGoalManager,d=e.experiments,u=e.lib,p=e.getEndUserGuid,f=u.Logger.wrapCustomerLog(m),c=new zn({lib:u,serverAddress:e.serverAddress,getPermutationId:e.getPermutationId,getEndUserGuid:e.getEndUserGuid,getAuditSource:e.getAuditSource,storageManager:e.storageManager}),g=u.getConsts()}function t(e,t){c.updateGoalCompleted(e,t.Id)}function n(e){return void 0!=v[e]}function r(e){var t=v[e.Id],n={goal:{Id:e.Id,GoalType:g.DEPLOYABLE_TYPE.AbExperiment,RelatedObjectId:t,Name:e.Name},identifier:e.identifier,interactionGuid:e.interactionGuid};u.getCommonEvents().sendInternalEvent(g.EVENTS.AbExperimentLinkedGoalReached,n)}function i(e,t){for(var n=[],r=[],i=0;i<e.Goals.length;i++){var o=e.Goals[i];gh(o.Id,t)>-1?n.push(o):r.push(o)}e.Goals=r,e.CompletedGoals=n}function o(e){for(var t=0;t<d.length;t++){var n=d[t];i(n,e)}}function a(e,t){for(var n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.Goals.length;i++){var o=r.Goals[i];t.push(o.Id),1==o.IsLinkedGoal&&(v[o.Id]=r.Id)}}function s(e,t){o(e);for(var n=0;n<d.length;n++){var r=d[n];f("Start watching Experiment goals. ExperimentID : "+r.Id,2),l.startWatchingDeployable(r,void 0)}t&&t()}var u,l,c,d,f,p,g,h=this,m="ABTesting",v={},y=function(e){var i=e.GoalType==g.DEPLOYABLE_TYPE.AbExperiment,o=n(e.Id),a=i||o;if(a){var s=p(),u=c.syncRetrieveCompletedGoals(s),l=-1==gh(e.Id,u);if(l){f("Experiment Goal was completed! Goal ID:"+e.Id+", Goal Name : "+e.Name,1),t(s,e);var d=i;d||r(e)}}},w=!1;this.startWatching=function(e){if(!w){w=!0;var t=[];if(a(d,t),0==t.length)return f("No AbTesting goals were defined"),void(e&&e());l.onGoalCompleted(y);var n=p(),r=c.syncRetrieveCompletedGoals(n);r?(f("Completed goals data exists. Starting goals watch"),Qp("ABTestingGoalsFetched"),s(r,e)):(f("No completed goals data exists locally. Fetching from server"),c.asyncRetrieveCompletedGoals(n,t,function(t){f("Completed goals data recieved. Starting goals watch"),Qp("ABTestingGoalsFetched"),s(t,e)},function(){f("WalkMe ABTesting - Error when fetching end-user goals. Removing WalkMe",1),u.removeWalkMe("AbTesting - Cannot fetch EndUser Goals")}))}},h.isGoalReached=function(e){for(var t=c.syncRetrieveCompletedGoals(p()),n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},e.apply(null,arguments)}function wr(e,t,n,r,i,o,a,s){function u(t,n,r){var i=l(t),o=i?"14px":"21px";return n=e.parseBBCode(n),"<h1 class='walkme-custom-first-step-not-available-text mt-custom-first-step-not-available-text CUSTOM-TUTORIAL-ID' style='CSS-RESET font-family: "+t.Font+";color: "+t.HeaderColor+"; font-size: "+o+"; border: none; margin: 10px; word-wrap: break-word;'>"+n+"</h1>"}function l(e){return"v3"==e.BalloonVersion||"vm1"==e.BalloonVersion}function c(e,t,n){n+="<div style='float: right'>",n+=h("walkme-custom-first-step-not-available-ok-button mt-custom-first-step-not-available-ok-button CUSTOM-TUTORIAL-ID","OK",e),n+="</div>",p("first-step-not-available",n,420,t.Id,m)}function d(t){var n={popupStepButtons:[{id:0,name:"OK",action:7}]},r=wmjQuery("<div></div>");r.append(t);var i=!0;ms({htmlContent:r},446,n,function(t){mtjQuery(".walkme-action-ok",t).click(function(){e.releaseBalloons()})},i)}function f(e,t,n,r,i){var o="",a=e?"14px":"15px";if(o+="<h1 id='walkme-first-step-not-available-title' class='walkme-custom-first-step-not-available-text mt-custom-first-step-not-available-text CUSTOM-TUTORIAL-ID' style='CSS-RESET font-family: "+t.Font+";color: "+t.HeaderColor+"; font-weight: bold; font-size: "+a+"; border: none; margin: 10px; word-wrap: break-word;'>"+n+"</h1>",o+="<h2 id='walkme-first-step-not-available-content' class='walkme-custom-first-step-not-available-text mt-custom-first-step-not-available-text CUSTOM-TUTORIAL-ID' style='CSS-RESET font-family: "+t.Font+";color: "+t.HeaderColor+"; font-size: "+a+"; border: none; margin: 10px; word-wrap: break-word; font-weight: normal;'>"+r+"</h2>",i){var s="http://support.walkme.com/customer/portal/articles/1451025-error-handling";o+='<a href="'+s+'" target="_blank" style="float: left; margin-left: 11px; text-decoration: underline; color: blue;">Read More</a>'}return o}function p(i,o,u,l,c){var d=g(l),f=d.BalloonSettings,p='<div class="mt-to-destroy walkme-custom-popup mt-custom-popup walkme-custom-popup-'+i+" mt-custom-popup-"+i+' CUSTOM-TUTORIAL-ID mt-to-destroy" id="walkme-popup-body" style="CSS-RESET width:'+u+'px">'+o+"</div>";p=p.replace(/CSS-RESET/g,uf),p=p.replace(/CUSTOM-TUTORIAL-ID/g,"walkme-custom-walkthru-"+l);var h=bl();h.append(p),xh=mtjQuery("#walkme-popup-body",h),xh.css({position:"fixed","z-index":cf,padding:"8px 12px 12px 12px","font-family":"Arial"}),s.setStyleForBalloon(xh,f,!1);var m=0;mtjQuery.each(mtjQuery("[width], [style*=width]",xh),function(e,t){mtjQuery(t).width()>m&&(m=mtjQuery(t).width())}),xh.width()<m&&xh.css("width",m+"px"),e.centerElementInPage(xh,!1),eg=t.playSetInterval(function(){e.centerElementInPage(xh,!0)},1e3),n.isQuirksMode()||e.shouldHandlePageAsFramesets()||r.displayOverlay(2147483630,!0),xh.fadeIn("slow"),Uu(xh,{objectId:l,type:a.STEP_PLAY_INITIATOR_ENUM.WALKTHRU}),c&&c(xh)}function g(e){var t;return t=Yf[e]?Yf[e].siteConfig:i.get()}function h(e,t,r,a){r=s.fixConfiguration(r),r.ButtonBorderColor=r.ButtonBorderColor||"#6c84a6";var u="rtl"==i.get().Direction?"right":"left";s.fixGradientColorsInConfiguration(r,"ButtonBgColor"),s.fixGradientColorsInConfiguration(r,"ButtonBgColor2");var l=r.ButtonBgColor,c=r.ButtonBgColor2,d=r.ButtonShadowWidth,f=r.BalloonButtonRadius,p=l!=c,g="CSS-RESET "+(p?"background:-moz-linear-gradient(top, "+l+", "+c+");background:-webkit-gradient(linear, left top, left bottom, color-stop(0%,"+l+"), color-stop(100%,"+c+"));background:-webkit-linear-gradient(top, "+l+" 0%,"+c+" 100%);background:-o-linear-gradient(top, "+l+" 0%,"+c+" 100%);background:-ms-linear-gradient(top, "+l+" 0%,"+c+" 100%);background:linear-gradient(to bottom, "+l+" 0%,"+c+' 100%);filter: progid:DXImageTransform.Microsoft.gradient( startColorstr="'+l+'", endColorstr="'+c+'",GradientType=0 );':"background-color:"+l+";")+"border: 1px solid "+r.ButtonBorderColor+";color:"+r.ButtonTextColor+"; cursor: pointer; display: inline-block; float: none; font-size: 14px; font-weight: normal;font-family: Arial; margin-"+u+": 6px; padding: 2px 14px; text-align: center; text-decoration: none; position: static;overflow: visible;-moz-box-shadow: 0 0 "+d+"px rgba(0, 0, 0, 0.4);-webkit-box-shadow: 0 0 "+d+"px rgba(0, 0, 0, 0.4); box-shadow: 0 0 "+d+"px rgba(0, 0, 0, 0.4); -moz-border-radius:"+f+"px;-webkit-border-radius:"+f+"px;border-radius:"+f+"px;";return l!=c&&n.isIE()&&(g+="border-radius: 0px;"),p&&o.isGradientUsingFilter(g)&&(g+="background: url("+zf+"/player/resources/images/spacer.gif) repeat;"),g=g.replace(/CSS-RESET/g,uf),g+=a?a:"","<button class='"+e+"' type='button' style='"+g+"'>"+t+"</button>"}function m(e){mtjQuery(".walkme-custom-first-step-not-available-ok-button",e).click(function(){vl()})}var v=this;v.showCantPlayBalloon=function(e,t,n){var r=g(e.Id),i=r.BalloonSettings,o=l(i),a=f(o,i,t,n,!0);o?d(a):c(i,e,a)},v.showFirstStageNotAvailablePopup=function(){var e=i.get(),t=e.BalloonSettings,n=u(t,"",!1);d(n)},v.showFirstStepNotAvailablePopup=function(e){var t=g(e.Id),n=t.BalloonSettings,r=yl(e.Settings,"cantPlayAlert",t.TutorialCantPlayText),i=l(n),o=u(n,r,!0);i?d(o):c(n,e,o)}}function br(e,t,n,r){function i(){}function o(e){try{var r=t.getEventAppByDeployable(e.auditType),i={type:e.initiatorType,objectId:e.initiatorId},o=s(r,e.auditType,e.objectId,i,e.additionalParams),u=a(r);t.postEvent(u,o)}catch(l){n.error(l)}}function a(e){switch(e){case t.EVENT_APPS.Launcher:return t.EVENT_TYPES.Click;default:return t.EVENT_TYPES.Play}}function s(n,r,i,o,a){var s,d,f=e.getDeployablesManager(r),p={};if(f){var g=f.getById(i);g&&(s=g.Name,p=f.getActionData(g),d=f.isWithAction(g))}switch(n){case t.EVENT_APPS.Launcher:return u(n,i,s,p);case t.EVENT_APPS.Content:return c(n,i,s,o,d,a);default:return l(n,i,s,o,d)}}function u(e,t,n,r){return{type:e,oId:t,oName:n,aType:r.Type,aAppType:r.aAppType,aoId:r.ItemId,aoName:r.Name,pId:"-1"}}function l(e,t,n,i,o){return{type:e,oId:t,oName:n,pInit:r.map(i),pId:"-1",oIsWithAction:o}}function c(e,t,r,i,o,a){var s=l(e,t,r,i,o,a);return a&&null!=a.contentType?s.oType=a.contentType:n.error(null,"No contentType was not provided for resouce params"),s}var d=this;d.send=o,i.apply(null,arguments)}function Sr(e,t,n,r,i,o){function a(){od.ElementRecognition.setJQuery(wmjQuery)}function s(e){var t={0:od.ElementRecognition.AlgorithmSensitivity.Low,1:od.ElementRecognition.AlgorithmSensitivity.Medium,2:od.ElementRecognition.AlgorithmSensitivity.High};return t[e]}function u(e,t){var n=od.ElementRecognition.SearchOptions.IGNORE_NOTHING,r=[];e.IsIdentifyByText&&r.push("IDENTIFY_TEXT"),e.IsIgnoreText&&r.push("IGNORE_TEXT"),e.IsIgnoreId&&(r.push("IGNORE_ID"),r.push("IGNORE_NAME")),0!=e.IgnorePosition&&r.push("IGNORE_POSITION"),e.IsIdentifyById&&r.push("IDENTIFY_ID_AND_NAME"),e.IgnoreShapeProportion&&r.push("IGNORE_SHAPE_PROPORTION"),e.IgnoreClass&&r.push("IGNORE_CLASS"),e.IgnoreStyle&&r.push("IGNORE_STYLE"),e.IgnoreHref&&r.push("IGNORE_HREF"),t["data-walkmeid"]&&r.push("IDENTIFY_WALKME_ID"),o.isFeatureEnabled("noAutoQuery")||r.push("USE_AUTO_SELECTOR");for(var i=0;i<r.length;i++)n|=od.ElementRecognition.SearchOptions[r[i]];return n}function l(e,t,i){var a=!o.isFeatureEnabled("fe_no_xpath_cache"),s=new od.ElementRecognition.ElementDescription(a);s.elementType=c(t.elementXpath.toLowerCase()),s.width=t.elementWidth,s.height=t.elementHeight,s.relativeLeft=t.relativeLeft,s.absY=t.elementAbsY,s.centeredElementWidth=t.centeredElementWidth,s.xpathArrayOriginal=od.XpathLib.xpathStringToArray(t.elementXpath.toUpperCase()),s.xpathArray=od.XpathLib.removeHtmlAndBodyFromXpathArray(s.xpathArrayOriginal),s.xpathArrayToIframe=od.XpathLib.removeHtmlAndBodyFromXpathArray(od.ContextUtils.getXpathUpToIframe(s.xpathArrayOriginal)),s.text=t.textArray&&t.textArray.length>0?r(t.textArray[0],["&",'"',"'",">","<"]):"",s.autoQuery=t.autoQuery,t["data-walkmeid"]?s.customSelector="[data-walkmeid='"+t["data-walkmeid"]+"']":(void 0==i||i)&&(s.visibilityFilter=n.getVisibleFilter(e));var u={elementClass:"class",elementId:"id",elementName:"name"};s.attributes={};for(var l in u)s.attributes[u[l]]=t[l];for(var d in t)!t.hasOwnProperty(d)||s.attributes.hasOwnProperty(d)||u[d]||(s.attributes[d]=t[d]);return s}function c(e){var t=e.split("/"),n=t[t.length-1],r=n.split("[")[0];return r}function d(e,t,n,r,i){var o=f.recognizeElement(e,t,n,i),a=f.getWinner(o),s=a&&a.element&&a.element.length&&a.element[0];return a&&r&&(r.score=a.totalScore,r.details=a.details),s&&wmjQuery(s).data("iframe",o.context),s}var f=this;f.getFindElementLib=function(){return od},f.wrapSession=function(e,t){return o.wrapSession(e,t)},f.recognizeElement=function(e,t,n,r){var a=o.getSession(r);uh(e.StepSensitivity)&&a.setAlgorithmSensitivity(s(e.StepSensitivity)),a.setSearchOptions(u(e,t));var c=l(e,t,n);i.extendAdaptedSettings(e,c);var d=a.recognize(c);return d},f.getWinner=function(e){var t=e&&e.elements&&e.elements.length&&e.elements[0];return t},f.findElement=function(n,r,o,a){var s;if(t.isPopupStep(n))return ul();if(t.isActionStep(n))return Gs(n).isValid();if(!1===i.extendOriginalSettings(n))return!1;if(el(n,5),n.IsJquerySelector){n.ElementDescription.extended=n.ElementDescription.extended||{},n.ElementDescription.extended.elementIframe=null;var u=e.findElements(n,r);return s=u&&u.length&&u[0],s?(s=wmjQuery(s),n.ElementDescription.extended&&s.data("iframe",n.ElementDescription.extended.elementIframe),s):!1}return s=i.findElement(n,o),void 0!==s?s?wmjQuery(s):s:(s=d(n,n.ElementDescription,r,o,a),s?wmjQuery(s):!1)},a.apply(this,arguments)}function Tr(e){function t(t){for(var n=!1,r=0;!n&&r<e.length;r++)n=t(e[r])}this.registerPlugin=function(t){e.push(t),t&&t.init&&t.init(jl.get("ElementFinder"))},this.findElement=function(e,n){var r;return t(function(t){return r=t.findElement&&t.findElement(e,n),void 0!==r}),r},this.extendDescription=function(e,n){var r=l(n);return t(function(t){t.extendDescription&&t.extendDescription(e,r)}),u(r)},this.extendOriginalSettings=function(e){try{t(function(t){t.extendOriginalSettings&&t.extendOriginalSettings(e)})}catch(n){return!1}return!0},this.extendAdaptedSettings=function(e,n){t(function(t){t.extendAdaptedSettings&&t.extendAdaptedSettings(e,n)})}}function Ir(e,t){function n(){}function r(e){e=e||0,l=new od.ElementRecognition.ElementRecognizerSession(e,f),f=!1}function i(){d=0,l=null,f=!1}function o(){return l&&d>0}function a(){0>d&&(d=0)}function s(t,n){return n?void 0:(o()||f||(f=!0,e.libSetTimeout(i,0)),a(),d+=1,!0)}function u(e){e||(d-=1,l&&0>=d&&i())}var l,c=this,d=0,f=!1;window._walkmeInternals=window._walkmeInternals||{},c.isFeatureEnabled=function(e){return t.isReady()?t.isFeatureEnabled(e):_walkmeInternals.findElementFeatures?!!_walkmeInternals.findElementFeatures[e]:!1},c.getSession=function(e){return o()||r(e),l},c.wrapSession=function(e,t){var n=c.isFeatureEnabled("fe_no_session_cache");s(t,n);var r=e&&e();return u(n),r},n.apply(this,arguments)}function Cr(){function e(r,i,o){if(o[0]>0)if(!r||3!==r.nodeType&&4!==r.nodeType){if(r&&1===r.nodeType&&!r.tagName.match(/^(script|style)$/i))for(var a=r.childNodes,s=0,u=a.length;u>s;s++)e(a[s],i,o)}else{var l=t(r.nodeValue);l=l.toLowerCase(),l=n(l),l&&(i.push(l),o[0]--)}}function t(e){return e=e.replace(new RegExp(String.fromCharCode(160),"g")," "),e=e.replace(new RegExp(String.fromCharCode(10),"g"),""),e=e.replace(new RegExp(String.fromCharCode(13),"g"),""),e=e.replace(new RegExp(String.fromCharCode(9),"g"),""),e=e.replace(new RegExp(" ","g"),""),e=mtjQuery.trim(e),e=e.substring(0,Bd)}function n(e){if(!r(e))return e;for(var t=-1,n=e.length,o="";++t<n;){var a=e.charAt(t);o+=/[\uD800-\uDBFF]/.test(a)||/[\uDC00-\uDFFF]/.test(a)?i(a):a}return o}function r(e){var t=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;return null!=t.exec(e)}function i(e){var t=e.charCodeAt(0),n=t.toString(16).toUpperCase(),r=n.length>2,i="\\"+(r?"u":"x")+("0000"+n).slice(r?-4:-2);return i}var o=this;o.getElementTextArray=function(t){var n=[];return e(t,n,[3]),n}}function Er(e){function t(){}function n(){if(u){for(var t=[],r=0;r<l.length;r++)try{i(l[r],r)}catch(o){t.push(r)}for(var r=t.length-1;r>=0;r--)l.splice(r,1)}l.length&&e.libSetTimeout(n,3e3)}function r(e){return e.nextAll(s).length>0}function i(e,t){var n=e.parent(),i=n.contents().length;r(e)||o(e[0])+t+1==i||e.appendTo(n)}function o(e){for(var t=0;e=e.previousSibling;)t++;return t}var a=this,s=".ui-dialog.ui-widget.ui-widget-content.ui-corner-all.ui-front:visible",u=!0,l=[];a.addElement=function(t){Lg("noElk")||(l.length||e.libSetTimeout(n,3e3),l.push(t))},a.removeElement=function(e){if(!Lg("noElk")){var t=wmjQuery.inArray(e,l);-1!=t&&l.splice(t,1)}},a.setState=function(e){Lg("noElk")||(u=e)},t.apply(null,arguments)}function kr(e,t,n,r,i){function o(){u=n.error,n.customerLog("Analytics manager was created",3,c)}function a(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1,0,0,0),n=Math.floor((t.getTime()-e.getTime())/1e3);return 0==n&&(n=1),n}function s(e,t,o){if(il())return!0;try{i.postEvent(i.EVENT_TYPES.Loaded,{type:i.EVENT_APPS.Walkme})}catch(a){n.error(a)}if(!Hf)return!0;var s=Hf+"/Analytics/UniqueEndUser",u={userId:e,permutationId:t,endUserGuid:o};r.execute({url:s,data:u})}var u,l="wm-ueuT",c="uniqueEndUser",d=this;d.auditUniqueEndUser=function(t,r,i){try{var o=e.getData(l)!=i;o&&(s(t,r,i),n.customerLog("auditUniqueEndUser: sent unique user request. userGuid="+t+" permutationId="+r+"endUserGuid="+i,3,c),e.saveData(l,i,a()))}catch(d){u(d,"Failed while auditing unique end users")}},o.apply(null,arguments)}function _r(e,t,n,r,i,o,a,s,l,c,d){function f(){C=n.wrapCustomerLog(Wl)}function p(e,t,n,r,i){if(!d.isEnabled())return!0;var o=m(),a={auditType:e,objectId:t,auditGuid:o,playInitiator:n,initiatorId:r};return S.sendData(a),l.send({auditType:e,objectId:t,initiatorType:n,initiatorId:r,additionalParams:i}),o}function g(e){if(!d.isEnabled())return!0;var t={userId:s.getUserGuid(),fullUrl:r.getUrl(),source:s.getEnvironmentId(),browser:r.browser.string,os:r.os.name,permutationId:s.getPermutationId(),endUserGuid:s.getEndUserGuid(),auditGuid:m()};T.sendData(t);try{var i;return e&&(i=c.map(e)),a.postEvent(a.EVENT_TYPES.Open,{type:a.EVENT_APPS.Player,pInit:i})}catch(o){return n.error(o),!0}}function h(t,r,i,s){if(!d.isEnabled())return!0;var u={shoutOutId:t,deployableType:r,clickType:i,auditGuid:m(),relatedClickAuditGuid:s};I.sendData(u);try{var l=e.getDeployablesManager(o.ShoutOut),c=l.getById(t);if(i===bc.Close||i===bc.XButton)return a.postEvent(a.EVENT_TYPES.Close,{type:a.getEventAppByDeployable(r),oId:t,oName:c.Name,pId:"-1",reason:i});var f=l.getActionData(c);return a.postEvent(a.EVENT_TYPES.Click,{type:a.getEventAppByDeployable(r),oId:t,oName:c.Name,aType:f.Type,aAppType:f.aAppType,aoId:f.ItemId,aoName:f.Name,pId:"-1"})}catch(p){return n.error(p),!0}}function m(){return(new Date).getTime()+"-"+i()}function v(){S=t.register("ca",{actionUrl:"/Statistics/AddClickAudits",prefixForStorage:"ca",sendingThreshold:1,dataType:"click audit",dataIdFieldName:"Id",requestParamsFunc:w}),T=t.register("wo",{actionUrl:"/Statistics/AddWidgetOpens",prefixForStorage:"wo",sendingThreshold:1,dataType:"widget open",dataIdFieldName:"Id",requestParamsFunc:function(e){return{serizlizedWidgetOpens:u(e)}}}),I=t.register("ac",{actionUrl:"/Statistics/AddShoutOutAudits",prefixForStorage:"ac",sendingThreshold:1,dataType:"shoutOut click",dataIdFieldName:"Id",requestParamsFunc:w})}function y(t){var n,r,i=t[0],a=i.auditType,u=i.objectId;if(void 0!=a&&void 0!=u&&(n=e.getDeployablesManager(a),n&&n.getById&&(r=n.getById(u),r&&r.userGuid)))return r.userGuid;var l=t[0].shoutOutId;return void 0!=l&&(n=e.getDeployablesManager(o.ShoutOut),n&&n.getById&&(r=n.getById(l),r&&r.userGuid))?r.userGuid:s.getUserGuid()}function w(e){var t=y(e),n=r.browser.string,i=r.os.name,o=s.getEnvironmentId(),a=s.getEndUserGuid(),l=s.getPermutationId(),c=r.getUrl();return{serizlizedClickAudits:u(e),userGuid:t,fullUrl:c,source:o,browser:n,os:i,permutationId:l,endUserGuid:a}}var b=this;b.SendClickAudit=p,b.SendWidgetOpen=g,b.SendShoutOutAudit=h,b.init=v;var S,T,I,C;f.apply(null,arguments)}function xr(e,t,n,r){function i(){o=t.register("dca",{actionUrl:"/Statistics/AddDebuggerAudits",prefixForStorage:"dca",sendingThreshold:5,dataType:"debugger audit",dataIdFieldName:"Id",requestParamsFunc:function(t){var i=e.getUserGuid(),o=n.browser.string,a=n.os.name,s=al(),l=sl(),c=e.getEndUserGuid(),d=r.getCurrentPermutation();return{debuggerAuditData:u(t),userGuid:i,fullUrl:l,source:s,browser:o,os:a,permutationId:d,endUserGuid:c}}})}var o,a=this;a.sendData=function(e){o.sendData(e)},i.apply(null,arguments)}function Pr(e,t){function n(){}function r(e){return"object"==typeof e&&null!==e}function i(e,t,n){var i;return i=r(e)?c(e,t,n):wmjQuery(e,n)}function o(e,t,n){var r=void 0;if(void 0!=e&&(r=i(e,t,n),r.length>0)){var o=Al(r[0]);"IFRAME"==o||"FRAME"==o?(t&&(t.ElementDescription.extended.elementIframe&&r.data("iframe",t.ElementDescription.extended.elementIframe),t.ElementDescription.extended.elementIframe=r),r=wl(r)):t&&(t.ElementDescription.extended.elementIframe=!1)}return r}function a(e){return void 0!=e&&mtjQuery.inArray(e,g)>-1?!0:!1}function s(e,t){var n;try{n=e[t]().eq(0)}catch(r){_makeTutorial.Logger.error(r,"runJqueryMethod : element has no method named '"+t+"'"),n=wmjQuery()}return n}function u(e,t){if(void 0!=e.method){var n;n=r(e.method)?e.method.name:e.method,a(n)?t=s(t.eq(0),n):(el("Unknown jQuery Selector Method : '"+n+"'"),t=wmjQuery())}return t}function c(e,t,n){try{var r=o(e.context,t,n),a=i(e.element,t,r);return a=u(e,a)}catch(s){return el("jQuery Element Finder: Could not parse input"),wmjQuery()}}function d(e){if(e=wmjQuery.trim(e),!cl(e,"{")){var t=new Object;return t.element=e,t}try{return l(e)}catch(n){return null}return null}function f(e){function t(e,t){for(var n=e.split("."),r=t,i=0;i<n.length;i++)r=r[n[i]];return r}var n={result:null,iframe:null},r=new Array;if(e.params)for(var i=0;i<e.params.length;i++)r.push(e.params[i].value);var o=window;if(e.iframe){if(o=mtjQuery(e.iframe),0==o.length)throw"Iframe not found: "+e.iframe;o=o.contents()[0],o=o.parentWindow||o.defaultView,n.iframe=mtjQuery(e.iframe)}var a=t(e["function"],o);if(!a)throw"Function not found: "+e["function"];var s;if(e["this"]){if(s=t(e["this"],o),!s)throw"'This' not found: "+e["this"]}else s=-1==e["function"].indexOf(".")?null:t(e["function"].substring(0,e["function"].lastIndexOf(".")),o);var u=a.apply(s,r);return n.result=u,n}var p=this,g=["parent","children","next"];p.findElementsByjQueryComplexSelector=function(e){e=Dh(e,["&",'"',"'",">"]);var t=d(e),n=c(t);return n},p.getjQueryElementText=function(t){var n=p.findElementsByjQueryComplexSelector(t);return e.checkElementText(n)},p.findElements=function(e,n){if(!e.JquerySelector)return[];var r=e.JquerySelector;r=r.replace(/&quot;/gi,'"'),r=r.replace(/&apos;/gi,"'"),r=r.replace(/&#39;/gi,"'"),r=r.replace(/&amp;/gi,"&"),r=r.replace(/&gt;/gi,">");var i,o="context:",a=",element:",s="func:";if(cl(r,o)){var u=r.substr(o.length),l=u.substr(u.indexOf(a)+a.length);u=u.substr(0,u.indexOf(a));var p=mtjQuery(u);if(!(p.length>0))return[];"IFRAME"==Al(p[0])?e.ElementDescription.extended.elementIframe=p:e.ElementDescription.extended.elementIframe=!1,p=p.contents(),i=mtjQuery(l,p),el("jQuery selector found these elements:",5),el(v,5)}else if(cl(r,s))try{var g=r.substr(s.length),h=mtjQuery.parseJSON(g),m=f(h);m.iframe&&(e.ElementDescription.extended.elementIframe=mtjQuery(m.iframe));var v=mtjQuery(m.result);return(void 0==n||n)&&(v=v.filter(t.getVisibleFilter(e))),el("func selector found these elements:",5),el(v,5),v}catch(y){return Eg?(console.log("Using jQuery selector with function raised an exception:"),console.log(y)):(el("Using jQuery selector with function raised an exception:"),el(y)),[]}else{var w=d(r);i=c(w,e)}return i.length>0&&(void 0==n||n)&&(i=i.filter(t.getVisibleFilter(e))),el("jQuery selector found these elements:",5),el(i,5),i},n.apply(null,arguments)}function Dr(e,t){function n(){}function r(){for(var t=e.getUiDataProvider().uiObjectsTree(),n=0;n<t.length;n++)if(i(t[n]))return!0;return!1}function i(e){if("task"==e.type())return!0;var t=e.children();if(!t||0===t.length)return!1;for(var n=0;n<t.length;n++)if(i(t[n]))return!0;return!1}function o(){if(!t.isIEBrowser(9,"lte"))return!0;var e="abTasksIE"+t.browser.version;return Lg(e)?!0:!1}var a=this;a.shouldTrackAbTasks=function(){var t=parseInt(e.getSiteConfig().TodoListSettings.isActive);return t&&r()?!0:Lg("untrack_tasks")&&!t?!1:o()},n.apply(null,arguments)}function Ar(e,t,n,r,i){function o(){S=e.wrapCustomerLog(zl),"Edge"==n.browser.name&&(E="Arial")}function a(e){return"widget-font"==e.name&&n.isAndroid("4.3","lt")}function s(e,t){for(var n=0;n<e[0].ownerDocument.styleSheets.length;n++)if(e[0].ownerDocument.styleSheets[n][t])return!0;return!1}function u(e,t,n,r){S("Start loading embeded file for font '"+e.name+"'",4),I.push({name:"walkme-"+e.name,tagId:t,head:n}),wmjQuery.ajax({type:"GET",url:r+".js",dataType:"script",cache:!0})}function l(e){for(var t=0;t<I.length;t++)if(I[t].name==e){var n=I[t];return I.splice(t,1),n}}function c(e,r,i,o){S("Start loading eot file for font '"+e.name+"'",4),o+=".eot",n.isIEBrowser(8)&&Lg("fixFontsCompatibility")&&(o+="?frame="+t.getFrameIndex(i[0].ownerDocument.parentWindow));var a=Dc.to_html(P,{family:"walkme-"+e.name,src:o,weight:"normal",style:"normal"});n.isIEBrowser(8)?w(a,r,i):m(a,i,e.name,r)}function d(e){e&&(f(top),D.libSetTimeout(function(){d(e-1)},100))}function f(e){try{var t=wmjQuery("head",e.document);w("",C,t),D.libSetTimeout(function(){t.find("#"+C).remove()},100)}catch(n){}for(var r=e.frames,i=0;i<r.length;i++)f(r[i])}function p(e,t,n,r){if(!n&&!r)return void S("Stop Tracking font '"+e.name+"' because we don't have success/fail Callback",4);S("Start tracking font '"+e.name+"'",4);var i=wmjQuery(t.createElement("span")).addClass("walkme-font-tester").important({position:"absolute",top:"-9999px",left:"-9999px",visibility:"hidden","font-family":E,"font-size":"250px","line-height":"normal"}).html((e.dummeyText||k)+"a").appendTo(wmjQuery("body",t).or("html",t)),o=i[0].offsetWidth,a=i[0].offsetHeight,s="walkme-"+e.name;i.important("font-family",s+","+E),g(i,o,a,x,s,n,r)}function g(e,t,n,r,i,o,a){var s=5;S("================================================================================",s),S("Tracking font '"+i+"'",s),S("Comparison tester width: "+t+" === "+e[0].offsetWidth,s),S("Comparison tester height: "+n+" === "+e[0].offsetHeight,s),S("================================================================================",s),t===e[0].offsetWidth&&n===e[0].offsetHeight?0>r?(S("Finished with failure tracking font '"+i+"'",4),e.remove(),a&&a()):D.libSetTimeout(function(){g(e,t,n,r-_,i,o,a)},_):(S("Finished successfully tracking font '"+i+"'",4),e.remove(),o&&o())}function h(){return!!document.createStyleSheet}function m(e,t,n,r,i){try{v(e,t,n,r,i)||y(e,t,n,r,i)}catch(o){throw S("Cannot inject style sheet"),o}}function v(e,t,n,i,o){var a=r._walkmeInternals;if(a&&a.customInjectStyleSheetFuncs){S("Attempting to use custom CSS Injector");for(var s=0;s<a.customInjectStyleSheetFuncs.length;s++){var u=a.customInjectStyleSheetFuncs[s];"function"==typeof u&&u(e,t,n,i,o)}return!0}return!1}function y(e,t,n,r,i){var o,a=t?t[0].ownerDocument:wmjQuery("body")[0].ownerDocument;i&&(o=b(i,a));var s=void 0===o?a.createStyleSheet(""):a.createStyleSheet("",o);s.cssText=e,s.owningElement.id=r,s.walkmeToRemove=!0,s[n]=!0}function w(e,t,n,r,o){var a,s=n||wmjQuery("head");i.getIsInEditor()&&mtjQuery("#"+t,s).remove();var u=wmjQuery('<style type="text/css" class="walkme-to-remove">'+(o?"":e)+"</style>");if(t&&u.attr("id",t),r&&(a=s.find("#"+r)),a&&a.exist()?a.first().before(u):s.append(u),o){var l=u.prop("styleSheet");l?l.cssText=e:u.append(e)}return u}function b(e,t){for(var n=t.styleSheets,r=0;r<n.length;r++)if(n[r].owningElement.id==e)return r}var S,T=this,I=[],C="walkme-framesets-fix-id",E="Comic Sans MS",k="QW@HhsXJ",_=50,x=2500,P=function(e,t,n){var r=this;return r.b(n=n||""),r.b("@font-face {"),r.b("\n"+n),r.b("font-family: '"),r.b(r.v(r.f("family",e,t,0))),r.b("';"),r.b("\n"+n),r.b("src: url("),r.b(r.v(r.f("src",e,t,0))),r.b(") "),r.s(r.f("format",e,t,1),e,t,0,69,89,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("format('"),n.b(n.v(n.f("format",e,t,0))),n.b("')")}),e.pop()),r.b(";"),r.b("\n"+n),r.b("font-weight: "),r.b(r.v(r.f("weight",e,t,0))),r.b(";"),r.b("\n"+n),r.b("font-style: "),r.b(r.v(r.f("style",e,t,0))),r.b(";"),r.b("\n"+n),r.b("}"),r.fl()},D=jl.get("TimerManager");T.font=function(r,i,o,l){if(Lg("noFonts")||t.isMobileNative())return void(o&&o());if(i&&i.length||(i=wmjQuery("head")),!i.length)return e.error(null,"cannot inject font - head element does not exist"),void(l&&l());var f=i[0].ownerDocument;if(n.isIEDoc(8,"lte",i[0])&&"widget-font"!=r.name&&!Lg("loadAllFonts"))return S("Not loading font '"+r.name+"' (IE7/8), to load all fonts enable the loadAllFonts feature",4),void(o&&o());S("Start loading font '"+r.name+"'",4);var g="wm-font-"+r.id,h=wmjQuery("#"+g,i);if(h&&h.length)return void p(r,f,o,l);var m=T.getResourcePath(r.url);if(n.isIEDoc(8,"lte",i[0])){if(s(i,r.name))return void p(r,f,o,l);c(r,g,i,m)}else a(r)&&(m=m.concat("_svg")),u(r,g,i,m);var v;v=n.isIEDoc(8,null,i[0])?function(){Lg("highPerf")||d(5),o&&o()}:o,p(r,f,v,l)},T.preloadResources=function(e,t){var r;e=e||wmjQuery("head");for(var i=0;i<t.length;i++){var r=T.getResourcePath(t[i].url);r+=n.isIEDoc(8,null,e[0])?".eot":".js";var o=new Image;o.src=r,o.onload=function(){}}},T.fonts=function(e,t,n,r){var i=e.length,o=!1;if(i||n&&n(),n||r)for(var a=0;a<e.length;a++)T.font(e[a],t,function(){0==--i&&(o?r&&r():n&&n())},function(){o=!0,0==--i&&r&&r()});else for(var a=0;a<e.length;a++)T.font(e[a],t)},T.finishFontLoad=function(e,t){S("finish loading font '"+e+"'",4);for(var n="",r=0;r<t.length;r++)n+=Dc.to_html(P,{family:e,src:t[r].src,format:t[r].format,weight:t[r].weight,style:t[r].style});var i=l(e);T.injectCss(n,i.tagId,i.head,e,null,!0)},T.getResourcePath=function(e){return e&&e.indexOf("/")?e:e=zf+e;
},T.injectCss=function(e,t,n,r,i,o){h()?m(e,n,r,t,i):w(e,t,n,i,o)},T.refreshContentCss=function(e,t){var n=w(t+" :before,"+t+" :after{content:none !important;}",null,e);D.libSetTimeout(function(){n.remove()},0)},T.emptyStyleSheets=function(){if(h())for(var e=document.styleSheets,t=0;t<e.length;t++)e[t].walkmeToRemove&&(e[t].disabled=!0)},o.apply(null,arguments)}function Or(e){function t(i,o,a){var s=(new Date).getMilliseconds();if(wmjQuery(i).find("iframe:not(.walkme-editor-popup):not(#walkme-hidden-iframe),frame").each(function(){var e=n(this,o);e.documentAccessible&&t(wmjQuery(e.iframe.contentWindow.document),e),a&&r(e)}),void 0==o){var u=(new Date).getMilliseconds(),l=u-s;e("Mapping iframes took "+l+" ms",5)}}function n(n,i){var s={iframe:n,documentAccessible:o(n),children:[]};return i?i.children.push(s):a.push(s),r(s),wmjQuery(n).on("load.wmIframeManager",function(){s.children=[],o(n)&&(t(wmjQuery(n.contentWindow.document),s,!0),r(s))}),s.documentAccessible||e("Cross domain iframe detected: "+n.src,4),s}function r(e){for(var t=d.length-1;t>=0;t--)d[t](e)}function i(){a=[],s={children:a}}function o(e){try{e.contentWindow.document}catch(t){return!1}return!0}var a,s,u=this,l=-1,c=!1,d=[],e=e.wrapCustomerLog("IFramesManager");u.mapIframes=function(){c||(i(),t(document,void 0)),c=!0},u.remapTopIframes=function(){var t=(new Date).getMilliseconds();l++,newIframes=[],wmjQuery(document).find("iframe:not(.walkme-editor-popup):not(#walkme-hidden-iframe),frame").each(function(){for(var e=!1,t=0;t<a.length;t++)if(a[t].iframe==this){a[t].foundInRemap=l,e=!0;break}e||newIframes.push(this)});for(var r=0;r<a.length;r++)a[r].foundInRemap!=l&&a.splice(r,1);for(var r=newIframes.length-1;r>=0;r--)n(newIframes[r],void 0);var i=(new Date).getMilliseconds(),o=i-t;e("Remapping top iframes took "+o+" ms",5)},u.getAll=function(){return a},u.foreachIframe=function(e,t){function n(r){for(var i=0;i<r.children.length;i++){var o=r.children[i];(!t||o.documentAccessible)&&(e(o),n(o))}}n(s)},u.onIframeLoad=function(e){d.push(e)},u.releaseEvents=function(){if(a)for(var e=0;e<a.length;e++)wmjQuery(a[e].iframe).off("load.wmIframeManager")},u.getMapping=function(){return s}}function Nr(){function e(){c.redrawElements()}function t(t){function n(){w&&(e(),f.libSetTimeout(n,jl.get("UICT_DEFAULT_THROTTLE_TIME_WINDOW"))),y=w,w=!1}y?b||(w=!0):(e(),y=!0,b=!0,f.libSetTimeout(n,jl.get("UICT_DEFAULT_THROTTLE_TIME_WINDOW")),f.libSetTimeout(function(){b=!1},jl.get("UICT_THROTTLE_FIRST_EVENT_BLOCK_TIME_WINDOW")))}var n,r,i,o,a,s,u,l,c,d,f,p,g,h=this,m=[],v=!1;h.ready=function(e,t,m,y,w,b,S,T,I,C,E,k,_){if(g=E.wrapCustomerLog(rc),n=e,r=t,d=k,f=_,i=m,o=y,a=w,s=b,u=S,l=T,p=[i,o,a,s,u,l],c=h.getSpaConfigValue("legacyRedrawer",!1)?C:I,h.isEnabled()){d.mapIframes();for(var x=[],P=0;P<p.length;P++)p[P].start(),p[P].isActivated()&&x.push(p[P].getSpaTypeName());x.length>0?(v=!0,g("UIChangeTracker - Creating UIChangeTracker for types: "+x.join(", ")+". Using the following redrawer: "+c.getRedrawerName(),2)):g("UIChangeTracker - Did not activate",2)}},this.isEnabled=function(){var e=n.isWalkMeVisible();return e},this.stop=function(){if(h.isEnabled())for(var e=0;e<p.length;e++)p[e].isActivated()&&p[e].stop()},h.bind=function(e,t){t&&"ElementsRedrawerLegacy"!=c.getRedrawerName()||m.push(e)},h.unbind=function(e){for(var t=m.length-1;t>=0;t--)if(m[t]===e){m.splice(t,1);break}},h.callListeners=function(){for(var e=0;e<m.length;e++)try{m[e]()}catch(t){}},h.triggerUIChange=function(){e()},h.triggerThrottledUIChange=function(){t()};var y=!1,w=!1,b=!1;h.isActivated=function(){return v},h.getElementRedrawerType=function(){return c.getRedrawerName()},h.getSpaConfigValue=function(e,t){var n=t;return r.get()&&r.get().Settings&&r.get().Settings.spaConfig&&(n=yl(r.get().Settings.spaConfig,e,t)),n},h.getSpaConfigIntValue=function(e,t){return t=void 0===t?0:t,parseInt(h.getSpaConfigValue(e,t))}}function Mr(){function e(){r=window.onhashchange,window.onhashchange=function(){r&&r.apply(null,arguments),t.triggerUIChange()}}var t,n=this,r=null,i=!1;n.ready=function(e){t=e},n.start=function(){t.getSpaConfigValue("hash")&&(e(),i=!0)},n.stop=function(){i&&(window.onhashchange=r,r=null,i=!1)},n.isActivated=function(){return i},n.getSpaTypeName=function(){return"Hash"}}function Lr(){function e(){window.history&&window.history.pushState&&(r=window.onpopstate,window.onpopstate=function(){r&&r.apply(null,arguments),t.triggerUIChange()},i=window.history.pushState,window.history.pushState=function(){i.apply(window.history,arguments),t.triggerUIChange()})}var t,n=this,r=null,i=null,o=!1;n.ready=function(e){t=e},n.start=function(){t.getSpaConfigValue("history")&&(e(),o=!0)},n.stop=function(){o&&(window.onpopstate=r,r=null,window.history.pushState=i,i=null,o=!1)},n.isActivated=function(){return o},n.getSpaTypeName=function(){return"History"}}function Br(e){function t(){var e=!i(),t=e?"all iframes/frames":i();el("UIChangeTracker - iframeLoadSelector config defined. Listening to iframe load events for "+t,2);var a;e?a=o:(n(document),a=r),s.foreachIframe(a,!0),s.onIframeLoad(function(e){e.iframeLoadListenerSet=!1,a(e)})}function n(e){wmjQuery(e).find(i()).on("load.wmSpa",function(){a.triggerUIChange()})}function r(e){if(!e.iframeLoadListenerSet&&e.documentAccessible){var t=wmjQuery(e.iframe.contentWindow.document);n(t),e.iframeLoadListenerSet=!0}}function i(){return a.getSpaConfigValue("iframeLoadSelector")}function o(e){e.iframeLoadListenerSet||(wmjQuery(e.iframe).on("load.wmSpa",function(){a.triggerUIChange()}),e.iframeLoadListenerSet=!0)}var a,s,u=this,l=!1;u.ready=function(e,t){a=e,s=t},u.start=function(){void 0!=a.getSpaConfigValue("iframeLoadSelector")&&(t(),l=!0)},u.stop=function(){i()&&wmjQuery(i()).off("load.wmSpa"),l=!1},u.isActivated=function(){return l},u.getSpaTypeName=function(){return"IFrame load"}}function Fr(){function e(){el("UIChangeTracker - clickSelector config defined. Listening to click events for "+t(),2),wmjQuery(document).on("mousedown.wmSpa",t(),n.triggerThrottledUIChange),wmjQuery(document).on("click.wmSpa",t(),n.triggerThrottledUIChange),wmjQuery(document).on("mouseup.wmSpa",t(),n.triggerThrottledUIChange)}function t(){return n.getSpaConfigValue("clickSelector")}var n,r=this,i=!1;r.ready=function(e){n=e},r.start=function(){t()&&(e(),i=!0)},r.stop=function(){t()&&(wmjQuery(document).off("mousedown.wmSpa"),wmjQuery(document).off("click.wmSpa"),wmjQuery(document).off("mouseup.wmSpa")),i=!1},r.isActivated=function(){return i},r.getSpaTypeName=function(){return"Click"}}function jr(){function e(){n(wmjQuery(document)),a.foreachIframe(t,!0),a.onIframeLoad(function(e){e.userInputListenerSet=!1,t(e)})}function t(e){if(!e.userInputListenerSet&&e.documentAccessible){var t=wmjQuery(e.iframe.contentWindow.document);n(t),e.userInputListenerSet=!0}}function n(e){e.on("click.wmUITrack",o.triggerThrottledUIChange),e.on("dblclick.wmUITrack",o.triggerThrottledUIChange),e.on("mousedown.wmUITrack",o.triggerThrottledUIChange),e.on("mouseup.wmUITrack",o.triggerThrottledUIChange),o.getSpaConfigValue("userInputHoverOff")||(e.on("hover.wmUITrack",o.triggerThrottledUIChange),e.on("mouseenter.wmUITrack",o.triggerThrottledUIChange),e.on("mouseleave.wmUITrack",o.triggerThrottledUIChange),e.on("mousemove.wmUITrack",o.triggerThrottledUIChange),e.on("mouseout.wmUITrack",o.triggerThrottledUIChange),e.on("mouseover.wmUITrack",o.triggerThrottledUIChange)),e.on("keydown.wmUITrack",o.triggerThrottledUIChange),e.on("keypress.wmUITrack",o.triggerThrottledUIChange),e.on("keyup.wmUITrack",o.triggerThrottledUIChange)}function r(){el("UIChangeTracker - Stopped listening to User Input",2),i(wmjQuery(document))}function i(e){e.off("click.wmUITrack"),e.off("dblclick.wmUITrack"),e.off("mousedown.wmUITrack"),e.off("mouseup.wmUITrack"),o.getSpaConfigValue("userInputHoverOff")||(e.off("hover.wmUITrack"),e.off("mouseenter.wmUITrack"),e.off("mouseleave.wmUITrack"),e.off("mousemove.wmUITrack"),e.off("mouseout.wmUITrack"),e.off("mouseover.wmUITrack")),e.off("keydown.wmUITrack"),e.off("keypress.wmUITrack"),e.off("keyup.wmUITrack"),e.find("iframe:not(.walkme-editor-popup):not(#walkme-hidden-iframe),frame").each(function(){try{i(wmjQuery(this.contentWindow.document)),wmjQuery(this).off("load.wmUITrack")}catch(e){el("User input change tracker did not stop listening for all iframes.. This can occur for cross-domain iframes ",4)}})}var o,a,s=this,u=!1;s.ready=function(e,t){o=e,a=t},s.start=function(){o.getSpaConfigValue("userInput")&&(e(),u=!0)},s.stop=function(){r(),u=!1},s.isActivated=function(){return u},s.getSpaTypeName=function(){return"User input"}}function Rr(e){function t(){n(window),l.foreachIframe(i,!0),l.onIframeLoad(function(e){e.ajaxCallsListenerSet=!1,i(e)})}function n(e){e.XMLHttpRequest&&(c=e.XMLHttpRequest.prototype.send,r(e.XMLHttpRequest))}function r(e){var t=e.prototype.send,n=function(){var e=this;d.setWalkmeTimeout(function(){var t=e.onreadystatechange;e.onreadystatechange=function(){t&&t.apply(e,arguments),u.triggerThrottledUIChange()}},0),t.apply(this,arguments)};e.prototype.send=n}function i(e){!e.ajaxCallsListenerSet&&e.documentAccessible&&(n(e.iframe.contentWindow),e.ajaxCallsListenerSet=!0)}function o(){el("UIChangeTracker - Stopped listening to Ajax calls",2),a(window),s(wmjQuery(document))}function a(e){e.XMLHttpRequest&&(e.XMLHttpRequest.prototype.send=c)}function s(e){e.find("iframe:not(.walkme-editor-popup):not(#walkme-hidden-iframe),frame").each(function(){try{a(this.contentWindow),s(wmjQuery(this.contentWindow.document)),wmjQuery(this).off("load.wmAjaxResposive")}catch(e){el("Ajax calls were not overridden for all iframes. (ajax calls ui tracker). This can occur for cross-domain iframes ",4)}})}var u,l,c,d,f=this,p=!1;f.ready=function(e,t,n){u=e,l=t,d=n},f.start=function(){u.getSpaConfigValue("ajaxCalls")&&(t(),p=!0)},f.stop=function(){o(),p=!1},f.isActivated=function(){return p},f.getSpaTypeName=function(){return"Ajax Calls"}}function Ur(){function e(){p=!1,l.remapTopIframes(),o.callListeners(),t()}function t(){for(var e=r.getLaunchers(),t=0;t<e.length;t++)launcher=e[t],n(launcher)?r.showLauncherForSticky(launcher):launcher.drawable&&launcher.drawable.recalculateOrDestory()}function n(e){var t=e.drawable&&e.drawable.isDrawn();return!e.actionInProgress&&!t}var r,i,o,a,s,u,l,c,d=this,f=300,p=!1;d.ready=function(e,t,n,a,d,f){r=e,i=t,o=n,s=d.wrapCustomerLog(rc),u=a,l=f,c=jl.get("ProfilerAPI")},d.redrawElements=function(){var t=function(){if(p)return void s("UIChangeTracker - Canceling uiChange, already waiting for redraw",4);s("UIChangeTracker - UI change triggered",2),p=!0;var t=o.getSpaConfigIntValue("redrawTimeout",f);s("UIChangeTracker - redrawing in "+t,4),a&&(a.clear(),a=void 0),a=i.libSetTimeout(e,t)};i.libSetTimeout(t,0)},d.getRedrawerName=function(){return"ElementsRedrawer"},d.profile=function(e){t=e.profile("redrawLaunchers",t)}}function Gr(){function e(){u=!1,r.getSpaConfigValue("iframeLoadSelector")||r.getSpaConfigIntValue("dontDestoryBalloons")||(tg=!1,Cu()),t.showAllLaunchers(),r.callListeners()}var t,n,r,i,o,a=this,s=300,u=!1;a.ready=function(e,o,a,s){t=e,n=o,r=a,i=s},a.redrawElements=function(){var a=function(){if(u)return void el("UIChangeTracker - Canceling uiChange, already waiting for redraw",4);el("UIChangeTracker - UI change triggered",2),u=!0,_lastRedrawTime=new Date;var a=[];r.getSpaConfigValue("iframeLoadSelector")||r.getSpaConfigIntValue("dontDestoryBalloons")||(Zu(),a.push(t.releaseBalloons)),r.getSpaConfigIntValue("dontDestoryLaunchers")||a.push(function(e){t.releaseLaunchers(e,void 0,!0)}),i.executeParallel({functionsToExecute:a,successCallback:function(){var t=r.getSpaConfigIntValue("redrawTimeout",s);el("UIChangeTracker - redrawing in "+t,4),o&&(o.clear(),o=void 0),o=n.libSetTimeout(e,t)}})};r.getSpaConfigIntValue("syncUiChange")?a():n.libSetTimeout(a,0)},this.getRedrawerName=function(){return"ElementsRedrawerLegacy"}}function Wr(e){function t(){return r||(r=_u(),Xp==Fd.PAUSED&&(r.state=Xp)),r}function n(e){if(void 0==i){var n=t();i=!yp.surveyIsShown()&&e&&(n.state==Fd.PAUSED||n.state==Fd.NOT_RUNNING)||!e&&(n.state==Fd.PAUSED||n.state==Fd.NOT_RUNNING||fs(n.tutorial,n.step,void 0,void 0,void 0,hc.Sandbox,"- Engagement")<0)}return i}var r,i,o,a={clearCache:function(){r=void 0,i=void 0,o=void 0},checkShouldAutoStart:function(r,i,a){var s=!1;if(r!=e.Tutorial)return!0;if(!o){var u=qg(i.Id),l=Ou(u),c=Nu(u,!1),d=i.IsWelcomeStep,f=t();s=!(f.state==Fd.RUNNING&&f.step==l)&&n(a)&&(c&&d||fs(u,l,void 0,void 0,void 0,hc.Sandbox,"- Check if Exists with Skippables")>=l&&!c),o=s||o}return s}};return a}function Vr(e,t,n){var r=new Wr(e),i=t.wrapCustomerLog(Zl);this.clearCache=function(){return r.clearCache()},this.checkShouldAutoStart=function(t,o,a){if(t==e.Tutorial){var s=o.Steps[0];if(n.isPassOwnershipStep(s)){if(!n.isOwnerByCondition(s.Id,o.Id))return i("AutoStartHelper - condition not met, not starting"),!1}else if(!n.isOwnerByDefault())return i("AutoStartHelper - not top window, not starting"),!1}return r.checkShouldAutoStart(t,o,a)}}function Qr(e,t,n,r,i,o,a,s,u,l,c){function d(){s.shouldTrackFinder()&&u.registerProfilerCallback(function(e){v.run=e.profile("runAutoStart",v.run)})}function f(e,t,r){function i(t){var n=p(e,t),r=yl(t.Settings,"ASRep","visit");return""===r&&(r="visit"),v.checkRepeatCookie(n,r)}var o;w("Checking deployable named: "+t.Name,4);var a=yl(t.Settings,"ASEnabled",0);if(a){if(o=i(t),!o.shouldStart)return w("Repeat condition doesn't meet, not auto starting: "+t.Name,3),!1;var u=yl(t.Settings,"ASCTEnabled",0);if(1!=u)return w("Non-conditional autostart, trying to auto start "+t.Name,3),g(e,t,o);w("Autostart is enabled for deployable: "+t.Name,3);var l=yl(t.Settings,"ASCT","");if(""!=l)try{var c={stopPollingAfterEvaluateTrue:!1,elementPollingIntervalMs:2e3,jqueryPollingIntervalMs:2e3,featureName:Zl,elementName:t.Name,trackEvent:ia(e)+" - Engagement",trackData:s.getTrackData(t)},d=jl.create("ConditionChecker",c),f=!1;d.onEvaluated(function(r){if(r){w("Autostart condition met, trying to auto start: "+t.Name,3),n.clearCache();var i=g(e,t,o,f);i&&-1!=o.repeatCookieExpiry&&d.cleanResources()}Hp("WtAutoStartConditionEvaluated",t)}),d.evaluateAsync(l),f=!0,d.getCachedValue()||w("Condition didn't meet, not starting deployable: "+t.Name,3)}catch(h){}}var y=Pu(t,Ud.Action);if(y.length>0&&(o=i(t),o.shouldStart))for(var b=0;b<y.length;b++)if(m(e,t,y[b],o))return!0;return!1}function p(e,t){return 0==e?"wm-ASRep-"+t.Id:"wm-ASRep-"+e+"-"+t.Id}function g(e,t,r,i){if(n.checkShouldAutoStart(e,t,i)){r.store();var o=parseFloat(yl(t.Settings,"Delay",0));return o?a.libSetTimeout(function(){h(e,t)},1e3*o):h(e,t),!0}return!1}function h(e,t){Hp(c.EVENTS.AutoStartActivated),r.get(e).activateById(t.Id,{type:Rd.AUTOSTART})}function m(e,t,n,r){switch(n.Type){case Gd.AUTO_START:if($g(n.Content))return g(e,t,r)}return!1}var v=this,w=t.wrapCustomerLog(Zl),b=[i.ShoutOut,i.ShoutOutBar,i.Tutorial,i.Survey];this.run=function(){w("Trying to find a deployable that can auto start",1),n.clearCache(),l.wrapSession(function(){for(var e=0;e<b.length;e++)for(var t=r.get(b[e]),n=t.getAll(),i=0;i<n.length;i++)t.autoStartEnabled(n[i].Id)&&f(b[e],n[i])})},this.checkRepeatCookie=function(n,r,i){var a={shouldStart:!0,repeatCookieExpiry:-1},s=i?o:e;if("always"==r);else{"visit"==r&&(n+="-v");var u=1;s.getData(n,void 0,void 0,u)==u?a.shouldStart=!1:y(r)?a.repeatCookieExpiry=r:"visit"==r?a.repeatCookieExpiry=mc:"once"==r?a.repeatCookieExpiry=yc:t.error(new Error("checkRepeatCookie bad value: "+r))}return a.store=function(){a.repeatCookieExpiry>=0&&s.saveData(n,1,a.repeatCookieExpiry)},a},d.apply(null,arguments)}function Hr(e,t,n,r,i,o){function a(t,n){var r=1e3*parseFloat(i.getSettingsValue(t.Settings,"Delay",0)),o=n&&e&&e.enabled()?2*e.crossDomainSampleRate():1;return Math.max(r,o)}function s(){var e=/walkme=([0-9]+)-?([0-9]*)/,t=e.exec(window.location.href);if(t&&t.length>1){var n=t[2]||t[1],i=t[2]?t[1]:r.Tutorial;return{type:parseInt(i,10),id:parseInt(n,10)}}}var u;this.run=function(){var e=s();if(e){var i=e.type==r.Tutorial,l=t.get(e.type);if(!l)return;var c=l.getById(e.id);if(!c)return;var d=a(c,i);Gp.libSetTimeout(function(){Hp(o.EVENTS.PermalinkClicked),l.activateById(e.id,{type:n.getPlayInitiatorEnum().PERMALINK}),i&&(u=!1)},d),i&&(u=!0)}},this.isStartingWalkthru=function(){return u}}function zr(){function e(e){t=e}var t,n=this;n.set=function(e){t=e},n.get=function(){return t},e.apply(n,arguments)}function Yr(e){var t=this;t.isFeatureEnabled=function(t){var n=e.get();return"undefined"!=n.Features&&n.Features?n.Features.indexOf(t)>-1:!1},t.isReady=function(){var t=e.get();return t&&0!==t.length}}function qr(e,t,n){function r(){var t=n.getData(u);if(t==c&&(t=d),!t&&t!==d&&e.walkme_get_language)try{t=e.walkme_get_language()}catch(r){}return t?t:d}function i(e){return n.getData(u)==e}function o(e,t,r){var i=e.url;return t?(a(t,e.languages)?(i=i.substring(0,i.length-3),i=i+"_"+t+".js"):r||n.removeData(u),i):i}function a(e,t){for(var n=0;n<t.length;n++)if(t[n].shortName==e)return!0;return!1}var s=this,u="wm-lang",l=31536e3,c="_default_",d="",f=[],p=[];s.setLanguages=function(e){f.length=p.length=0;for(var t=0;t<e.length;t++)for(var n=e[t].languages,r=0;r<n.length;r++){var i=n[r];f.push(i),i.showInPlayer&&p.push(i)}},s.getMenuLanguages=function(){return p},s.getCurrentLanguage=function(){var e=r();return a(e,f)?e:d},s.changeLanguage=function(e){var t=e;return e===d&&(t=c),i(t)||!a(e,f)?!1:(n.saveData(u,t,l),!0)},s.fixLanguageUrlInDataFiles=function(e,t){for(var n=r(),i=0;i<e.length;i++){var a=e[i];a.url=o(a,n,t)}return e}}function Kr(){function e(e){var t=wmjQuery.inArray(e,u);t>-1&&u.splice(t,1)}function t(e){a||(a=o()),a.css({zIndex:e.zIndex,backgroundColor:e.color||"#000",opacity:e.opacity||.7})}function n(e){t(e),a.insertBefore(e.element)}function r(e,t){return e.zIndex>t.zIndex||e.zIndex==t.zIndex&&e.index>t.index}function i(){if(u.length){for(var e=u[0],t=1;t<u.length;t++)r(u[t],e)&&(e=u[t]);return e}}function o(){var e=wmjQuery('<div id="walkme-overlay-all" style="position: fixed; height: 100%; width: 100%; top: 0; left: 0;"/>');return e}var a,s,u=[];this.create=function(o,l,c){var d={element:o,color:c,opacity:l};return{remove:function(){e(d),d==s&&(s=i(),s?n(s):(a.remove(),a=null))},show:function(){d.zIndex=o[0].style.zIndex,d.index=o.index(),wmjQuery.inArray(d,u)<0&&u.push(d),(!s||s==d||r(d,s))&&(s=d,n(d))},getOverlayElement:function(){return a||t(d),a}}}}function Xr(e,t,n,r,i){function o(){a=t.get(),s=e.getEndUserGuid(),u=n.get(),l=u+"/EndUserStorage/Get"}var a,s,u,l,c=this,d=1e4;c.get=function(e,t,n,o){var u={walkmeUserGuid:e,source:a,endUserGuid:s,secondsSinceUpdate:t};i.execute({url:l,data:u,success:function(i,u,l){i.Data.ErrorMessage?(r.error(null,"ServerStorageAjaxCaller: Couldn't fetch for user guid: "+e+", source: "+a+", end user: "+s+", seconds since update: "+t+". Error: "+i.Data.ErrorMessage+"."),o&&o()):n(i.Data)},error:function(n,i,u){r.error(null,"ServerStorageAjaxCaller: Couldn't fetch for user guid: "+e+", source: "+a+", end user: "+s+", seconds since update: "+t+". Error: "+i+"."),o&&o()},timeout:d})},o.apply(null,arguments)}function Jr(e,t,n,r,i,o,a,s){function u(){v=n,y=t.getUserGuid(),w=t.getEndUserGuid(),b=i.get(),S=!1}function c(){var e=r.getData(x,null,y),t=r.getData(P,null,y);return!E&&(e!=w||t!=b)}function d(){for(var e=r.getInternalKeys(y),t=0;t<D.length;t++)wmjQuery.each(e,function(n){0==n.indexOf(D[t])&&delete e[n]});for(var n in e)e.hasOwnProperty(n)&&r.removeData(n,y)}function f(){r.saveData(x,w,yc,y),r.saveData(P,b,yc,y)}function p(e){var t=s.getStorageType(),n=t[k]||_;return null===e||e>=n}function g(e,t,n,r){o.get(y,e,function(e){I.updateLocalStorage(e,t),T=0,n&&n()},function(){T=1,r&&r()})}function h(e){return T}function m(t,n,r){var i=!1;return n>=e.TIME_PERIODS.OneHourSeconds&&(i=!0),i}var v,y,w,b,S,T,I=this,C=!1,E=!0,k="ss_ii",_=mc,x="wm-ceug",P="wm-cenv",D=["wm-c-test","wm-dbg-cnf","wm-dbg","wm-ueug","wm-fgug","wm-gb","wm-load-testme","wm-prsst","wm-sf-lst-usr","wm-sf-users-data","wm-sat","wm-sst","wm-sk","wm-SrvSmt","wm-wtchd","wm-cond-win","wm-prf-stt","wm-prf-snk","wm-cdstop","wm-cdplay","wm-po-pc","wm-po-r","wm-po-q","wm-dt","wm-ne","wm-nx","wm_abg_","wm_ct_","wm-po-p",x,P,"wm-ftr-cnf","wm-ftr","wm-ltm","wm-ct-prv","wm-lg-act"];I.init=function(t,n){if(S)return void(t&&t());S=!0;var i=r.getData(e.STORAGE_KEYS.lastGetDataTime,null,y);i&&(E=!1),c()&&(d(),i=null),f();var o=a.getDateAtUTC(),s=null==i?null:(o-i)/1e3;p(s)?g(s,o,t,n):t&&t()},I.updateLocalStorage=function(t,n){C=E?!0:!1;for(var i=0;i<t.length;i++){var o=t[i];o.IsDeleted?r.removeData(o.Key,y):r.saveData(o.Key,l(o.Value),o.SecondsToExpiry,y)}r.saveData(e.STORAGE_KEYS.lastGetDataTime,n,vc,y)},I.shouldUpdateOldKeys=function(){return C},I.getStorageType=r.getStorageType,I.refreshGetData=r.refreshGetData,I.saveData=function(e,t,n,i){void 0==i&&(i=y),m(e,n,i)&&v.update(e,t,n,i),r.saveData(e,t,n,i)},I.getData=function(e,t,n,i){return void 0!==i&&h(n)&&(t=i),r.getData(e,t,n)},I.addToDictionary=r.addToDictionary,I.removeData=function(e,t){void 0==t&&(t=y),v.remove(e,t),r.removeData(e,t)},I.addToQueue=r.addToQueue,I.convertOldCookieStorage=r.convertOldCookieStorage,I.increment=r.increment,I.getInternalKeys=r.getInternalKeys,I.removeAllData=r.removeAllData,I.sessionSetData=r.sessionSetData,I.sessionGetData=r.sessionGetData,I.setSyncFlag=r.setSyncFlag,u.apply(null,arguments)}function $r(e,t,n,r,i){function o(){a=e.getUserGuid(),s=e.getEndUserGuid(),u=n.get(),l=r.register("us",{actionUrl:"/EndUserStorage/Update",prefixForStorage:"us",sendingThreshold:1,dataType:"end user storage",requestParamsFunc:d.updateRequestParamsFunc,shouldTruncateData:!1}),c=r.register("rs",{actionUrl:"/EndUserStorage/Remove",prefixForStorage:"rs",sendingThreshold:1,dataType:"end user storage",requestParamsFunc:d.removeRequestParamsFunc,shouldTruncateData:!1})}var a,s,u,l,c,d=this;d.update=function(e,n,r,i){a=i||a;var o={Key:e,Value:t.toJSON(n),Expiry:r};l.sendData(o)},d.remove=function(e,t){a=t||a,c.sendData({Key:e})},d.getUpdateTypedDataSender=function(){return l},d.getRemoveTypedDataSender=function(){return c},d.updateRequestParamsFunc=function(e){return{walkmeUserGuid:a,source:u,endUserGuid:s,keyValueExpiryListSerialized:t.toJSON(e)}},d.removeRequestParamsFunc=function(e){return{walkmeUserGuid:a,source:u,endUserGuid:s,keyListSerialized:t.toJSON(e)}},o.apply(null,arguments)}function Zr(e,t,n,r,i){function o(){c=n.wrapCustomerLog("SettingsCacheManager")}function a(){var n=t.getPublishDate(),r=t.getUrl();if(c("SettingsCacheManager.shouldCheckSettings - publishDate: "+new Date(n),5),c("SettingsCacheManager.shouldCheckSettings - settingsUrl: "+r,5),n&&r){d=e.getStorageManagerInstance(f);var i=d.isEnabled();if(c("SettingsCacheManager.shouldCheckSettings - storageManagerEnabled: "+i,5),i){var o=d.getData(p);return c("SettingsCacheManager.shouldCheckSettings - settingsFileCacheBust: "+o,5),!o}}return!1}function s(){var e=t.getUrl()+"?b="+(new Date).getTime();c("SettingsCacheManager - Fetching newest settings file from: "+e,3),i.execute({url:e,cache:!1,dataType:"jsonp",jsonpCallback:"fixedCallback",success:u,error:l})}function u(e,t,n){var i=e.PublishDate;if(c("SettingsCacheManager.settingsFileReceived - publishDate: "+new Date(i),5),i){var o=((new Date).getTime()-i)/1e3;if(c("SettingsCacheManager.settingsFileReceived - secondsSincePublish: "+o,5),g>o){var a=g-o;c(r.formatString("SettingsCacheManager - Will fetch newset settings file in the next {0} seconds",a),3),d.saveData(p,!0,a)}}}function l(e,t,n){c(r.formatString("SettingsCacheManager - Error fetching settings file. jqXHR: {0}, textStatus: {1}, errorThrown: {2}",e,t,n))}var c,e,d,f="jstorage",p="wm-settings-cache-bust",g=3600;this.start=function(){c("SettingsCacheManager.start - Check if need to fetch settings ",5),a()?s():c("SettingsCacheManager - No need to check settings file",3)},o.apply(null,arguments)}function ei(e,t,n,r,i){function o(){p=e.getUserGuid()}function a(e){for(var n in e)if(e.hasOwnProperty(n)){var r=s(n,e);r.Key&&t.saveData(r.Key,r.Value,r.Expiry,p)}}function s(e,t){var n,r={};if(h[e])n=h[e];else if(y[e])n=u(e);else{var i=d(e);if(i){var o=i.KeyWithoutSuffix;m[o]?n=m[o]:v[o]&&(n=l(i))}}return n&&(r.Key=e,r.Value=t[e],r.Expiry=n),r}function u(t){var n=y[t],i=n.SettingsKey,o=n.PropertyForKey,a=r.getSettingsValue(e.getSiteConfig().Settings[i],o,void 0),s=c(a);return s}function l(e){var t=v[e.KeyWithoutSuffix],i=e.SuffixParts;if("v"==i[i.length-1])return mc;for(var o=0;o<t.length;o++){var a=t[o];if(a.Parts==i.length){var s,u=a.DeployableTypeIndex,l=void 0!==u?i[u]:a.DeployableType,d=n.get(parseInt(l)),f=d.getById(i[a.DeployableIdIndex]);a.SubSettings?s=r.getSettingsValue(f.Settings,a.SubSettings,void 0):f&&(s=f.Settings);var p;return s&&(p=r.getSettingsValue(s,a.SettingsKey,void 0)),c(p)}}}function c(e){var t;return r.isNumber(e)&&e>=mc?t=e:"once"==e&&(t=yc),t}function d(e){var t,n,r=e.split(w);if(r.length>1){var i,o=r[0]+w+r[1];r.length>2&&(i=o+w+r[2]),wmjQuery.inArray(i,b)>-1?(t=i,n=r.slice(3)):(t=o,n=r.slice(2))}var a={KeyWithoutSuffix:t,SuffixParts:n};return a}function f(e){for(var o=n.get(0),a=o.getAll(),s={},u=0;u<a.length;u++)for(var l=a[u].Steps,c=0;c<l.length;c++){var d=l[c];if(i.isActionStep(d)){var f=r.getSettingsValue(d.Settings,"action",null);if(f&&"setWalkMeData"==f.actionType){var g=f.arguments,h=g.dataKey;if(e[h]){var m=g.dataDuration;if(m>=mc)if(s[h])m>s[h].Expiry&&(s[h].Expiry=m);else{var v=e[h];if(void 0!==v){var y={Value:v,Expiry:m};s[h]=y}}}}}}for(var h in s)s.hasOwnProperty(h)&&t.saveData(h,s[h].Value,parseInt(s[h].Expiry),p)}var p,g=this,h={"wm-lang":vc,"wm-ldv":yc,"wm-ag-rep-v":mc,"wm-ag-d":yc},m={"wm-stpcond":yc},v={"wm-ASRep":[{Parts:1,DeployableIdIndex:0,SettingsKey:"ASRep",DeployableType:Qd.Tutorial},{Parts:2,DeployableTypeIndex:0,DeployableIdIndex:1,SettingsKey:"ASRep"}],"wm-SrvWtRep":[{Parts:2,DeployableIdIndex:0,SubSettings:"survey",SettingsKey:"repeat",DeployableType:Qd.Tutorial}],"wm-SrvRep":[{Parts:1,DeployableIdIndex:0,SettingsKey:"repeat",DeployableType:Qd.Survey}]},y={"wm-ag-rep":{SettingsKey:"AG",PropertyForKey:"repeat"}},w="-",b=["wm-ag-rep"];g.convertData=function(){if(t.shouldUpdateOldKeys&&t.shouldUpdateOldKeys()){var e=t.getInternalKeys(p);a(e),f(e)}},o.apply(null,arguments)}function ti(e,t){function n(){}var r=this;r.init=function(n){function i(e,t,i){Ea("loadWalkmeConfigEnd"),window._walkmeInternals=window._walkmeInternals||{},window._walkmeInternals.walkmeConfig=e,r.Data=e,n&&n()}var o=t.getSettingsFile(),a=o.WalkMeConfigFile;a?(Ea("loadWalkmeConfigStart"),e.loadTextFile(a,"WalkMeConfigCallback",i,void 0,!0)):n&&n()},n.apply(null,arguments)}function ni(e,t,n){function r(){}function i(e,n){var r;if(n=n||{},e.Actions&&(r=wmjQuery.grep(e.Actions,function(e){return e.Type!=u})[0])){var i=l[r.Type];if(i){n.Type=i.eventType;var o=r.Args;o&&o[i.idField]&&(n.ItemId=o[i.idField].toString(),n.Name=t.getDeployableName(i.deployableType,n.ItemId),n.aAppType=i.aAppType)}}return n}function o(e){var t=e.Actions;if(t)for(var n=0;n<t.length;n++){var r=t[n];if(r.Type!=u&&r.Type!=s)return!0}return!1}var a=this,s="none",u="destroy",l={};l=n.isMobileNative()?{rateApp:{eventType:e.EVENT_SENDER_MOBILE_ACTION_TYPES.RateApp},openSettings:{eventType:e.EVENT_SENDER_MOBILE_ACTION_TYPES.OpenSettings},browseToPage:{eventType:e.EVENT_SENDER_MOBILE_ACTION_TYPES.BrowseToPage},playVideo:{eventType:e.EVENT_SENDER_MOBILE_ACTION_TYPES.PlayVideo},none:{eventType:e.EVENT_SENDER_MOBILE_ACTION_TYPES.None}}:{playWt:{idField:"wtId",deployableType:e.DEPLOYABLE_TYPE.Tutorial,eventType:e.EVENT_SENDER_ACTIONS.PlayWalkthru,aAppType:e.EVENT_SENDER_EVENT_APPS.Walkthru},playContent:{idField:"contentId",deployableType:e.DEPLOYABLE_TYPE.Content,eventType:e.EVENT_SENDER_ACTIONS.PlayResource,aAppType:e.EVENT_SENDER_EVENT_APPS.Content},playShuttle:{idField:"shuttleId",deployableType:e.DEPLOYABLE_TYPE.Shuttle,eventType:e.EVENT_SENDER_ACTIONS.PlayShuttle,aAppType:e.EVENT_SENDER_EVENT_APPS.Shuttle},openMenu:{eventType:e.EVENT_SENDER_ACTIONS.OpenMenu},none:{eventType:e.EVENT_SENDER_ACTIONS.None}},a.fillActionData=i,a.isWithAction=o,r.apply(null,arguments)}function ri(e,t){function n(){}function r(e,n){if(n=n||{},null==e)return n;var r=e.Settings;if(r&&r.action){var i=r.action,o=s[i.actionType];if(o){n.Type=o.actionEntityType;var a=i.arguments;a&&a[o.idField]&&(n.ItemId=a[o.idField].toString(),n.Name=t.getDeployableName(o.deployableType,n.ItemId),n.aAppType=o.aAppType)}}return n}function i(e){var t=e.Settings;if(t&&t.action){var n=t.action.actionType;if(n&&n!=a)return!0}return!1}var o=this,a="none",s={playWt:{idField:"wtId",deployableType:e.DEPLOYABLE_TYPE.Tutorial,actionEntityType:e.EVENT_SENDER_ACTIONS.PlayWalkthru,aAppType:e.EVENT_SENDER_EVENT_APPS.Walkthru},playContent:{idField:"contentId",deployableType:e.DEPLOYABLE_TYPE.Content,actionEntityType:e.EVENT_SENDER_ACTIONS.PlayResource,aAppType:e.EVENT_SENDER_EVENT_APPS.Content},playSurvey:{idField:"surveyId",deployableType:e.DEPLOYABLE_TYPE.Survey,actionEntityType:e.EVENT_SENDER_ACTIONS.PlaySurvey,aAppType:e.EVENT_SENDER_EVENT_APPS.Survey},playShuttle:{idField:"shuttleId",deployableType:e.DEPLOYABLE_TYPE.Shuttle,actionEntityType:e.EVENT_SENDER_ACTIONS.PlayShuttle,aAppType:e.EVENT_SENDER_EVENT_APPS.Shuttle},shoutOut:{idField:"id",deployableType:e.DEPLOYABLE_TYPE.ShoutOut,actionEntityType:e.EVENT_SENDER_ACTIONS.PlayShoutOut,aAppType:e.EVENT_SENDER_EVENT_APPS.ShoutOut},openMenu:{actionEntityType:e.EVENT_SENDER_ACTIONS.OpenMenu}};o.fillActionData=r,o.isWithAction=i,n.apply(null,arguments)}function ii(e){function t(){}function n(t,n){if(null!=t&&null!=n){var r=e.getDeployablesManager(t);if(r){var i=r.getById(n);return i?i.Name:void 0}}}var r=this;r.getDeployableName=n,t.apply(null,arguments)}function oi(e,t){function n(){s={}}function r(){var n=e.get().Settings;if(n&&n.analyticsProperties)for(var r=0;r<n.analyticsProperties.length;r++){var i=n.analyticsProperties[r],o=t.get(i);s[i.name]=o}}function i(e,n){var r=t.getPredefinedProvider(n);s[e]=r}function o(e){return s[e]?s[e].get():void 0}var a=this;a.setPredefinedPropertyValue=i,a.getPropertyValue=o,a.init=r;var s;n.apply(this,arguments)}function ai(e,t,n){function r(){}function i(n){var r=o(n);if(e.isFeatureEnabled(t.FEATURES.StickyCustomVars)){var i={calculateValueFunc:r};return jl.create("StickyValueProvider",i)}var s=r();return a(s)}function o(e){var t=n.get(e.calculationMethod),r=e.variable,i=function(){return t.calculate(r)};return i}function a(e){var t={value:e};return jl.create("PredefinedValueProvider",t)}var s=this;s.get=i,s.getPredefinedProvider=a,r.apply(this,arguments)}function si(e){function t(e){a=e.calculateValueFunc,r()}function n(){return void 0===o&&r(),o}function r(){o=a()}var i=this;i.get=n;var o,a;t.apply(this,[e])}function ui(e){function t(e){i=e.value}function n(){return i}var r=this;r.get=n;var i;t.apply(this,[e])}function li(e,t,n,r){function i(){}function o(e,t){if(_makeTutorial.getHostData().isIEBrowser())if(window.dispatchEvent){var n=document.createEvent("UIEvents");n.initUIEvent(t,!0,!0,window,1);e.dispatchEvent(n)}else"input"==t&&(t="propertychange"),e.fireEvent("on"+t);else e.dispatchEvent(new Event(t,{bubbles:!0}))}function a(e){var t=e.closest("a");e=0!==t.length?t:e,wmjQuery.each(v,function(t,n){c(e,n,wmjQuery),window.jQuery&&c(e,n,jQuery),d(e,n)})}function s(e,t){switch(t){case v.MouseOver:e.trigger("mouseover");break;case v.MouseEnter:default:e.trigger("mouseenter")}}function u(e){var t=e.find("*:mt_hidden");t.css("display","block"),t.css("visibility","visible"),t.css("opacity","1")}function c(e,t,n){var r=f(e,!0);wmjQuery.each(r,function(e,r){r=n(r),s(r,t)})}function d(e,t){var n=f(e,!0);wmjQuery.each(n,function(e,n){o(n,t)})}function f(e,t){var n=e.find("*:mt_visible");return t&&n.push(e[0]),n}function p(e){for(var n=!0,r=e[0].ownerDocument,i=r.styleSheets,o=0;o<i.length;o++){var a=i[o];try{for(var s=a.cssRules||a.rules,u=0;u<s.length;u++){var l=s[u];l&&l.selectorText&&l.selectorText.indexOf(":hover")>-1&&g(e,l)}}catch(c){n=!1,t.customerLog("OpenCssMenu error. ex:"+c,5);
}}return n}function g(e,t){var n=h(t),r=t.selectorText.split(","),i=new RegExp("([^:]*):hover(.*)");wmjQuery.each(r,function(t,r){var o=i.exec(r);if(!o)return!0;var a=o[1],s=e.parents().andSelf().filter(a),u=o[2];""!=u&&(s=s.find(u)),wmjQuery.each(s,function(e,t){wmjQuery(t).css(n)})})}function h(e){var t=(e.style.cssText,e.cssText.replace(e.selectorText,""));return t=t.trim().replace(/"/g,"'").replace(/: /g,'":"').replace(/; /g,'","').replace("{ ",'{"').replace(',"}',"}"),t=l(t)}var m=this,v={MouseEnter:"mouseenter",MouseOver:"mouseover"};m.click=function(e,t){o(e[0],"mousedown"),o(e[0],"mouseup"),e.trigger("mouseover"),e[0].click(),t&&t()},m.hover=function(e,t){a(e);var n=p(e);n||u(e.is("a")&&e.parent().is("li")?e.parent():e),t&&t()},m.text=function(e,t,i,a){i=i||0,o(e[0],"focus"),n.setWalkmeTimeout(function(){var s=r.sync("AUTO_TEXT_INPUT",{element:e,txt:t,click:m.click});s||e.val(t),_makeTutorial.getHostData().isIEBrowser()||o(e[0],"paste"),o(e[0],"input"),n.setWalkmeTimeout(function(){o(e[0],"change"),o(e[0],"blur"),a&&a()},i)},i)},m.select=function(e,t,n){e.val()!=t&&(o(e[0],"focus"),e.val(t),o(e[0],"change")),n&&n()},i.apply(null,arguments)}function ci(e,t,n){function r(){i(),p()}function i(){for(var e="",n=[],r=wmjQuery(document.styleSheets).toArray(),i=0;i<r.length;i++){sheet=r[i];try{var u=sheet.cssRules;u?e+=s(u):n.push(function(e){a(sheet.href,e)})}catch(l){n.push(function(e){a(sheet.href,e)})}}C.push(e),t.executeParallel({functionsToExecute:n,successCallback:function(){o()}})}function o(){var e=C.join("\n");n.injectCss(e,"walkme-hover-css")}function a(t,n){if(!t)return void n();try{var r="+++wmplaceholder+++";wmjQuery.ajax({url:t,success:function(e){var t=e.replace(/\}/g,"}"+r).split(r),i=t.map(function(e){return{cssText:e,selectorText:e.substring(0,e.indexOf("{"))}}),o=s(i);C.push(o),n()},error:function(){e.customerLog("Failed getting hover css rules using ajax, url is: "+t,3),n()}})}catch(i){e.customerLog("Failed getting hover css rules using ajax, url is: "+t,3),n()}}function s(t){var n="";try{for(var r=0;r<t.length;r++){var i=t[r],o=i.cssText;if(o.indexOf(":hover")>-1){n+="\n"+d(o);var a=i.cssRules;if(a)for(var s=0;s<i.cssRules.length;s++){var u=d(i.cssRules[s].selectorText);c(u)}else{var u=d(i.selectorText);c(u)}}}}catch(l){e.customerLog("Failed parsing css rule, rule is",3)}return n}function u(e){T=e,S=e.parents().add(e),S.addClass(y),I=!0}function l(e,t){var n=e.parentsUntil(t).add(e);n.removeClass(y)}function c(n){try{wmjQuery(n),b.push(n)}catch(r){var i=t.formatString("Unable to parse selector '{0}'",n);e.customerLog(i,3)}}function d(e){return e.replace(/:hover/g,"."+y)}function f(){S.removeClass(y),I=!1}function p(){_walkmeInternals.bind("NewStepShown",v),_walkmeInternals.bind("WalkthruCompleted",g),_walkmeInternals.bind("TutorialStopped",g)}function g(){t.libSetTimeout(f,1500)}function h(e,t){if(e===t)return e;if(wmjQuery(t).parents().is(e))return e;if(wmjQuery(e).parents().is(t))return t;var n=wmjQuery(t).parents().has(e).first();return n}function m(e){if(void 0!=T&&e!=T){var t=h(e,T);l(T,t)}}function v(e,t,n){if(I&&n&&n.Element){var r=n.Element;m(r),T=r}}var y="wm-se-hover",w=this,b=[],S=wmjQuery(),T=void 0,I=!1,C=[];w.hover=function(e){m(e),u(e)},r.apply(null,arguments)}function di(){function e(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}var n=this;n.generateGuid=e}function fi(e,t,n){var r=this;r.setStyleForBalloon=function(t,n,i){t.css("border",""+n.BalloonBorderWidth+"px solid "+n.BorderColor),r.fixGradientColorsInConfiguration(n,"Color"),r.fixGradientColorsInConfiguration(n,"BalloonColor2");var o=void 0!=n.BalloonColor2?n.BalloonColor2:n.Color,a=void 0!=n.BalloonRadius?n.BalloonRadius:15,s=""+a+"px";if(t.css("-moz-border-radius",s),t.css("-webkit-border-radius",s),t.css("border-radius",s),n.Color==o?t.css("background",n.Color):(t.css("background","-moz-linear-gradient(top, "+n.Color+", "+o+")"),t.css("background","-webkit-gradient(linear, left top, left bottom, color-stop(0%,"+n.Color+"), color-stop(100%,"+o+"))"),t.css("background","-webkit-linear-gradient(top, "+n.Color+" 0%,"+o+" 100%)"),t.css("background","-o-linear-gradient(top, "+n.Color+" 0%,"+o+" 100%)"),t.css("background","-ms-linear-gradient(top, "+n.Color+" 0%,"+o+" 100%)"),t.css("background","linear-gradient(to bottom, "+n.Color+" 0%,"+o+" 100%)"),t.css("filter","progid:DXImageTransform.Microsoft.gradient( startColorstr='"+n.Color+"', endColorstr='"+o+"',GradientType=0 )"),-1==t.css("background-image").indexOf("gradient")&&(t.css("background-image","url('"+zf+"/player/resources/images/spacer.gif')"),t.css("background-repeat","repeat")),r.isGradientWithBorderRadiusCompatible()||t.css("border-radius","0px")),!i){var u="0px 0px";switch(parseInt(n.Position)){case e.POSITION_TYPE.Top:u="-3px -3px";break;case e.POSITION_TYPE.Right:u="4px -4px";break;case e.POSITION_TYPE.Bottom:u="4px 4px";break;case e.POSITION_TYPE.Left:u="-4px 4px"}var l=" 3px rgba(0, 0, 0, 0.2)";t.css("-moz-box-shadow",u+l),t.css("-webkit-box-shadow",u+l),t.css("box-shadow",u+l)}},r.fixGradientColorsInConfiguration=function(e,n){e[n]&&"transparent"!=e[n]||(e[n]=t.isIE()?"#00000000":"transparent")},r.isGradientWithBorderRadiusCompatible=function(){return!t.isIE(9,"lte")},r.fixConfiguration=function(e){return e.BalloonColor2=n.isDefined(e.BalloonColor2)?e.BalloonColor2:e.Color,e.ButtonBgColor2=n.isDefined(e.ButtonBgColor2)?e.ButtonBgColor2:e.ButtonBgColor,e.BalloonBorderWidth=n.isDefined(e.BalloonBorderWidth)?parseInt(e.BalloonBorderWidth):1,e.BalloonButtonRadius=n.isDefined(e.BalloonButtonRadius)?parseInt(e.BalloonButtonRadius):15,e.ButtonShadowWidth=n.isDefined(e.ButtonShadowWidth)?parseInt(e.ButtonShadowWidth):0,e.BalloonRadius=n.isDefined(e.BalloonRadius)?parseInt(e.BalloonRadius):15,e.FooterTextColor=n.isDefined(e.FooterTextColor)?e.FooterTextColor:e.HeaderColor,e}}function pi(e){function t(t){var n=e.getCookie(t);return n===!1?void 0:n}var n=this;n.calculate=t}function gi(e){function t(t){var n=e.getjQueryElementText(t);return""===n?void 0:n}var n=this;n.calculate=t}function hi(e){function t(t){var n=e.getWindowVar(t);return n}var n=this;n.calculate=t}function mi(e,t,n,r,i){function o(o){switch(o){case t.VALUE_CALCULATOR_TYPE.JQuery:return r;case t.VALUE_CALCULATOR_TYPE.Cookie:return n;case t.VALUE_CALCULATOR_TYPE.Variable:return i;default:e.error(new Error("Unknown calculation method"))}}var a=this;a.get=o}function vi(){function e(e,t){if(t)for(var n=0;n<t.length;n++)e.addClass(t[n])}var t=this;t.appendClasses=e}function yi(){function e(e,t){var n=wmjQuery("<img />");n.load(function(){var e={width:this.width,height:this.height};t(e),n.unbind("load")}),n.attr("src",e)}var t=this;t.getImageSize=e}function wi(){function e(e){return e.imageObject&&e.imageObject.data&&e.imageObject.data.customText?e.imageObject.data.customText:void 0}function t(e,t,n){var r=t;n&&(t?r+=". "+n:r=n),r&&e&&e.attr(pd,r)}var n=this;n.launcherAccessibility=function(n){var r=n.element,i=n.Settings,o=e(i),a=i.tooltip;o||(o=n.Name),t(r,o,a)}}function bi(){function e(e,t,n){void 0!==t&&null!==t&&(e[n]=t)}var t=this;t.setIfDefined=e}function Si(e,t,n,r){function i(e,t,n){this.doAction=function(){try{void 0!=window.WalkMePlayerAPI&&WalkMePlayerAPI.toggleMenu(o(t,n))}catch(e){el(h("Failed opening menu. Exception: {0}",u(e)))}}}function o(e,t){var n={type:e};return t&&(n.objectId=t.Id),n}function a(e,t,n){this.isValid=function(){return!0},this.doAction=function(){try{var r=e.playWtFromBeginning?0:Kg(e.StepId,e.wtId);if(-1==r){var i=h("Step with id: {0} was not found in walkthru with id {1}",e.StepId,e.wtId);el(i)}else WalkMeAPI.startWalkthruById({id:parseInt(e.wtId),fromStep:r,playInitiator:{type:t,objectId:n.Id}})}catch(o){var a="Failed starting walkthru with id {0}, starting from step {1}. Exception is: {2}",i=h(a,e.wtId,e.StepId,u(o));el(i)}}}function s(e,t,n){this.isValid=function(){return!0},this.doAction=function(){try{var r=e.contentId;WalkMeAPI.startContentById(r,t,n.Id)}catch(i){var o="Failed playing content with id {0}. Exception is: {1}",a=h(o,e.wtId,u(i));el(a)}}}function l(e,t,n){this.isValid=function(){return!0},this.doAction=function(){try{var r=e.surveyId,i={type:t,objectId:n?n.Id:void 0};WalkMeAPI.startSurveyById(r,i)}catch(o){var a="Failed playing survey with id {0}. Exception is: {1}",s=h(a,e.surveyId,u(o));el(s)}}}function c(e,t,n){this.isValid=function(){return!0},this.doAction=function(){try{wp.activateById(e.id,{type:t,objectId:n.Id})}catch(r){el(h("Failed playing deployable with id {0}. Exception is: {1}",e.wtId,u(r)))}}}function d(e){this.isValid=function(){return!0},this.doAction=function(){}}function f(t){this.isValid=function(){return!0},this.doAction=function(){Fu(),Lu(t.redirectUrl,!0)||(Fu(),e.executeTutorialNextStep())}}function p(e,t,n){function r(e){for(var t=0;t<If.length;t++)if(If[t].TutorialId==e)return!0;return!1}this.isValid=function(){return r(e.wtId)},this.doAction=function(){var t,r=e.wtId;1==e.returnToWt?(t=Kg(e.StepId,n.TutorialId),nu([r],t,!1,e.startingStepId)):nu([r],t,!0,e.startingStepId)},this.getGoToData=function(){var t=qg(e.wtId);return{tutorialIndex:t,stepIndex:0}}}function g(t){this.type="stopWt",this.isValid=function(){return!0},this.doAction=function(){Fu(),e.stopTutorial()}}function m(t,r,i){function o(e,t){return-1!=Kg(e,t)}this.isValid=function(){return o(t.StepId,i.TutorialId)},this.doAction=function(){var r=t.StepId,o=Kg(r,i.TutorialId);Fu(),o>Kp&&as(qp,Kp+1,o,n.STEP_STATUS.SkippedByActionStep),Kp=o,e.executeCurrentStep()},this.getGoToData=function(){var e=t.StepId,n=Kg(e,i.TutorialId),r=qg(i.TutorialId);return{tutorialIndex:r,stepIndex:n}}}function v(t,n,r){this.isValid=function(){return void 0!=window.WalkMePlayerAPI},this.doAction=function(){try{Fu(),WalkMePlayerAPI.toggleMenu(o(n,r))}catch(t){}e.executeTutorialNextStep()}}function y(t){this.isValid=function(){return!0},this.doAction=function(){Xp=Fd.WAITING_FOR_CONDITION,Su();var n=Wg(Kp),r={evaluationPollingIntervalMs:500,jqueryPollingIntervalMs:500,featureName:tc,elementName:"Wait for condition step: "+n.StepTitle},i=jl.create("ConditionChecker",r),o=t.condition;i.onValueChanged(function(t){Js()&&Hp("ActionConditionEvaluated",n),t&&(Fu(),e.executeTutorialNextStep())}),i.evaluateAsync(o),Ng.push(i)}}function w(t){this.isValid=function(){return!0},this.doAction=function(){return Su(),Gp.playSetTimeout(function(){Fu(),e.executeTutorialNextStep()},1e3*t.duration),!0}}function b(){this.isValid=function(){return!0},this.doAction=function(){Fu(),Su(),Gp.libSetTimeout(function(){location.reload(!0)},200)}}function S(t,n,i){function o(t){if(el("Checking condition..."),t)try{return e.evaluateConditionTree(t)}catch(n){}return!0}function a(){var e=ts();return e&&qp&&e.TutorialId==qp.Id&&e.StepIndex<=Kp?!0:!1}this.isValid=function(){return!0};var s={stepId:i.Id,tutorialId:i.TutorialId};this.doAction=function(){if(r.saveData(Sg,(new Date).getTime(),3600),o(t.condition))Mp.switchOwner(s,!1),Fu(),e.executeTutorialNextStep();else{if(!Mp.enabled())return el("Reached pass ownership step but the feature is not supported, the next step will not be executed."),void e.tutorialFinished();Xp=Fd.PASSING_OWNERSHIP,Kp++,a()||Su(),Mp.switchOwner(s,!0)}}}function T(n){this.isValid=function(){return!0},this.doAction=function(){t.saveData(n.dataKey,n.dataValue,n.dataDuration),Fu(),e.executeTutorialNextStep()}}function I(e){this.isValid=function(){return!0},this.doAction=function(){e&&e.uiComponent&&e.uiComponent.destroy()}}function C(t,n,r){this.isValid=function(){return!0},this.doAction=function(){try{var i={type:n};r&&(i.objectId=r.Id);var o=t.shuttleId;e.getDeployablesManager(Qd.Shuttle).activateById(o,i)}catch(a){var s="Failed playing shuttle with id {0}. Exception is: {1}",l=h(s,t.wtId,u(a));el(l)}}}function E(e){this.mobileAction=n.MOBILE_COMMANDS.ACTION.rateApp}function k(e){this.mobileAction=n.MOBILE_COMMANDS.ACTION.openSettings}function _(e){this.mobileAction=n.MOBILE_COMMANDS.ACTION.browseToPage,this.args={url:e.URL}}function x(e){this.mobileAction=n.MOBILE_COMMANDS.ACTION.playVideo,this.args={url:e.URL}}this.get=function(e,t,n,r){return new P[e](t,n,r)};var P={none:d,playWt:a,openMenu:i,playContent:s,playSurvey:l,shoutOut:c,redirect:f,refresh:b,branchWt:p,stopWt:g,playStep:m,openPlayerMenu:v,waitForCond:y,delay:w,passOwnership:S,setWalkMeData:T,destroy:I,playShuttle:C,rateApp:E,openSettings:k,browseToPage:_,playVideo:x}}function Ti(e,t){var n=e.Logger.wrapCustomerLog(ec);return t.isSFLightnning?(n("Retriving sf vars with LightningSfVarsRetriever",1),jl.get("LightningSfVarsRetriever")):(n("Retriving sf vars with LegacySfVarsRetriever",1),jl.get("LegacySfVarsRetriever"))}function Ii(e,t,n){function r(e,n,r){try{var a=sforce.connection.getUserInfo(),u=s(t.get()),c=i(a.userId,u);c=c&&c[0]||[];var d=o(a,r,c,u);n(d)}catch(f){n(e,!0),l(f,5)}}function i(e,t){if(t&&t.length>0){var n="Select "+t.join(",")+" From User Where Id = '"+e+"'",r=sforce.connection.query(n);return r.getArray("records")}}function o(e,t,n,r){for(var i={},o=0;o<t.length;o++){var s=t[o];i[s]=e[s]}for(var o=0;o<r.length;o++)a(r[o],n,i);return i}function a(e,t,n){for(var r=t,i=e.split("."),o=0;o<i.length;o++){if(""===i[o])return;if(r=r&&r[i[o]],null===r&&o==i.length-1)return void(n[i[o]]=null);"object"==typeof r?(n[i[o]]={},n=n[i[o]]):n[i[o]]=r}}function s(e){var t=e.Settings.sfCustomVars;return t||[]}function u(){l=e.Logger.wrapCustomerLog(ec)}var l,c=this;c.getUserData=function(e,t,i){n.injectSFConnection(function(){r(e,t,i)},function(){t(e)})},u.apply(null,arguments)}function Ci(e,t,n,r,i,o,a){function s(){m=e.Logger.wrapCustomerLog(ec)}function u(){var e=i.getData(x);return!!e}function l(e){var n=SALESFORCE_APP_ENDPOINT+"?sfVars="+e;wmjQuery.when(a.buildRequestUrl(n)).done(function(e){m("Lightning sfVars endpoint - "+e),d(),w=t.createIframe(e,VARS_IFRAME_ID,!1,c,f)}).fail(function(){p(),y(v,!0,MESSAGES.FAIL_FIND_SALESFORCE_NAME)})}function c(){m("sfVars lightning iframe loaded",3),b&&b.clear&&b.clear();var e=g(MESSAGES.IFRAME_LOADED_TIMEOUT);S=r.libSetTimeout(e,_)}function d(){m("Finished creating iframe",3);var e=g(MESSAGES.IFRAME_CREATED_TIMEOUT);b=r.libSetTimeout(e,k)}function f(e){var n;try{n=t.secureEvalJSON(e.data)}catch(r){return void m("sfVars reciver unknown message: error="+r.message,5)}C||(C=!0,S&&S.clear&&S.clear(),b.clear(),t.removeIframeListeners(w,"message",f),n?(n=o.mapLightningDataToLegacy(n),wmjQuery.extend(!0,I,n),y(I,!1)):y(v,!0,MESSAGES.DATA_HAS_NO_VAL+n))}function p(){i.saveData(x,(new Date).getTime(),E)}function g(e){return function(){C||(C=!0,t.removeIframeListeners(w,"message",f),p(),y(v,!0,e))}}function h(t){return function(n,i,o){n?(m("Lightning sfVars were loaded successfully",1),t(n,i)):(m("Lightning sfVars failed to load - "+o,1),r.libSetTimeout(function(){e.removeWalkMe(o)},500))}}var m,v,y,w,b,S,T=this,I={},C=!1,E=144e5,k=1e4,_=500,x="walkme-sf-vars-last-fail";VARS_IFRAME_ID="walkme-sf-vars-iframe",SALESFORCE_APP_ENDPOINT="/apex/vf_WalkMeSfVars",MESSAGES={SKIP_AFTER_FAILURE:"skip loading due to a failure in the last 4 hours",VARS_LIST_EMPTY:"list to extract was empty",DATA_HAS_NO_VAL:"lightning sfVars postback data was ",IFRAME_CREATED_TIMEOUT:"10 seconds passed since iframe was created",IFRAME_LOADED_TIMEOUT:"0.5 seconds passed since iframe was loaded",FAIL_FIND_SALESFORCE_NAME:"Couldn't determine endpoint for more than 7 seconds"},T.getUserData=function(e,t,n){if(y=h(t),v=e,u())y(v,!0,MESSAGES.SKIP_AFTER_FAILURE);else{var r=o.getVarsList(n);r=o.extractUserContextVars(r,I),r=o.mapLegacyToLightningVars(r),r.length?l(r.join(",")):y(v,!0,MESSAGES.VARS_LIST_EMPTY)}},s.apply(null,arguments)}function Ei(e,t,n){function r(){s=e.Logger.wrapCustomerLog(ec)}function i(e){return e.replace(/.*?:\/\//g,"").split(".")}function o(e){function t(){var i=a(e);i?r.resolve(i):c>u?(u+=l,n.libSetTimeout(t,l)):r.resolve(i)}var r=wmjQuery.Deferred();return t(),r.promise()}function a(e){var t;return wmjQuery("img").each(function(n,r){var o=wmjQuery(r).attr("src");if(o&&o.indexOf&&o.indexOf(e)>=0){var a=i(o);return t=a?a[1]:void 0,!t}}),t}var s,u=0,l=200,c=7e3;this.buildRequestUrl=function(e){var n,r=wmjQuery.Deferred(),a=i(t.getWinOrigin());return a[0]&&a[1]&&a[0].indexOf("--")>=0?o(a[0]).then(function(t){t?(n="https://"+a[0]+"--wm4sf3."+t+".visual.force.com"+e,r.resolve(n)):r.reject()}):(n="https://wm4sf3."+a[0]+".visual.force.com"+e,r.resolve(n)),r.promise()},r.apply(null,arguments)}function ki(e,t,n){function r(){i()}function i(){if(window.WalkMe_Extension){var e=window.location.href;(e.indexOf("salesforce")>-1||e.indexOf("visual.force")>-1)&&(s=!0,o())}}function o(){wmjQuery("iframe[title*='WM_EXT_IFRAME']").remove()}var a=this,s=!1;a.removeIFrameByFeature=function(){window.WalkMe_Extension&&!s&&n.isFeatureEnabled("removeSFFrame")&&o()},a.extractSalesForceVars=function(t){e.extractSalesForceVars(t)},a.search=function(e,n){t.search(e,n)},r.apply(null)}function _i(e,t){function n(e,n){if(!o&&window.sforce){o=!0;var i;if(i=r()?t.getCookie("sid"):window.__sfdcSessionId,!i)return a("there is no session id in this page."),void(n&&n());if(Lg("sfCommunity"))sforce.connection.sessionId=i;else{var s="https://"+window.location.host+"/services/Soap/u/29.0";sforce.connection.init(i,s)}e&&e()}}function r(){var e="salesforce",t=new RegExp(e+".+com");return t.test(document.domain)}var i=this,o=!1,a=e.wrapCustomerLog(ec);i.injectSFConnection=function(e,t){if(o=!1,window.sforce&&window.sforce.connection)return window.sforce.connection.sessionId?void e():void n(e,t);var r=document.createElement("script");r.src="https://"+document.domain+"/soap/ajax/29.0/connection.js",r.type="text/javascript",r.onload=function(){n(e,t)},r.onreadystatechange=function(){n(e,t)},document.getElementsByTagName("head")[0].appendChild(r)}}function xi(e,t,n,r){function i(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){var i=wmjQuery.trim(n[r]);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}function o(){if(window.UserContext&&window.ApiUtils&&window.ApiUtils.to18CharId){var e=ApiUtils.to18CharId(window.UserContext.userId);if(a(e),e)return e}var t=s();return t?t:void m("No UserContext on window. Can't get userId")}function a(e){e&&t.saveData(b,e,I)}function s(){return t.getData(b)}function c(){var e=t.getData(w);return e?l(e):void 0}function d(e,t){return e&&e[t]}function f(e){if(e.lastModified){var t=(new Date).getTime();if(t-T<e.lastModified)return!1}return!0}function p(t,r){t?(r||g(o(),t),window.walkme_sf_vars=t,delete window.walkme_sf_vars.lastModified,Qp("SfVarsExposed"),n.sendInternalEvent("SfVarsExposed"),m("sales force var were exposed",5)):m("no user data for user: "+o(),5);try{v&&v()}catch(i){e.Logger.error(i,"error during callback in extract sf vars: exposeData")}}function g(e,n){var r=c();r||(r={}),r[e]=n,r[e].lastModified=(new Date).getTime();var i=u(r);i&&t.saveData(w,i,S)}function h(){m=e.Logger.wrapCustomerLog(ec)}var m,v,y=this,w="wm-sf-users-data",b="wm-sf-lst-usr",S=31536e5,T=864e5,I=86400,C=["userId","organizationId","organizationName","profileId","roleId","userName","userLanguage"];y.extractSalesForceVars=function(t){v=t;try{var n=i("wm-expirationCookie");n&&(T=parseInt(n));var a=o();if(a){var s=c(),u=d(s,a);!u||f(u)?r.getUserData(u,p,C):(m("sfVars already exist and valid",1),p(u,!0))}else try{v&&v()}catch(l){e.Logger.error(l,"error during callback in extract sf vars: exposeData")}}catch(l){m("unknown error getting walkmeSfVars: "+l.message),v&&v()}},h.apply(null,arguments)}function Pi(e,t,n){function r(e,n){var r=u;try{var i=t.get().Settings.sfSearch||s;r=sforce.connection.search("find {"+e+"*} RETURNING "+i)}catch(a){o("unknown error getting search results: "+a.message)}n(r)}function i(){o=e.Logger.wrapCustomerLog(ec)}var o,a=this,s="Account (Id, Name), Contact (Id, Name), Opportunity (Id, Name), Lead (Id, Name)",u="";a.search=function(e,t){n.injectSFConnection(function(){r(e,t)},function(){t(u)})},i.apply(null,arguments)}function Di(e){var t={userName:"Username",profileId:"ProfileId",roleId:"UserRoleId",userLanguage:"LanguageLocaleKey"};this.getVarsList=function(e){var t=e,n=Nf.get().Settings.sfCustomVars;return n&&n.length&&(t=t.concat(n)),t},this.extractUserContextVars=function(t,n){var r,i,o=window.UserContext;if(o)for(var a=t.length-1;a>=0;a--)r=t[a],i=o[r],e.isDefined(i)&&(n[r]=i,t.splice(a,1));return t},this.mapLegacyToLightningVars=function(e){var n=[];return wmjQuery.each(e,function(e,r){var i=t[r];i&&n.push(i)}),n},this.mapLightningDataToLegacy=function(e){var n={};return wmjQuery.each(e,function(r,i){var o=wmjQuery.grep(Object.keys(t),function(e){return t[e]===r});o&&o[0]&&(n[o[0]]=e[t[o[0]]])}),n}}function Ai(){function e(e){n=e}function t(e){return e.properties().hasProperty(Ic.Visible)}var n,r=this;r.isGroup=function(e){return e?void 0!==e.LinkedDeployables:!1},r.isSearchEnabled=function(){var e=n.getSiteConfig();return e.Settings&&Number(e.Settings.search)},r.hasChildren=function(e){for(var t=e.LinkedDeployables,i=0;i<t.length;i++){var o=n.getDeployablesManager(t[i].DeployableType),a=o.getById(t[i].DeployableID),s=r.isGroup(a)?r.hasChildren(a):a;if(s)return!0}return!1},r.hasVisibleChildren=function(e,n){for(var r=0;r<n.length;r++){var i=n[r];if(t(i))return!0}return!1},r.supportsDeployableType=function(e,t){var n=e.Settings,r=n&&n.DeployableTypes;return r&&-1!=mtjQuery.inArray(t+"",e.Settings.DeployableTypes)?!0:!1},r.hasUncompletedChildren=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(!n.properties().hasProperty(Ic.Completed))return!0}return!1},r.isTab=function(e){var t=e.Settings;return t&&t.DeployableTypes},r.isTasksTab=function(e){return r.isGroup(e)&&r.supportsDeployableType(e,Qd.Task)},r.isHelpTab=function(e){return r.isGroup(e)&&r.supportsDeployableType(e,Qd.Tutorial)},e.apply(null,arguments)}function Oi(){function e(e){t=new Ai(e)}var t,n=this;n.generateAll=function(e){e.utils=t;var n=[];return n.push(new hd(e)),n.push(new md(e)),n.push(new vd(e)),n.push(new yd(e)),n.push(new bd(e)),n.push(new wd(e)),n.push(new Sd(e)),n},e.apply(null,arguments)}function Ni(){function e(e,i,a){n=e,r=i,o=a,t()}function t(){var e={lib:n,deployable:r,logger:a.Logger,children:o};i=Oi.generateAll(e)}var n,r,i,o,a=this;a.getAll=function(){var e=[];return n.wrapFESession(function(){for(var t=0;t<i.length;t++)e=e.concat(i[t].getAll())}),e},a.clearCache=function(){for(var e=0;e<i.length;e++)i[e].clear()},a.hasProperty=function(e,t){for(var n=0;n<i.length;n++)if(i[n].canGenerate(e)&&i[n].hasProperty(e,t))return!0;return!1},e.apply(null,arguments)}function Mi(){function e(e){t=e.type,r=e.id,i=e.activateFunction,n=e.description,u=e.childNodes,o=e.name,s=e.propertiesGenerator,a=e.keywords?e.keywords:[]}var t,n,r,i,o,a,s,u,l=this;l.activate=function(e){i(r,e)},l.children=function(){return u},l.properties=function(e){return e&&s.clearCache(),s},l.type=function(){return t.toLowerCase()},l.name=function(){return o},l.id=function(){return r},l.description=function(){return n||""},l.keywords=function(){return a},e.apply(null,arguments)}function Li(e){function t(){c=e.Logger.wrapCustomerLog("showWidget")}function n(e){var t=parseInt(Nf.get().TodoListSettings[f]),n=parseInt(Nf.get().TodoListSettings[p]);return t?n&&(c("Show widget - 'Display only onboarding on menu' is on - not show help tabs"),e=ph(e,function(e){return!r(e)})):(c("Show widget - todo list is inactive in todo list settings"),e=ph(e,r)),e}function r(e){var t=e.Settings.DeployableTypes,n=-1!=wmjQuery.inArray(Qd.Task.toString(),t);return!n}function i(t,n){var r=e.getDeployablesManager(t),i=r.getById(n);return i&&(i.deployableType=t),i}function o(t){for(var n=e.getDeployablesManager(t).getAll(),r=0;r<n.length;r++)n[r].deployableType=t;return n}function a(e){e&&e.sort(function(e,t){return e.OrderIndex-t.OrderIndex})}function s(e){if(!e.LinkedDeployables)return null;for(var t=[],n=e.LinkedDeployables,r=0;r<n.length;r++){var o=i(n[r].DeployableType,n[r].DeployableID);o&&t.push(o)}return t}function u(t,n){var r=e.getDeployablesManager(t.deployableType),i=new Mi({type:r.name(),id:t.Id,activateFunction:r.activateById,description:t.Description,childNodes:n,name:t.Name,propertiesGenerator:new Ni(e,t,n),keywords:t.Keywords});return i}function l(e){if(e){for(var t=[],n=0;n<e.length;n++){var r=s(e[n]),i=l(r);t.push(u(e[n],i))}return t}}var c,d=this,f="isActive",p="showOnlyTasksTab";d.uiObjectsTree=function(){var e=o(Qd.Collection);e=n(e),a(e);var t=l(e);return t},t.apply(null,arguments)}function Bi(){function e(e){n(e.lib),i(e.deployables)}var t=new o(this),n=t.Prop.Protected("lib"),r=t.Prop.Protected("deployablesDict",{}),i=(t.Virtual.Public("name"),t.Virtual.Public("setDeployables",function(e){if(e)for(var t=0;t<e.length;t++)r()[e[t].Id]=e[t]}));t.Virtual.Public("getActionData",function(e){return{Type:"",ItemId:"",Name:""}}),t.Virtual.Public("isWithAction",function(e){return!1}),t.Virtual.Public("activateById",function(e,t,n){}),t.Virtual.Public("getById",function(e){return r()[e]}),t.Public("getAll",function(){var e=[],t=r();for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e.sort(function(e,t){return void 0===e.OrderIndex||void 0===t.OrderIndex?0:e.OrderIndex-t.OrderIndex})});t.Virtual.Public("releaseAll"),t.Virtual.Public("autoStartEnabled",function(e){return!1}),e.apply(null,arguments)}function Fi(){function e(e){t.Extends(Bi,e)}var t=new o(this);t.Override("activateById",function(e){}),t.Override("name",function(){return"Category"});e.apply(null,arguments)}function ji(){function e(e){n.Extends(Bi,e),t=jl.get("PermalinkManager")}var t,n=new o(this);n.Override("name",function(){return"Walkthru"}),n.Override("activateById",function(e,t){WalkMeAPI.startWalkthruById({id:e,fromStep:0,playInitiator:t})});n.Override("autoStartEnabled",function(e){return t.isStartingWalkthru()?!1:!0}),e.apply(null,arguments)}function Ri(e,t,n,r,i,a,s,u,l,c,d,f,p,h,m,v){function y(){R.Extends(Bi,{deployables:e,lib:c}),B=R._base.deployablesDict(),M=l.getEnvironmentId()==u.SOURCES.preview,L=l.getEnvironmentId()==u.SOURCES.play,j=_makeTutorial.Logger.wrapCustomerLog(Kl),j('Initializing TodoListManager (isActive: "'+t+'", serverAddress: "'+n+'", userGuid: "'+l.getUserGuid()+'", endUserId: "'+a+'")',3),A=new Hn(n,r,i,s,l,M,p,c),window.walkMeRemoveTasksData&&(r.removeData(A.getEndUserUniqueDataKey(a)),window.walkMeRemoveTasksData=!1),F=a,N=s,t=t&&e&&e.length>0,U.setActiveState(t),D(),d.onActivated(U.updateDeployableCompleted)}function w(e,t){return e.Index<t.Index?-1:e.Index>t.Index?1:0}function b(e,t){for(var n=0;n<e.Goals.length;n++){var r=e.Goals[n];if(r.Id&&-1===gh(r.Id,t.CompletedGoals))return 0}return 1}function T(e,t){I(e,t)&&U.deactivate()}function I(e,t){for(var n in e){var r=e[n];if(C(r)){var i=t[r.Id];if(!i)return!1;if(!i.IsCompleted)return!1}}return!0}function C(e){if(!e.Id)return!1;if(e.RelatedDeployableType!==Qd.Tutorial&&e.RelatedDeployableType!==Qd.Content)return j("Task (id: "+e.Id+") is of unknown type: "+e.RelatedDeployableType),!1;if(!e.RelatedDeployableId)return j("Task (id: "+e.Id+") does not have any related Walk-Thru id"),!1;var t;return t=e.RelatedDeployableType===Qd.Tutorial?f:d,t.getById(e.RelatedDeployableId)?!0:(j("Task (id: "+e.Id+") related deployable ("+e.RelatedDeployableType+") (id: "+e.RelatedDeployableId+") does not exist"),!1)}function E(e){j("syncing local tasks completion data",3),j(e,5);for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if(n.IsCompleted)continue;var r=n.CompletedGoals,i=U.getById(t);if(i&&i.Goals){var o=i.Goals;if(o&&r&&r.length>0&&o.length>0){var a=b(i,n);a&&(n.IsCompleted=1,U.completeTask(i,e))}}}}function k(e,t){for(var n=0;n<e.Goals.length;n++)if(e.Goals[n].Id==t)return e.Goals[n]}function _(){return!il()&&!M}function x(e){Q=!0,H&&H(e),H=null}function P(e,t){for(var n=e.Goals.length-1;n>=0;n--)if(e.Goals[n].Id==t)return t}function D(){for(var e=R._base.getAll(),t=0;t<e.length;t++)C(e[t])||delete B[e[t].Id]}var A,O,N,M,L,B,F,j,R=new o(this),U=this;U.init=function(){A.init()};var G=(R.Override("name",function(){return"Task"}),R.Override("activateById",function(e,t){var n=R._base.getById(e),r=R._base.lib().getDeployablesManager(n.RelatedDeployableType);try{t=t||{type:c.getPlayInitiatorEnum().NONE},t.objectId=void 0==t.id?t.objectId:t.id,v.auditTaskPlayed(n,t)}catch(i){N(i)}var o={type:c.getPlayInitiatorEnum().TASK,objectId:e};r.activateById(n.RelatedDeployableId,o)}),R.Override("getById",function(e){var t=R._base.getById(e);return t&&C(t)?t:void 0}),R.Public("isTaskCompleted",function(e){var t=U.getCompletedTasks(),n=t?gh(e.Id,t)>-1:!1;return n}),R.Public("isTaskConditionsPassed",function(e){var t=!0;switch(e.RelatedDeployableType){case Qd.Tutorial:if(e.RelatedDeployableId){var n=Qg(e.RelatedDeployableId);t=_makeTutorial.canShowTutorial(n)}}return t})),W=R.Public("isTaskActive",function(e){var t=e.Settings;return parseInt(t.ActivateConditionEnabled)?_makeTutorial.evaluateConditionTree(t.ActivateCondition):!0}),V=R.Public("isTaskDisplayed",function(e){var t=e.Settings;if(!parseInt(t.DisplayConditionEnabled))return!0;var n=jl.create("ConditionChecker",{featureName:Kl,elementName:e.Name,trackEvent:"Task - Segmentation",trackData:m.getTrackData(e)});return n.evaluateAsync(t.DisplayCondition),n.getValue(!0)});U.hasTaskGoalCompletionCondition=function(){function e(){var e,t,n,i,o,a;return wmjQuery.each(Qd,function(s,u){if(n=c.getDeployablesManager(u),t=n&&n.getAll())for(var l=0;l<t.length;l++)if(e=t[l],i=yl(e.Settings,"ASCTEnabled",0),i&&(o=yl(e.Settings,"ASCT",""),a=r(o)))return}),a}function t(){var e=c.getSiteConfig(),t=yl(e.Settings,Md,"");return r(t)}function n(){var e=c.getDeployablesManager(Qd.AbExperiment);if(!e)return!1;for(var t,n,i,o,a=e.getAll(),s=0;s<a.length;s++){t=a[s],i=t.Goals;for(var u=0;u<i.length;u++)if(n=i[u],o=yl(n.Settings,"Conditions",""),r(o))return!0}}function r(e){function t(e){return"Func"==e.nodeType?"TaskGoalReached"==e.funcName||"TaskGoalNotReached"==e.funcName:"And"==e.nodeType||"Or"==e.nodeType?t(e.leftSon)||t(e.rightSon):!1}return null==e?!1:t(e)}return e()||t()||n()},U.completeGoal=function(e,t,n){var r=t[e];r.CompletedGoals.push(n);var i=B[e];r.IsCompleted=b(i,r);var o=k(i,n);r.IsCompleted?U.completeTask(i,t,o):(t[r.TaskId]=r,j("Server update completed GOAL (taskId: "+e+", goalId: "+n+")",3),A.updateTaskCompleted(F,null,o,t,B,_()))},U.completeTask=function(e,t,n){try{var r=n?n.Id:-1;t[e.Id]={TaskId:e.Id,IsCompleted:1,CompletedGoals:[]},h.sendApiEvent("TaskCompleted",{TaskId:e.Id}),T(B,t),j("Server update completed TASK (taskId: "+e.Id+", goalId: "+r+")",3),A.updateTaskCompleted(F,e,n,t,B,_())}catch(i){U.deactivate(),N(i,"An error occurred while trying to complete a Task")}};var Q,H;U.didTasksFinishLoading=function(){return Q},U.setTasksFinishedLoadingCallback=function(e){H=e},U.loadTasks=function(e,t){if(j("loadTasks - start loading completion data",3),L)return j("loadTasks - Play mode - returning empty tasks completion data",3),T(B,{}),void e({});if(!F)return j("loadTasks - No end user - Deactivating",3),void U.deactivate();try{var n=function(t){E(t),j("Tasks completion data loaded successfully",3),T(B,t),e&&e(t),x(),Qp("TasksLoaded")},r=function(e){j("Tasks completion data failed loading",3),U.deactivate(),t&&t(e)};A.asyncRetrieveCompletedTasks(F,U.getTaskGoalsIds(B),n,r)}catch(i){U.deactivate(),N(i,"An error occurred while trying to load completed tasks to the local storage")}},U.getTaskGoalsIds=function(e){var t={};return mtjQuery.each(e,function(e,n){t[e]=n.Goals?mtjQuery.map(n.Goals,function(e){return e.Id}):[]}),t},U.clearTaskAndGoalCompletionLocally=function(e,t){var n=this.getTaskIdByGoalId(t);A.clearTaskAndGoalCompletionLocally(e,n,t)},U.getTaskIdByGoalId=function(e){for(var t=S(B),n=t.length-1;n>=0;n--){var r=B[t[n]];if(P(r,e))return r.Id}},U.tempClearUserCompletedTasks=function(){F&&A.tempClearUserCompletedTasks(F)},U.getCompletedTasks=function(){if(j("Getting completed tasks",3),L)return j("Play mode - returning empty array of completed tasks",3),[];if(!F)return U.deactivate(),
null;try{var e=A.syncRetrieveCompletedTasks(F,U.getTaskGoalsIds(B));if(!e)return null;var t=[];return mtjQuery.each(e,function(e,n){n.TaskId&&n.IsCompleted&&t.push(n.TaskId)}),j("Returning completed tasks ("+t+")",3),t}catch(n){U.deactivate(),N(n,"An error occurred while trying to retrieve completed tasks")}return null},U.updateGoalCompleted=function(e){var t=e.RelatedObjectId,n=e.Id,r=e.Name;if(j("Updating completed goal (taskId: "+t+", goalId: "+n+", goalName: "+r+")",3),Yp(u.EVENTS.GoalReached,{GoalId:n,GoalName:r}),L)return void j("Play mode - exiting without updating",3);if(!F)return void U.deactivate();try{A.asyncRetrieveCompletedTasks(F,U.getTaskGoalsIds(B),function(e){var r=e[t];r||(r={TaskId:t,IsCompleted:0,CompletedGoals:[]},e[t]=r),r.IsCompleted||gh(n,r.CompletedGoals)>-1||U.completeGoal(r.TaskId,e,n)})}catch(i){U.deactivate(),N(i,"An error occurred while trying to update task completed")}},U.updateDeployableCompleted=function(e,t){return j("Updating completed deployable ("+t+") deployableId: "+e+")",3),L?void j("Play mode - exiting without updating",3):F?void mtjQuery.each(B,function(n,r){if(r.Id&&r.RelatedDeployableType===t&&parseInt(r.RelatedDeployableId)===e&&!(r.Goals&&r.Goals.length>0)){A.asyncRetrieveCompletedTasks(F,U.getTaskGoalsIds(B),function(e){e[r.Id]&&e[r.Id].IsCompleted||U.completeTask(r,e)})}}):void U.deactivate()},U.getTasksGoalsNotCompleted=function(){if(L)return j("Play mode - not getting tasks not completed goals",3),[];j("Getting tasks uncompleted goals",3);var e=A.syncRetrieveCompletedTasks(F,U.getTaskGoalsIds(B));e||(e=[]);var t=[];return mtjQuery.each(B,function(n,r){if(r.Id){var i=e[r.Id];if(!i||!i.IsCompleted){var o={TaskId:r.Id,Name:r.Name,GoalsNotCompleted:[]};mtjQuery.each(r.Goals,function(e,t){if(t.Id){var n=i&&i.CompletedGoals?i.CompletedGoals:[];if(-1===gh(t.Id,n)){var r=mtjQuery.extend(!0,{},t);o.GoalsNotCompleted.push(r)}}}),t.push(o)}}}),t},U.getApiTasks=function(e){j("Getting tasks fot the API",3);var t=U.getCompletedTasks();t||(t=[]);var n=[];return mtjQuery.each(B,function(r,i){if(C(i)){var o=t&&gh(i.Id,t)>-1?1:0,a={Index:i.OrderIndex,Name:i.Name,Id:i.Id,IsCompleted:o,Settings:g(i.Settings),Description:i.Description,RelatedDeployableType:i.RelatedDeployableType,RelatedDeployableId:i.RelatedDeployableId};a.TaskProperties=a.Settings,e&&(a.ConditionsPassed=G(i),a.IsActive=W(i),a.IsDisplayed=V(i)),delete a.Settings.ActivateConditionEnabled,delete a.Settings.ActivateCondition,n.push(a)}}),n.sort(w),n},U.isTaskGoalReached=function(e,t){var n=A.syncRetrieveCompletedTasks(F,U.getTaskGoalsIds(B));if(!n)return!1;var r=n[e];return r?r.IsCompleted?!0:-1!==gh(t,r.CompletedGoals):!1},U.isActive=function(){return O},U.setActiveState=function(e){j("Setting todo list active state to: "+e,3),O=e},U.activate=function(){A.asyncRetrieveCompletedTasks(F,U.getTaskGoalsIds(B),function(e){I(B,e)||U.setActiveState(!0)})},U.deactivate=function(){x(!1),U.setActiveState(!1)},U.toggleActiveState=function(){U.setActiveState(!U.isActive())},y.apply(null,arguments)}function Ui(){function e(e){t.Extends(Bi,e)}var t=new o(this),n=2e3,r={openMenu:500},i=(jl.get("Lib"),jl.get("LauncherActionDataProvider"));t.Override("name",function(){return"Launcher"}),t.Override("getActionData",function(e){var n=t._base.getActionData();return i.fillActionData(e,n)}),t.Override("isWithAction",function(e){return i.isWithAction(e)}),t.Public("getMinClickDelay",function(e){var t=yl(e.Settings,"action",null),i=t.actionType;return void 0!==r[i]?r[i]:n});e.apply(null,arguments)}function Gi(e,t,n,r,i,a,s,u){function l(e){e=e||{},e.lib=a,d.Extends(Bi,e)}function c(t){if(e._walkmeInternals.customShuttleUrl){var n=e._walkmeInternals.customShuttleUrl(t);return n}return t}var d=new o(this),f="ShuttlePlayMode",p=100;d.Override("name",function(){return"Shuttle"}),d.Override("activateById",function(o,u){try{u=u||{};var l=d._base.deployablesDict()[o];if(!l)return void el(h("Shuttle with id {0} doesn't exist",o),3);r.SendClickAudit(Qd.Shuttle,l.Id,u.type,u.objectId);var g=parseInt(i.getSettingsValue(l.Settings,f,s.PLAY_MODE.SameTab)),m=c(l.DestinationUrl);i.isValidUrl(m)&&(n.startWatchingDeployable(l,a.generateNewPlayGuid(l.Id)),a.userSawWalkMe(),g==s.PLAY_MODE.NewTab&&e.open(m,"_blank"),g==s.PLAY_MODE.SameTab&&t.libSetTimeout(function(){e.location.href=m},p))}catch(v){el(h("Failed playing shuttle with id {0}. Exception is {1}",o,v),3)}}),l.apply(null,[u])}function Wi(){function e(e){r.Extends(Bi,e),i=e.cdnServerName,a=e.deployablesGoalsManager,u=e.clickAuditManager,c=jl.get("FeaturesManager")}function t(e,t){var r=null;switch(e){case d.Video:var i=n(t.content.Url);i?(t.videoId=i.videoId,t.vendorName=i.vendorName,r=new dr(t)):r=new fr(t);break;case d.Article:r=new fr(t);break;default:throw h("Invalid content type : {0}",e)}return r}function n(e){var t,n=/^(?:http|https):\/\/.*youtube\..*v=([\w-]+)/i,r=/^(?:http|https):\/\/.*youtu.be\/([\w-]+)/i,i=/^(?:http|https):\/\/.*youtube.*\/embed\/([\w-]+)/i,o=/^(?:http:\/\/|https:\/\/).*vimeo.*\/([\w-]+)/i,a=[{regex:n,vendorName:"youtube"},{regex:r,vendorName:"youtube"},{regex:i,vendorName:"youtube"},{regex:o,vendorName:"vimeo"}];return wmjQuery.each(a,function(n,r){var i=e.match(r.regex);return i&&i.length>1?(t={videoId:i[1],vendorName:r.vendorName},!1):void 0}),!t&&c.isFeatureEnabled("html5video")&&(t={vendorName:"html5video"}),t}var r=new o(this),i=null,a=null,s=null,u=null,l=[],c=null,d={Article:0,Video:1};this.onActivated=function(e){l.push(e)};var f=(r.Override("name",function(){return"Content"}),r.Override("activateById",function(e,n){try{n=n||{};var o=r._base.deployablesDict()[e];if(!o)return void el(h("Content with id {0} doesn't exist",e),3);var c={lib:r._base.lib(),cdnServer:i,clickAuditManager:u,content:o};f(),s=t(o.Type,c),s.activateContent(o,n.type,n.objectId),r._base.lib().userSawWalkMe(),a.startWatchingDeployable(o,r._base.lib().generateNewPlayGuid(o.Id));for(var d=0;d<l.length;d++)l[d](o.Id,Qd.Content)}catch(p){el(h("Failed playing content with id {0}. Exception is {1}",e,p),3)}}),r.Public("removeContent",function(){s&&s.removeContent()}));r.Public("types",function(){return d});e.apply(null,arguments)}function Vi(){function e(e){t.Extends(Bi,e)}var t=new o(this);t.Override("name",function(){return"Tab"}),t.Override("activateById",function(e){});e.apply(null,arguments)}function Qi(){function e(e){t.Extends(Bi,e)}var t=new o(this);t.Override("name",function(){return"Experiments"}),t.Override("activateById",function(e){});e.apply(null,arguments)}function Hi(e,t,n,r,i,a,s){function u(e){S.Extends(Bi,e),w=e.type}function l(e,t){return C+w+"-"+e.Id+"-"+t}function c(e){var t=d(e);return t?(t.unbind("hide-end."+x),t.once("hide-end."+x,function(){t.show()}),t.hide(),!0):void 0}function d(e){for(var t=_.length-1;t>=0;t--)if(_[t].getComponent().Id==e)return _[t]}function f(e,t){e.once("append-end",function(){e.show(),p()}),b?k.push(e):(b=!0,e.append())}function p(){var e=k.splice(0,1)[0];e?e.append():b=!1}function g(e,t){if(e.Settings.stopOn&&e.Settings.stopOn[t]){var n=l(e,t);i.saveData(n,1,E)}}function m(e,t){return t=t||{},r.SendClickAudit(w,e.Id,t.type,t.objectId)}function v(e,t,n,i){r.SendShoutOutAudit(e.Id,t,n,i)}function y(e){var t=_.length;_.push(e),e.bind(T,function(){e.unbind(T),_.splice(t,1)})}var w,b,S=new o(this),T="destroy-begin.manager",I="destroy",C="wm-stpcond-",E=31536e4,k=[],_=[];S.Override("name",function(){return"ShoutOut"}),S.Override("activateById",function(r,i,o){try{if(c(r))return;var a=S._base.deployablesDict()[r];if(!a)return void el(h("ShoutOut with id {0} doesn't exist",r),3);var s=t.get(a.UiComponentId,[a]);y(s);var u=m(a,i);s.once("show-end",function(){n.startWatchingDeployable(a,S._base.lib().generateNewPlayGuid(a.Id)),s.once("action-start",function(e,t){var n=t==I;g(a,n?P.Cancel:P.Action);var r=n?bc.Close:bc.Action;v(a,w,r,u)}),s.once("x-clicked",function(){g(a,P.XButton),v(a,w,bc.XButton,u)}),s.once("destroy-end",function(){Qp("UIComponentDestroyed")})}),f(s,a),e.userSawWalkMe();var l={deployable:a,uiComponent:s,deployableType:w};return Qp("DeployableCreated",l),s}catch(d){el(h("Failed playing shoutOut with id {0}. Exception is {1}",r,d),3)}});var x=(S.Override("getActionData",function(e){var t=S._base.getActionData();return a.fillActionData(e,t)}),S.Override("isWithAction",function(e){return a.isWithAction(e)}),"acs");S.Override("releaseAll",function(e){try{for(var t=0;t<_.length;t++){var n=_[t];n.unbind(T),n.destroy()}_.length=0}catch(r){}e&&e()}),S.Override("autoStartEnabled",function(e){var t=S._base.deployablesDict()[e],n=t.Settings.stopOn;for(var r in n)if(n.hasOwnProperty(r)&&n[r]){var o=l(t,r);if(i.getData(o,!1))return!1}return!0});var P={XButton:"x",Cancel:"close",Action:"action"};u.apply(null,[s])}function zi(){function e(e){t.Extends(Bi,e)}var t=new o(this),n=500,r={};t.Override("activateById",function(e,t){if(void 0!=r[e])return r[e];var i={elementName:"conditionBlock"+e},o=jl.create("ConditionChecker",i);o.onValueChanged(function(e){t&&t(e)});var a=this.getById(e);return o.evaluateAsync(a.ConditionsTree),r[e]=o.getValue(!0),Gp.libSetTimeout(function(){r[e]=void 0},n),r[e]});e.apply(null,arguments)}function Yi(){function e(e){s.Extends(Bi,e)}function t(e,t,o){var a=i(e,o,"Or"),s=u[t];e.Settings||(e.Settings={});var l=a;s&&(a&&r(e,a,s,"And"),l=e.Settings[s]),e.Settings.ASEnabled&&n(e,l,"And")}function n(e,t,n){var r=e.Settings.ASCT;e.Settings.ASCT=a(n,t,r),e.Settings.ASCT&&(e.Settings.ASCTEnabled=1)}function r(e,t,n,r){var i=n+"Enabled",o=0==e.Settings[i]?"":e.Settings[n];e.Settings[n]=a(r,t,o),e.Settings[i]=1}function i(e,t,n){for(var r=null,i=0;i<t.length;i++){var o=t[i];if(o.Settings&&o.Settings.Condition)for(var s=o.LinkedDeployables.length-1;s>=0;s--){var u=o.LinkedDeployables[s],l=Tp[u.DeployableType],c=l.getById(u.DeployableID);if(c&&e==c){r=a(n,o.Settings.Condition,r);break}}}return r}function a(e,t,n){return t?n?{nodeType:e,leftSon:t,rightSon:n,nodeDepth:0}:t:n}var s=new o(this),u={};u[Qd.Tutorial]="DOCT",u[Qd.Task]="DisplayCondition",u[Qd.Launcher]="PlayLauncherConditionTree",u[Qd.Shuttle]="DisplayCondition",u[Qd.Content]="DisplayCondition";s.Override("activateById",function(e){}),s.Override("name",function(){return"Tag"}),s.Public("injectTagsToDeployables",function(){var e=s._base.getAll();for(var n in Tp)if(Tp.hasOwnProperty(n)){var r=Tp[n];if(r)for(var i=r.getAll(),o=0;o<i.length;o++)t(i[o],n,e)}});e.apply(null,arguments)}function qi(e,t,n,r){function i(){}var o=["width","height"],a=this,s=0,u=function(){return-1!=n.get().indexOf("https:")},l=function(){var e=t.get().Settings;return e&&e.UrlWl};a.parse=function(t){function n(e,t){return new RegExp(e,t)}function i(e,t){var n=t.exec(e);return null!=n&&n.length>2?n.splice(0,1):n="",n}function c(e,t,n){var r=d(e,t,n);return v(r,e),r}function d(e,t,n){void 0!=t&&(t=t.replace(/&quot;/gi,'"'));var r=m(t);return w(n,e,r),f(r),r}function f(e){for(var t=0;t<o.length;t++){var n=o[t];e[n]&&(e[n]=p(e[n]))}}function p(e){return e&&(y(e)||e.match(/^\d+$/))?e+"px":e}function m(e){for(var t,r={},i=n('([^\\s]+)="([^\\"]+)"',"g");t=i.exec(e);){var o=t[1],a=t[2];r[o]=a}return r}function v(e,t){wmjQuery.each(e,function(n,r){var i=-1==wmjQuery.inArray(n,t);i&&delete e[n]})}function w(e,t,n){if(void 0!=e)for(var r=0;r<t.length;r++){var i=t[r],o=n[i],a=void 0==o,s=void 0!=e[i],u=a&&s;u&&(n[i]=e[i])}}function b(e){var t=e.replace(j,E);return t}function S(e,t){e=e.replace(/javascript:/gi,""),e=C(e);for(var r in t)e=e.replace(n(r,"g"),t[r]);return e}function T(e){return u()?e.replace("http:","https:"):e}function I(e,t){for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1}function C(e){if(e.indexOf("on")<0)return e;for(var t=0;t<ee.length;t++)e=e.replace(new RegExp(ee[t]+"\\s*=","gi"),"^");return e}function E(t,n,o,a){switch(a&&a.indexOf("[")>-1&&(a=b(a)),(!o||o.indexOf("javascript:")>-1)&&(o=""),n){case"url":return k(t,n,o,a);case"wt":var s=-1,u=o;if(u){var l=u.split(" ");s=l[0],s=y(s)?s:-1,u=l.splice(1,l.length-1).join(" ")}var d=c(Z[n],u,{"class":"",style:""}),f=d["class"],p=d.style;return delete d["class"],delete d.style,'<a style="cursor: pointer; '+p+'" class="walkme-custom-bbcode-wt-link walkme-action-start-wt '+f+'" data-walkthru-id="'+s+'"'+B(d)+">"+a+"</a>";case"img":var g=i(o,R);return'<img src="'+a+'"'+(g?' width="'+g[0]+'px" height="'+g[1]+'px"':"")+B(c(Z[n],o))+"/>";case"youtube":return O(t,n,o,a,F.Youtube);case"vimeo":return O(t,n,o,a,F.Vimeo);case"wistia":return O(t,n,o,a,F.Wistia);case"iframe":return L(t,n,o,a);case"b":case"u":case"i":case"table":case"tr":case"th":case"td":case"tbody":case"div":case"span":case"ul":case"li":return"<"+n+B(c(Z[n],o))+" data-"+n+"='"+o+"'>"+a+"</"+n+">";case"p":return"<"+n+B(c(Z[n],o))+" data-"+n+"=' "+o+"'>"+a+"</"+n+">";case"survey":return'<a data-survey-id="" class="walkme-custom-bbcode-survey" style="cursor: pointer;"'+B(c(Z[n],o))+">"+a+"</a>";case"flash":return A(t,n,o,a);case"jquery":return e.encodeText(r.getjQueryElementText(a));case"cookie":return e.encodeText(e.getWindowCookie(a)||"");case"var":return e.encodeText(e.getWindowVar(a)||"")}var h=window.walkme_custom_bbcode_parser;if("function"==typeof h){var m=h(t,n,o,a);if(m)return m}return"["+n+(o?"="+o:"")+"]"+a+"[/"+n+"]"}function k(e,t,n,r){var i=n;if(i){var o=i.split(" ");if(!I(o[0],Z[t])){var a=o[0];i=o.splice(1,o.length-1).join(" ")}}var s,u=c(Z[t],i,{"class":"",style:"",target:"_blank"}),l={classes:u["class"],target:u.target,src:D(a||r),label:r,style:u.style,title:u.title,data:n.substring(Math.max(n.indexOf(" "),0)).replace(new RegExp("^"+a||r),"")};s=u.height&&u.width?_(u,l):P(u,l,U[t]);var d=Dc.to_html(s,l);return d}function _(e,t){var n='<span id="walkme-new-window-link-{{{spanId}}}"'+(t.title?' title="{{{title}}}"':"")+"><a class=\"walkme-custom-bbcode-link {{{classes}}}\" style=\"color: inherit; text-decoration:underline; {{{style}}}\" href=# onclick=\"event.preventDefault ? event.preventDefault() : event.returnValue = false;_walkMe.getCommonUtils().sendEvent('BBCodeLinkClicked', {Src : '{{{src}}}' });window.open({{{srcForOpen}}},'{{{target}}}',{{{specs}}});\" data-url='"+t.data+"'>{{{label}}}</a></span>",r=s++;t.spanId=r;var i=x(e);return t.specs="'"+i+"'",t.srcForOpen="'"+t.src.replace(/\'/g,"")+"'",n}function x(e){for(var t=["width","height","channelmode","directories","fullscreen","left","top","location","menubar","resizable","scrollbars","status","titlebar","toolbar"],n="",r=t.length-1;r>=0;r--){var i=t[r];e[i]&&(n+=h("{0}={1},",i,e[i].replace(/\'/g,"").replace(/px$/,"")))}return n.length>0&&(n=n.substring(0,n.length-1)),n}function P(e,t,n){var r="<a"+(t.title?' title="{{{title}}}"':"")+' target="{{{target}}}" class="walkme-custom-bbcode-link {{{classes}}}" onclick="_walkMe.getCommonUtils().sendEvent(\'BBCodeLinkClicked\', {Src : \'{{{src}}} \'});" style="color: inherit; text-decoration:underline; {{{style}}}" {{{linkTypes}}}{{{src}}}" data-url=\''+t.data+"'>{{{label}}}</a>";return t.linkTypes=n,r}function D(t){var n=l();if(void 0==n)return t;for(var r=0;r<n.length;r++)if(e.isLike(t,n[r]))return t;return""}function A(e,t,n,r){var i=c(Z[t],n,{width:420,height:315}),o='<div class="walkme-custom-flash-wrapper" style="width: {{{width}}}; height: {{{height}}};"><object type="application/x-shockwave-flash" data="{{{swf}}}" allowNetworking="none" allowFullScreen="false" width="{{{width}}}" height="{{{height}}}"><param name="SRC" value="{{{swf}}}"/><param name="allowNetworking" value="none"/><param name="allowFullScreen" value="false"/></object></div>',a=Dc.to_html(o,{swf:r,width:i.width,height:i.height});return a}function O(e,t,n,r,i){var o=d(Z[t],n,{width:420,height:315}),a=N(o),s=M(i,t),u=s.url+r+"?"+a,l='<iframe data-{{{vendorName}}}-id="{{{videoId}}}" src="{{{src}}}" frameborder="0" {{{allowFullScreen}}} style="position:relative; width: {{{width}}}; height: {{{height}}};"{{{additionalParams}}}></iframe>',c=Dc.to_html(l,{vendorName:s.name,videoId:r,width:o.width,height:o.height,src:u,allowFullScreen:s.allowFullScreen,additionalParams:s.additionalParams});return c}function N(e){var t="",n=g(e);return delete n.height,delete n.width,wmjQuery.each(n,function(e,n){t+=h("{0}={1}&",e,n)}),t}function M(e,t){var n,r,i,o;switch(e){case F.Youtube:n=T(G[t]),r="youtube",i="allowfullscreen";break;case F.Vimeo:n=T(W[t]),r="vimeo",i="webkitAllowFullScreen mozallowfullscreen allowFullScreen";break;case F.Wistia:n=T(V[t]),r="wistia",i="allowfullscreen mozallowfullscreen webkitallowfullscreen oallowfullscreen msallowfullscreen",o=' allowtransparency="true" scrolling="no" class="wistia_embed" name="wistia_embed"';break;default:a.Logger.error(new Error("Unsupported video vendor "+e))}var s={url:n,name:r,allowFullScreen:i,additionalParams:o};return s}function L(e,t,n,r){var i=d(Z[t],n,{width:420,height:315}),o=r,a='<iframe src="{{{src}}}" frameborder="0" style="width: {{{width}}}; height: {{{height}}};"></iframe>',s=Dc.to_html(a,{src:o,width:i.width,height:i.height});return s}function B(e){var t="";return mtjQuery.each(e,function(e,n){t+=e+'="'+n+'" '}),t=t.replace(/\s+$/,""),t?" "+t:t}var F={Youtube:0,Vimeo:1,Wistia:2};if(t.indexOf("[")<0)return t;var j=n("\\[([a-z][a-z0-9]*)=?([^\\]]+)?]((?:.|[\r\n])*?)\\[/\\1]","g"),R=n("^(\\d+)x(\\d+)[^\\]]*"),U={url:'href="',anchor:'name="',email:'href="mailto: '},G={youtube:"http://www.youtube.com/embed/",flash:""},W={vimeo:"http://player.vimeo.com/video/",flash:""},V={wistia:"http://fast.wistia.net/embed/iframe/",flash:""},Q={font:"font-family:$1",size:"font-size:$1px",color:"color:$1"},H={},z=["title"],Y=["style","class","id"].concat(z),q=["width","height"].concat(Y),K=["channelmode","directories","fullscreen","left","top","target","location","menubar","resizable","scrollbars","status","titlebar","toolbar"].concat(q),X=["border","cellspacing","cellpadding"].concat(Y),J=["autoplay"].concat(q),$=["href"].concat(Y),Z={table:X,tr:Y,th:Y,td:Y,tbody:Y,p:Y,div:q,span:q,iframe:q,youtube:J,vimeo:J,wistia:J,wt:$,url:K,flash:q,img:z,b:z,u:z,i:z,ul:z,li:z,survey:z},ee=["onblur","onchange","onclick","oncontextmenu","oncopy","oncut","ondblclick","onerror","onfocus","onfocusin","onfocusout","onhashchange","onkeydown","onkeypress","onkeyup","onload","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpaste","onreset","onresize","onscroll","onselect","onsubmit","ontextinput","onunload","onwheel"];for(var te in Q)H["\\["+te+"=([^\\]]+)]"]='<span style="'+Q[te]+'">',H["\\[/"+te+"]"]="</span>";var ne=S(t,H),re=b(ne);return re},i.apply(null,arguments)}function Ki(e){var t;this.concat=function(n){if(e&&e.adapt(n),t)for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);else t=n},this.get=function(e){for(var n=t,r=0;r<arguments.length;r++)n=n[arguments[r]];return n}}function Xi(e,t,n){if(!e)return n;n=n||{};var r=e.attributes;if(r)for(var i in r)if(r.hasOwnProperty(i)&&"string"==typeof r[i]&&(r[i]=r[i].replace("###ResourcesDir###",t),"font-family"==i)){n.fonts=n.fonts||[];var o=r[i].split(",");n.fonts.push(mtjQuery.trim(o[0]))}var a=e.children;if(a)for(var s in a)a.hasOwnProperty(s)&&Xi(a[s],t,n);return n}function Ji(e){this.adapt=function(t){if(t)for(var n in t){var r=e.getResourcePath("/player/resources/templates/"+n),i=Xi(t[n],r);t[n].metaData=i}}}function $i(e){this.adapt=function(t){if(t)for(var n in t)if(t[n])for(var r in t[n]){var i=t[n][r];if(i&&i.Css){var o=e.getResourcePath("/player/resources/templates/"+n+"/"+r),a=Xi(i.Css,o);i.Css.metaData=a}}}}function Zi(e,t,n,r,i,o,a,s){function u(e,t,n){for(var o=[],a=0;a<e.length;a++){var s=e[a].metaData&&e[a].metaData.fonts;if(s)for(var u=0;u<s.length;u++){var l=i.get(s[u]);l&&o.push(l)}}r.fonts(o,n||null,t,t)}function l(e){var t=o.get().Direction||"ltr";e.addClass(w+t),e.addClass(w+a.browser.name.toLowerCase()),"IE"==a.browser.name&&e.addClass(w+"ie-"+a.browser.version)}function c(e){var t=e.allCss();e.children().each(function(e,n){var r=wmjQuery(n);r.cssReset(t),c(r)})}function d(e){var t=o.get().Direction||"ltr";e.find("span,button,input,label,a,b,br,img,i,u").cssReset("display","inline"),e.find("li").cssReset("display","list-item"),e.find("ul").cssReset("padding-left","40px"),e.find("*").andSelf().cssReset(wc).cssReset("direction",t)}function f(e){e.find("*").andSelf().each(function(e,t){t=wmjQuery(t);var n=t.data(b);if(n){var r=n.hover;p(t,r);var i=n.click;g(t,i),t.removeData(b)}})}function p(e,t){if(t){var n=e.attr("style");e.hover(function(){e.css(t)},function(){e.attr("style",n)})}}function g(e,t){if(t){var n=e.attr("style");e.mousedown(function(n){e.css(t)}),e.bind("mouseup blur",function(){e.attr("style",n)})}}function h(e,t){if(t&&t.children)for(var n in t.children)if(t.children.hasOwnProperty(n)){var r=n.split(":"),i=e.find(r[0]),o=t.children[n].attributes;for(var a in o)o.hasOwnProperty(a)&&m(i,a,o[a],r[1]);h(i,t.children[n].children)}}function m(e,t,n,r){if(n instanceof Array)for(var i in n)v(e,t,n[i],r);else v(e,t,n,r)}function v(e,t,n,r){return r?(r=r.toLowerCase(),void y(r,e,t,n)):void e.cssReset(t,n)}function y(e,t,n,r){var i=t.data(b)||{};i[e]||(i[e]={}),i[e][n]||(i[e][n]=r),t.data(b,i)}var w="wm-",b="templatesFactoryStates";this.addResources=function(e,t,r,i,o){var a=n.get(e,t).Css;u([a].concat(r),i,o)},this.get=function(e,r,i,o,a){var u=n.get(e,r),p=s.createElementInDocument(t.to_html(u.Html,o||{}),a||window.document);l(p),c(p);for(var g=p.wrap("<div />").parent(),m=i.length-1;m>=0;m--)h(g,i[m]);return h(g,u.Css),d(p),f(p),p.unwrap(),p.hide()}}function eo(e,t){this.get=function(n,r){try{var i=t.get(n),o=jl.create(i,r);return o}catch(a){e.error(a,"error generating class")}}}function to(){function e(e,t,n){a=e,s=t}function t(){ln.registerEventHandler("message",function(e){try{var t=l(e.data);"DEBUGGER_LOADED"==t.requestType&&n()}catch(r){el("Error loading debugger from post message: "+r,4)}})}function n(e){i(e),s.dbgr.shouldClear=e;var t;t||(t=Ca()+"debugger/"+Ia()+"/"),s.dbgr||(s.dbgr={}),s.dbgr.rootPath=t,ln.addScript(t+"walkme_debugger.js",null,r)}function r(){el("Failed loading the Flow Tracker!",1);var e=s.dbgr;e&&e.debuggerWasLoaded&&e.debuggerWasLoaded()}function i(e){s.dbgr||(s.dbgr={})}function o(){return a.getClientStorageManager()}var a,s,c=this,d="wm-ftr",f="wm-ftr-cnf";c.launchDebugger=function(e,t){c.isDebuggerOnWindow()||(e?o().saveData(f,e,vc):o().removeData(f),t&&(s.dbgr||(s.dbgr={}),s.dbgr.debuggerWasLoaded=t),n(!0),ln.postMessageToFrameAndDescendants(window.top,u({requestType:"DEBUGGER_LOADED"})))},c.closeDebugger=function(){if(c.isDebuggerOnWindow()){var e=s.dbgr.close;e&&e()}delete s.dbgr},c.loadDebuggerFromStorage=function(){t(),n()},c.isDebuggerOnWindow=function(){return!!s.dbgr},c.loadDebuggerForEditor=function(){c.closeDebugger(),o().saveData(f,{uiState:"wmd-minimize"},vc),o().saveData(d,gc.ActiveAndReset,vc)},c.isDebuggerEnalbled=function(){return Nf.get().DebuggerSettings&&"1"==Nf.get().DebuggerSettings.IsInPublish},c.clearDebuggerState=function(){o().removeData(d),o().removeData(f)},e.apply(null,arguments)}function no(){function e(){}var t=this,n="wmLogger.js",r="logger/"+n;t.launchLogger=function(){var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("src",Ca()+r),document.getElementsByTagName("head")[0].appendChild(e)},t.isLoggerActivated=function(){return wmjQuery("script[src*='"+n+"']").length>0},e.apply(null,arguments)}function ro(){function e(){}function t(e){i(e.stack)}var n=new o(this),r=[];n.Virtual.Public("analyze",function(e){e.bind("stackComplete",t)}),n.Virtual.Public("stop",function(e){e.unbind("stackComplete",t)}),n.Virtual.Public("getData",function(){}),n.Virtual.Public("clearData",function(){}),n.Public("bind",function(e){r.push(e)}),n.Public("unbind",function(e){r=ph(r,function(t){return e!=t})});var i=n.Protected("dispatch",function(e){for(var t=0;t<r.length;t++)try{r[t](e)}catch(n){}});e.apply(null,arguments)}function io(){function e(){f.Extends(ro)}function t(e){var t=e.stack.getName();if(g.hasOwnProperty(t)){var o,a=g[t];if(!(e.stack.totalTimeSync()<a.limit)){c={};var o=e.stack.getArgs();n(a,o),r(a,o),i(a,e),(c.event||c.data||g[t].noDetails)&&(l.push({data:e.stack,map:c}),f._base.dispatch(l)),s.clearData()}}}function n(e,t){e.evtIndex&&!c.event&&t[e.evtIndex]&&(c.event=t[e.evtIndex])}function r(e,t){e.dataIndex&&!c.data&&t[e.dataIndex]&&(c.data=t[e.dataIndex])}function i(e,t){if(e.trackData)for(var i,o,a,s=0;s<t.stacks.length;s++)i=t.stacks[s],e.trackData.hasOwnProperty(i.getName())&&(o=e.trackData[i.getName()],o&&(a=i.getArgs(),n(o,a),r(o,a)))}var a=Nf.get().Settings&&Nf.get().Settings.feLimit,s=this,l=[],c={},d="wm-fe-l",f=new o(this),p=sf.getData(d)||a||-1,g={findElement:{limit:p,evtIndex:3,dataIndex:4,trackData:{getValueProfiled:{evtIndex:1,dataIndex:2},evaluateAsyncProfiled:{evtIndex:1,dataIndex:2}}},showAllLaunchers:{limit:p,noDetails:!0},redrawLaunchers:{limit:p,noDetails:!0},runAutoStart:{limit:p,noDetails:!0},"menu.openMenu":{limit:p,noDetails:!0}};f.Override("analyze",function(e){e.bind("stackComplete",t)}),f.Override("stop",function(e){e.unbind("stackComplete",t),s.clearData()}),f.Override("getData",function(){return l}),f.Override("clearData",function(){l.length=0}),s.getMapData=function(e){var t="";return e?(e.event&&(t+=", "+e.event),e.data&&(t+=", Details: "+u(e.data)),t):t},e.apply(null,arguments)}function oo(){function e(){n.Extends(ro)}function t(e){i.push(e)}var n=new o(this),r=this,i=[];n.Override("analyze",function(e){e.bind("stackComplete",t)}),n.Override("stop",function(e){e.unbind("stackComplete",t);for(var n=0;n<i.length;n++)e.dispatch("stackComplete",i[n]);r.clearData()}),n.Override("getData",function(){return i}),n.Override("clearData",function(){i=[]}),e.apply(null,arguments)}function ao(){function e(){r.Extends(ro)}function t(e){for(var t=ch(e,0,function(e,t){return t>e?t:e}),n=e.length,r=ch(e,0,function(e,t){return e+t}),i=r/n,o=0,a=0;n>a;a++)o+=Math.pow(e[a]-i,2);return o/=n,{size:n,average:i,variance:o,max:t}}function n(e){if(e.stack){var t=e.stack.getName();i[t]||(i[t]=[]),i[t].push(e.stack.totalTimeSync()),a++,r._base.dispatch({stack:e.stack,totalStacksAnalyzed:a})}}var r=new o(this),i={},a=0;r.Override("analyze",function(e){e.bind("stackComplete",n)}),r.Override("stop",function(e){e.unbind("stackComplete",n)}),r.Override("getData",function(){if(0==a)return null;var e={};for(var n in i)i.hasOwnProperty(n)&&(e[n]=t(i[n]));return e}),r.Override("clearData",function(){i={},a=0}),e.apply(null,arguments)}function so(){function e(){n.Extends(ro)}function t(e){for(var t=0;r>t;t++)if(!i[t]||e.stack.totalTimeSync()>i[t].totalTimeSync())return i.splice(t,0,e.stack),i.length>r&&i.pop(),void n._base.dispatch(i)}var n=new o(this),r=10,i=[];n.Override("analyze",function(e){e.bind("stackComplete",t)}),n.Override("stop",function(e){e.unbind("stackComplete",t)}),n.Override("getData",function(){return i}),e.apply(null,arguments)}function uo(){function e(e){u.Extends(ho),a=new so,a.analyze(e)}function t(){d(),s=c.libSetTimeout(t,l)}function n(e){for(var t=0,n=0;n<e.length;n++){var r=e[n].totalTimeSync();r>t&&(t=r)}return t}function r(e,t){var n=e.totalTimeSync(),r=Math.ceil(100*n/t),o=e.getTraces();tracesString="";for(var a=0;a<o.length;a++)tracesString+=o[a].getName()+": "+o[a].totalTime()+(o[a].isAsync()?" async":"")+", ";i(o[0].getName()+": ("+tracesString.substring(0,tracesString.length-2)+")"),i(Array(r).join("-")+" (total time: "+n+")")}function i(e){console.log(e)}var a,s,u=new o(this),l=3e3,c=jl.get("TimerManager");u.Override("start",function(){t()}),u.Override("stop",function(){s&&(s.clear(),s=null)});var d=u.Override("flush",function(){var e=a.getData();i(" ----------------------------------------------\n|                Top Ten Stacks                |\n ----------------------------------------------");for(var t=n(e),o=0;o<e.length;o++)r(e[o],t)});e.apply(null,arguments)}function lo(){function e(e){r.Extends(ho),n=new io,n.analyze(e)}function t(e){for(var t,r,o=0;o<e.length;o++)t=e[o],r='"'+t.data.getName()+'" execution time is '+t.data.totalTimeSync()+"ms"+n.getMapData(t.map),el(r,i,ic)}var n,r=new o(this),i=1;jl.get("TimerManager");r.Override("start",function(){n.bind(t)}),r.Override("stop",function(){n.unbind(t)});r.Override("flush",function(){});e.apply(null,arguments)}function co(){function e(e,t,n){s.Extends(ho),i=t,a=n,r=new ro,r.analyze(e)}function t(e){try{var t=u[e.getName()];t&&a(function(){i(t,n(e),{timeSync:e.totalTimeSync(),timeTotal:e.totalTime(),playGuid:e.playState().playGuid,playNum:e.playState().playNum})},0)}catch(r){}}function n(e){var t=e.getArgs();switch(e.getName()){case"startNewTutorial":return _makeTutorial.getTutorials()[t[0]];case"executeTutorialStep":case"checkGoal":return t[0]}return null}var r,i,a,s=new o(this),u={startNewTutorial:"WalkthruProfilingEnd",executeTutorialStep:"StepProfilingEnd",checkGoal:"GoalProfilingEnd"};s.Override("start",function(){r.bind(t)}),s.Override("stop",function(){r.unbind(t)});s.Override("flush",function(){});e.apply(null,arguments)}function fo(){function e(e,t,o){s.Extends(ho),r=t,i=o;var u=jl.get("ClientStorageManager"),l=u.getData(sc)||{};a=l[uc],y(a)||(a=lc),n=new io,n.analyze(e)}function t(e){for(var t,i,o,s=0;s<e.length;s++)t=e[s],o=t.data.totalTimeSync(),o>=a&&(i={name:t.data.getName(),map:n.getMapData(t.map)||"",time:o},r("ProfileLimitExceeded",i))}var n,r,i,a,s=new o(this);s.Override("start",function(){n.bind(t)}),s.Override("stop",function(){n.unbind(t)}),s.Override("setProfilerState",function(e,t){t&&y(t.limit)&&(a=t.limit)});s.Override("flush",function(){});e.apply(null,arguments)}function po(){function e(e,r,i,o,a,s,g,h){b.Extends(ho),c=o,d=a,f=s,p=g,n(i),m=r,y=h,w=[],v=m.getData(C,E),l=new ao,l.bind(u),l.analyze(e),t()}function t(){var e=window.onbeforeunload;window.onbeforeunload=function(){e&&e(),S.flush()}}function n(e){h=e.register("pa",{actionUrl:"/Monitoring/AddMmt",technicalSuccessHandler:i,defaultDataStorageLifeSeconds:I,prefixForStorage:"pa",sendingThreshold:4,dataType:"profiling audit",requestParamsFunc:function(e){return{mmt:r(e),userGuid:c}},recursiveMinification:!0})}function r(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return y.toJSON(t)}function i(e,t,n,r,i){"true"==e||e&&e.Data&&e.Data.length>0?(a(e,i),r()):(el("Profiler Measurements Audit - Internal Error",3),n())}function a(e,t){fh(w,function(n){n(e,t)})}function s(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t.push({description:n,numOfSamples:r.size,average:r.average,variance:r.variance,max:r.max})}return t}function u(e){g&&e.totalStacksAnalyzed>=T&&S.flush()}var l,c,d,f,p,g,h,m,v,y,w,b=new o(this),S=this,T=100,I=3600,C="wm-prf-snk",E="default";b.Override("start",function(){g=!0}),b.Override("stop",function(){g=!1}),b.Override("flush",function(){var e=l.getData();if(e){l.clearData();for(var t=s(e),n=0;n<t.length;n++){var r={measurements:[t[n]],endUserGuid:d,browser:f,page:window.location.href,os:p,session:v};h.sendData(r)}}}),b.Override("startSession",function(e){S.flush(),v=e,m.saveData(C,v,I)}),b.Override("endSession",function(){S.flush(),v=E,m.removeData(C)}),b.Override("addAuditListener",function(e){e&&w.push(e)}),e.apply(null,arguments)}function go(e){function t(){}function n(e,t){v.length&&v[v.length-1].playState(t)}function r(){window._walkmeInternals&&(_walkmeInternals.bind("WalkthruGuid",n),_walkmeInternals.bind("StepPlayNum",n))}function i(){e.libSetTimeout=o(e.libSetTimeout),e.playSetTimeout=o(e.playSetTimeout)}function o(e){return function(t,n){var r=h,i=u("timeout",!0);h=[];var o=e(function(){l(i),h=r,t(),h=[],a(r)},n),s=o.clear;return o.clear=function(){l(i),a(r),s.apply(o)},o}}function a(e){for(var t=0;t<e.length;t++){var n=e[t];n.hasEnded()&&(g.dispatch("stackComplete",{stack:n,stacks:e}),e.splice(t,1),t--)}}function s(e,t){f(e);var n=new wo(e,t);return h.push(n),g.dispatch("stackStart",{stack:n}),n}function u(e,t){for(var n=[],r=0;r<h.length;r++)n.push(h[r].startTrace(e,t));return n}function l(e){for(var t=0;t<e.length;t++)e[t].hasEnded()||e[t].end();e.length=0}function c(e,t,n){return function(){if(n){var r=s(e,arguments);v.push(r)}var i=u(e),o=t.apply(this,arguments);
return l(i),a(h),n&&(d(r),v.pop()),o}}function d(e){for(var t=0;t<h.length;t++)if(h[t]==e)return void h.splice(t,1)}function f(e){var t=p(e);t&&(t.endAll(),a(h))}function p(e){for(var t=0;t<h.length;t++){var n=h[t].getTraces()[0];if(n&&n.getName()==e)return h[t]}}var g=this,h=[],m={},v=[];g.init=function(){i(),r()},g.startStackByName=function(e){function t(){r&&(n=h,h=[r],r.endAll(),a(h),h=n,r=void 0)}var n=h;h=[];var r=s(e);return u(e),h=n,t},g.profile=function(e,t){return c(e,t,!0)},g.instrument=function(e,t){return c(e,t)},g.bind=function(e,t){m[e]||(m[e]=[]),m[e].push(t)},g.unbind=function(e,t){if(m[e])for(var n=0;n<m[e].length;n++)if(m[e][n]==t){m[e].splice(n,1);break}},g.dispatch=function(e,t){if(m[e])for(var n=0;n<m[e].length;n++)try{m[e][n](t)}catch(r){}},t.apply(null,arguments)}function ho(){function e(){}var t=new o(this);t.Virtual.Public("start"),t.Virtual.Public("stop"),t.Virtual.Public("flush"),t.Virtual.Public("startSession",function(){}),t.Virtual.Public("endSession",function(){}),t.Virtual.Public("addAuditListener",function(){}),t.Virtual.Public("setProfilerState",function(){}),e.apply(null,arguments)}function mo(){function e(){}var t,n=this;n.setProfilerManager=function(e){t=e},n.start=function(e){t&&t.start(e)},n.stop=function(e){t&&t.stop(e)},n.doneLoading=function(){t&&t.doneLoading()},n.startSession=function(e){t&&t.startSession(e)},n.endSession=function(){t&&t.endSession()},n.startProfile=function(e){return t?t.startProfile(e):void 0},n.registerProfilerCallback=function(e){t&&t.registerProfilerCallback(e)},n.addAuditListener=function(e){t&&t.addAuditListener(e)},n.setProfilerState=function(e,n){t&&t.setProfilerState(e,n)},e.apply(null,arguments)}function vo(){function e(e,t,n,i,o,a,v,y){s=e,l=t,c=n,d=i,f=o,u=a,p=!1,g=[],h=v,m=y,r()}function t(e){for(var t in y)y.hasOwnProperty(t)&&y[t]&&e(y[t])}function n(){if(!p){p=!0,u.init();for(var e=0;e<g.length;e++)g[e](u)}}function r(){if(v=new oo,v.analyze(u),window._walkmeInternals&&_walkmeInternals.profilerModes&&_walkmeInternals.profilerModes.length>0)for(var e=0;e<_walkmeInternals.profilerModes.length;e++)o.start(_walkmeInternals.profilerModes[e])}function i(e){switch(e){case Sc.Console:return new uo(u);case Sc.CustomerLogLimit:return new lo(u);case Sc.Debugger:return new co(u,Hp,d.libSetTimeout);case Sc.DebuggerLimit:return new fo(u,Hp,d.libSetTimeout);case Sc.Server:return new po(u,s,h,Ip,l.getEndUserGuid(),c.browser.string,c.os.name,f)}}var o=this,a={};a[Sc.Console]=uo,a[Sc.Debugger]=co,a[Sc.DebuggerLimit]=fo,a[Sc.Server]=po,a[Sc.CustomerLogLimit]=lo;var s,u,l,c,d,f,p,g,h,m,v,y={};o.start=function(e){n(),a[e]&&!y[e]&&(y[e]=i(e),y[e].start()),o.doneLoading()},o.stop=function(e){y[e]&&(y[e].stop(),y[e]=null)},o.startSession=function(e){t(function(t){t.startSession(e)})},o.endSession=function(){t(function(e){e.endSession()})},o.addAuditListener=function(e){t(function(t){t.addAuditListener(e)})},o.setProfilerState=function(e,t){y[e]&&y[e].setProfilerState(e,t)},o.startProfile=function(e){return u.startStackByName(e)},o.registerProfilerCallback=function(e){e&&(p?e(u):g.push(e))},o.doneLoading=function(){v&&(v.stop(u),v=null)},e.apply(null,arguments)}function yo(){function e(e,t){i=e,o=t}function t(){return(new Date).getTime()}var n,r,i,o,a=this;a.getStart=function(){return n},a.getEnd=function(){return r},a.start=function(){n=t()},a.end=function(e){r=e||t()},a.hasEnded=function(){return!!r},a.totalTime=function(){return r-n},a.getName=function(){return i},a.isAsync=function(){return o},e.apply(null,arguments)}function wo(){function e(e,t){n=e,r=t}function t(e){for(var t,n=0;n<o.length;n++)(!t||e(t,o[n]))&&(t=o[n]);return t}var n,r,i=this,o=[],a={};i.startTrace=function(e,t){var n=new yo(e,t);return o.push(n),n.start(),n},i.hasEnded=function(){if(0===o.length)return!1;for(var e=0;e<o.length;e++)if(!o[e].hasEnded())return!1;return!0},i.totalTime=function(){var e=t(function(e,t){return t.getStart()<e.getStart()}).getStart(),n=t(function(e,t){return t.getStart()>e.getStart()}).getEnd();return n-e},i.totalTimeSync=function(){for(var e=0,t=0;t<o.length;t++)o[t].isAsync()||(e+=o[t].totalTime());return e},i.endAll=function(){for(var e=0;e<o.length;e++)o[e].hasEnded()||o[e].end()},i.getTraces=function(){return o},i.getName=function(){return n},i.getArgs=function(){return r},i.playState=function(e){if(void 0===e)return a;for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])},e.apply(null,arguments)}function bo(e,t,n){function r(e,t,n){a=t,s=e,n.shouldTrackFinder()&&u.enable()}function i(e){for(var t=0;t<e.length;t++)a.stop(e[t])}function o(e){for(var t=0;t<e.length;t++)a.start(e[t])}var a,s,u=this;this.enable=function(e){var t=s.getData(sc);(!t||y(e))&&(t={},t[uc]=e,a.setProfilerState(Sc.DebuggerLimit,{limit:e})),s.saveData(sc,t,cc,void 0),o([Sc.CustomerLogLimit,Sc.DebuggerLimit])},this.disable=function(){i([Sc.CustomerLogLimit,Sc.DebuggerLimit]),s.saveData(sc,null,0,void 0)},r.apply(null,arguments)}function So(e,t,n){function r(e){T=e.logContext,k=e.elementStickyType,_=e.conditionStickyType,x=e.isRemoveByCondition,e.conditionCheckerParams&&(e.conditionCheckerParams.stopPollingAfterEvaluateTrue=!1,I=jl.create("ConditionChecker",e.conditionCheckerParams),C=e.conditionTree);var n={logContext:T,findElementParams:e.elementVisibilityParams.findElementParams,elementEvaluationIntervalMs:e.elementVisibilityParams.elementEvaluationIntervalMs};E=jl.create("ElementVisibilityEvaluator",n),D=e.onShow,A=e.onRemove,P=t.VISIBILITY_STATE.HIDDEN,O=!1}function i(){e.customerLog(h("UIVisibilityManager watchForVisibility for {0} with elementStickyType {1}, conditionStickyType {2}, with condition {3}, isRemoveByCondition {4}",T,k,_,!!I,x),N,M),I?l():m()}function o(){e.customerLog(h("UIVisibilityManager cleanResources for {0}",T),N,M),O=!0,I&&I.cleanResources(),E.cleanResources(),P=t.VISIBILITY_STATE.HIDDEN}function a(){s(),o()}function s(){A&&(e.customerLog(h("UIVisibilityManager triggerRemove for {0}",T),N,M),A()),P=t.VISIBILITY_STATE.HIDDEN}function u(){D&&(e.customerLog(h("UIVisibilityManager triggerShow for {0}",T),N,M),D(E.getElement())),P=t.VISIBILITY_STATE.VISIBLE}function l(){switch(_){case t.CONDITION_SHOW_STICKY_TYPE.ONCE:f();break;case t.CONDITION_SHOW_STICKY_TYPE.CONTINUE:I.onValueChanged(c),I.evaluateAsync(C);break;default:e.customerLog(h("UIVisibilityManager startWatchByConditionStickyType unknown element sticky type {0} for {1}",k,T),1,M)}}function c(n){if(!O)switch(P){case t.VISIBILITY_STATE.HIDDEN:n&&p();break;case t.VISIBILITY_STATE.VISIBLE:x&&d();break;default:e.customerLog(h("UIVisibilityManager watchByConditionStickyType unknown visibility state {0} for {1}",P,T),1,M)}}function d(){switch(_){case t.CONDITION_SHOW_STICKY_TYPE.ONCE:a();break;case t.CONDITION_SHOW_STICKY_TYPE.CONTINUE:g();break;default:e.customerLog(h("UIVisibilityManager checkConditionForRemove unknown condition sticky type {0} for {1}",k,T),1,M)}}function f(){I.onValueChanged(void 0),I.evaluateAsync(C),I.getValue(!0)&&(e.customerLog(h("UIVisibilityManager conditionOnceForShow condition valid for {0}, start watching by element",T),N,M),x&&I.onValueChanged(c),m()),x||I.cleanResources()}function p(){e.customerLog(h("UIVisibilityManager conditionContinueForShow condition valid for {0}, start watching by element",T),3,M),m(),x||I.cleanResources()}function g(){s(),E.cleanResources()}function m(){switch(k){case t.ELEMENT_STICKY_TYPE.ONCE:b();break;case t.ELEMENT_STICKY_TYPE.SOFT:case t.ELEMENT_STICKY_TYPE.STRONG:E.setOnVisibilityChanged(v),E.evaluateElementVisibilityAsynch();break;default:e.customerLog(h("UIVisibilityManager startWatchByElementStickyType unknown element sticky type {0} for {1}",k,T),1,M)}}function v(n){if(!O)switch(P){case t.VISIBILITY_STATE.HIDDEN:n==t.VISIBILITY_STATE.VISIBLE&&y();break;case t.VISIBILITY_STATE.VISIBLE:n==t.VISIBILITY_STATE.HIDDEN&&w();break;default:e.customerLog(h("UIVisibilityManager watchByElementStickyType unknown visibility state {0} for {1}",P,T),1,M)}}function y(){switch(k){case t.ELEMENT_STICKY_TYPE.SOFT:case t.ELEMENT_STICKY_TYPE.STRONG:u()}}function w(){switch(k){case t.ELEMENT_STICKY_TYPE.ONCE:case t.ELEMENT_STICKY_TYPE.SOFT:a();break;case t.ELEMENT_STICKY_TYPE.STRONG:s();break;default:e.customerLog(h("UIVisibilityManager startWatchByConditionStickyType unknown element sticky type {0} for {1}",k,T),1,M)}}function b(){E.evaluateElementVisibility(),E.getElementVisibility()==t.VISIBILITY_STATE.VISIBLE&&u(),E.setOnVisibilityChanged(v),E.evaluateElementVisibilityAsynch()}var S=this;S.watchForVisibility=i,S.cleanResources=o;var T,I,C,E,k,_,x,P,D,A,O,N=3,M="uiVisibility";r.apply(null,[n])}function To(e,t,n,r,i,o){function a(e){T=e.logContext,I=e.findElementParams,S=e.elementEvaluationIntervalMs||P,k=t.VISIBILITY_STATE.HIDDEN}function s(){e.customerLog(h("ElementVisibilityEvaluator evaluateElementVisibility for {0}",T),D,A),x=!1,g()}function u(){k=p()}function l(){return k}function c(){return E}function d(e){_=e}function f(){e.customerLog(h("ElementVisibilityEvaluator cleanResources for {0}",T),D,A),C&&clearTimeout(C),k=t.VISIBILITY_STATE.HIDDEN,x=!0,S=P,E=void 0}function p(){var n;switch(k){case t.VISIBILITY_STATE.VISIBLE:n=v();break;case t.VISIBILITY_STATE.HIDDEN:n=m();break;default:e.customerLog(h("ElementVisibilityEvaluator findByState unknown state {0} for {1}",k,T),1,A)}return n}function g(){var t=p();e.customerLog(h("ElementVisibilityEvaluator evaluateElementVisibilityLoop {0} new state is {1}",T,t),D,A),t!=k&&(e.customerLog(h("ElementVisibilityEvaluator evaluateElementVisibilityLoop {0} state changed from {1} to {2}",T,k,t),D,A),y(t)),k=t,x||(C=i.setWalkmeTimeout(function(){g()},S))}function m(){var e=t.VISIBILITY_STATE.HIDDEN;return E=w(),E&&(e=t.VISIBILITY_STATE.VISIBLE),e}function v(){var e,n=t.VISIBILITY_STATE.HIDDEN;e=I.IdentifySettings?I.IdentifySettings.filter:void 0;var i=r.isElementVisible(E,e);return i&&(n=t.VISIBILITY_STATE.VISIBLE),n}function y(t){_&&(e.customerLog(h("ElementVisibilityEvaluator callOnValueChangeIfExist calling onValueChange for {0}",T),5,A),_(t))}function w(){return n.findElement(I.IdentifySettings,I.isVisible,I.scoreOut,I.mode)}var b=this;b.evaluateElementVisibilityAsynch=s,b.evaluateElementVisibility=u,b.getElementVisibility=l,b.getElement=c,b.setOnVisibilityChanged=d,b.cleanResources=f;var S,T,I,C,E,k,_,x,P=2e3,D=3,A="elementVisibility";a.apply(null,[o])}function Io(){function e(){t()}function t(){a[s.Popup]=r,a[s.Element]=i}function n(e){return a[e.Type](e)}function r(e){return jl.create("UIPopUpBalloon",e)}function i(e){return jl.create("UIElementBalloon",e)}var o=this;o.createUIElement=n;var a={},s={Element:"Element",Popup:"Popup"};e.apply(null,arguments)}function Co(e,t,n,r,i,o){function a(){b=o.Triggers;var r=n.findElement({Type:i.STEP_TYPE.Popup}),a=n.getSiteConfig(),s=a.BalloonSettings,u=n.getBalloonDrawer(s);S=new fn({element:r,position:0,logger:e,text:{title:o.Title,content:o.Text},buttons:{next:!0,done:!1,back:!1},configuration:s,siteConfig:a,data:{stepId:0,tutorialId:0,type:i.STEP_TYPE.Popup},positionHelper:t,drawer:u,isNotSignToButtonsEvents:!0,stepSettings:{popupStepButtons:[{id:0,name:"Next/Done",action:0}],displayX:1,fadeBackground:1}})}function s(){var e=wmjQuery.Deferred();return y=e.resolve,w=e.reject,_flowStageNotify=e.notify,S.Show(!0,g),e.promise()}function u(){S.destroy(),r.removeOverlay(),m()}function l(t){u();for(var n=0;n<b.length;n++)if(b[n].Id==t&&y)return void y(b[n].TargetFlowNodeId);e.customerLog("OnTriggered was called but no triggers were found",1,T)}function c(){u(),w&&w()}function d(e){for(var t=0;t<b.length;t++)if(b[t].Type==e)return b[t].Id}function f(e){return wmjQuery(".walkme-action-next, .walkme-action-start",e)}function p(e){return wmjQuery(".walkme-action-close, .walkme-action-cancel",e)}function g(e,t){_flowStageNotify.notify("stageShown",o.Id),h(e,t)}function h(e,t){p(t).on("click"+i.FLOW_TRIGGER_WORKSPACE,function(){c()}),f(t).on("click"+i.FLOW_TRIGGER_WORKSPACE,function(){l(d("next"))})}function m(e){p(e).off("click"+i.FLOW_TRIGGER_WORKSPACE),f(e).off("click"+i.FLOW_TRIGGER_WORKSPACE)}var v=this;v.show=s,v.destroy=u;var y,w,b,S,T="UIElementPopUpBalloon";a.apply(null,arguments)}function Eo(e,t,n,r,i,o,a,s){function u(){O=s.Triggers,A={title:s.Title,content:s.Text},D=s.Id;var e={logContext:s.Id,elementStickyType:n.ELEMENT_STICKY_TYPE.STRONG,elementVisibilityParams:{findElementParams:{IdentifySettings:s.IdentifySettings}},onShow:g,onRemove:m};L=jl.create("UIVisibilityManager",e)}function l(){if(M=wmjQuery.Deferred(),_=M.resolve,x=M.reject,P=M.notify,o.isFirstVisualStep){var e=a.findElement(s.IdentifySettings);e?g(e):x({wasElementShown:!1})}else L.watchForVisibility();return M.promise()}function c(){return F=!0,l()}function d(){return E(),S(),C(),M.promise()}function f(t){d(),_(t),e.customerLog(h("UIElementBalloon OnTrigger was called but no triggers were found for uiElement {0}",D),1,U)}function p(){d(),x({wasElementShown:!0})}function g(t){e.customerLog(h("UIElementBalloon showUIElement showing balloon {0}",D),R,U),j=t,y(),P("stageShown",s.Id)}function m(){e.customerLog(h("UIElementBalloon removeUIElement removing balloon {0}",D),R,U),C()}function v(e,t){if(b(t),!B){for(var n=[],r=0;r<O.length;r++)n.push({element:j,balloonDiv:t,logContext:D,trigger:O[r]});var i={triggers:n};B=jl.create("UITriggersManager",i)}F?B.restore().then(f,p):B.listen().then(f,p)}function y(){var i=t.getSiteConfig(),o=i.BalloonSettings,a=t.getBalloonDrawer(o);N=new fn({element:j,position:s.Settings.Position,stepSettings:s.Settings,logger:e,text:A,buttons:{next:T(),done:I(),back:!1},configuration:o,siteConfig:i,data:{stepId:s.Id,tutorialId:0,type:n.STEP_TYPE.Normal,identifierTag:"flow"},positionHelper:r,drawer:a,isNotSignToButtonsEvents:!0}),N.Show(!0,v)}function w(e){return wmjQuery(".walkme-action-close, .walkme-action-cancel",e)}function b(e){w(e).on("click"+n.FLOW_TRIGGER_WORKSPACE,function(){p()})}function S(e){w(e).off("click"+n.FLOW_TRIGGER_WORKSPACE)}function T(){for(var e=0;e<O.length;e++)if("Button"==O[e].Type&&O[e].TargetFlowNodeId)return!0}function I(){for(var e=0;e<O.length;e++)if("Button"==O[e].Type&&!O[e].TargetFlowNodeId)return!0}function C(){B&&(B.destroy(),B=void 0),N?N.destroy(!1,function(){x({wasElementShown:!0})}):x({wasElementShown:!0})}function E(){L.cleanResources()}var k=this;k.show=l,k.restore=c,k.destroy=d;var _,x,P,D,A,O,N,M,L,B,F,j,R=3,U="UIElementBalloon";u.apply(null,arguments)}function ko(e,t){function n(){for(var n=0;n<t.triggers.length;n++)u.push(e.createUITrigger(t.triggers[n]))}function r(){for(var e=wmjQuery.Deferred(),t=0;t<u.length;t++)a?u[t].restore().then(e.resolve):u[t].listen().then(e.resolve);return e.promise()}function i(){return a=!0,r()}function o(){for(var e=0;e<u.length;e++)u[e].destroy()}var a,s=this,u=[];s.listen=r,s.restore=i,s.destroy=o,n.apply(null,arguments)}function _o(){function e(){t()}function t(){f[p.Click]=r,f[p.Hover]=i,f[p.Text]=o,f[p.Delay]=a,f[p.PageChanged]=s,f[p.Button]=u,f[p.SelectAny]=l,f[p.SelectValue]=c}function n(e){return f[e.trigger.Type](e)}function r(e){return jl.create("ClickUITrigger",e)}function i(e){return jl.create("HoverUITrigger",e)}function o(e){return jl.create("TextUITrigger",e)}function a(e){return jl.create("DelayUITrigger",e)}function s(e){return jl.create("PageChangedUITrigger",e)}function u(e){return jl.create("ButtonUITrigger",e)}function l(e){return jl.create("SelectAnyUITrigger",e)}function c(e){return jl.create("SelectValueUITrigger",e)}var d=this;d.createUITrigger=n;var f={},p={Click:"Click",Hover:"Hover",Button:"Button",Text:"Text",Delay:"Delay",PageChanged:"PageChanged",SelectAny:"SelectAny",SelectValue:"SelectValue"};e.apply(null,arguments)}function xo(e){function t(t){for(var n=[],r=0;r<t.length;r++)n.push(t[r]+e.FLOW_TRIGGER_WORKSPACE);return n}function n(e,t,n){for(var r=0;r<t.length;r++)e.on(t[r],function(e){n(e)})}function r(e,t){for(var n=0;n<t.length;n++)e.off(t[n])}var i=this;i.getFullEventNames=t,i.bindEventsToElement=n,i.unbindEventsFromElement=r}function Po(e,t){function n(){a=t.element,s=t.trigger,l=e.getFullEventNames(c)}function r(){var t=wmjQuery.Deferred(),n=function(){t.resolve(s.TargetFlowNodeId)};return e.bindEventsToElement(a,l,n),t.promise()}function i(){return r()}function o(){e.unbindEventsFromElement(a,l)}var a,s,u=this,l=[],c=["click","mousedown","mouseup"];u.listen=r,u.restore=i,u.destroy=o,n.apply(null,arguments)}function Do(e,t){function n(){a=t.element,s=t.trigger,l=e.getFullEventNames(c)}function r(){var t=wmjQuery.Deferred(),n=function(){t.resolve(s.TargetFlowNodeId)};return e.bindEventsToElement(a,l,n),t.promise()}function i(){return r()}function o(){e.unbindEventsFromElement(a,l)}var a,s,u=this,l=[],c=["mouseenter"];u.listen=r,u.restore=i,u.destroy=o,n.apply(null,arguments)}function Ao(e,t){function n(){a=t.element,s=t.trigger,l=e.getFullEventNames(c)}function r(){var t=wmjQuery.Deferred(),n=function(){t.resolve(s.TargetFlowNodeId)};return e.bindEventsToElement(a,l,n),t.promise()}function i(){return r()}function o(){e.unbindEventsFromElement(a,l)}var a,s,u=this,l=[],c=["keydown","paste","change"];u.listen=r,u.restore=i,u.destroy=o,n.apply(null,arguments)}function Oo(e,t){function n(){a=t.element,s=t.trigger}function r(){var t=wmjQuery.Deferred();return u=e.setWalkmeTimeout(function(){t.resolve(s.TargetFlowNodeId)},1e3*s.Settings.Duration),t.promise()}function i(){}function o(){clearTimeout(u)}var a,s,u,l=this;l.listen=r,l.restore=i,l.destroy=o,n.apply(null,arguments)}function No(e){function t(){o=e.element,a=e.trigger}function n(){var e=wmjQuery.Deferred();return e.promise()}function r(){var e=wmjQuery.Deferred();return e.resolve(a.TargetFlowNodeId)}function i(){}var o,a,s=this;s.listen=n,s.restore=r,s.destroy=i,t.apply(null,arguments)}function Mo(e,t){function n(){c=t.element,d=t.trigger,f=t.balloonDiv,g.push(a()),g.push(s())}function r(){var e=wmjQuery.Deferred();return u(e),e.promise()}function i(){r()}function o(){l()}function a(){return wmjQuery(".walkme-action-next, .walkme-action-start",f)}function s(){return wmjQuery(".walkme-action-done",f)}function u(t){for(var n=0;n<g.length;n++)g[n].on("click"+e.FLOW_TRIGGER_WORKSPACE,function(){t.resolve(d.TargetFlowNodeId)})}function l(){for(var t=0;t<g.length;t++)g[t].off("click"+e.FLOW_TRIGGER_WORKSPACE)}var c,d,f,p=this,g=[];p.listen=r,p.restore=i,p.destroy=o,n.apply(null,arguments)}function Lo(e,t){function n(){a=t.element,s=t.trigger,l=e.getFullEventNames(c)}function r(){var t=wmjQuery.Deferred(),n=function(){t.resolve(s.TargetFlowNodeId)};return e.bindEventsToElement(a,l,n),t.promise()}function i(){return r()}function o(){e.unbindEventsFromElement(a,l)}var a,s,u=this,l=[],c=["change"];u.listen=r,u.restore=i,u.destroy=o,n.apply(null,arguments)}function Bo(e,t){function n(){a=t.element,s=t.trigger,u=s.Settings.complexHtml,c=e.getFullEventNames(d)}function r(){var t=wmjQuery.Deferred(),n=function(e){var n;n="option"==e.target.tagName.toLowerCase()?e.target:e.target.options[e.target.selectedIndex],(n.value==u.val||n.text==u.txt)&&t.resolve(s.TargetFlowNodeId)};return e.bindEventsToElement(a,c,n),t.promise()}function i(){return r()}function o(){e.unbindEventsFromElement(a,c)}var a,s,u,l=this,c=[],d=["change"];l.listen=r,l.restore=i,l.destroy=o,n.apply(null,arguments)}function Fo(e,t,n){function r(e){p=y+e.uniqueIndicator+w,g=e.uniqueIndicator}function i(t,n){e.customerLog(h("StateMachine {0} add() {1}",g,t),b,S),m[t]=n,n.init(d)}function o(t){f=l(),f&&""!=f?(e.customerLog(h("StateMachine {0}, start with recovered state from storage {1}",g,f),b,S),m[f].continueState()):(e.customerLog(h("StateMachine {0} start() with new state {1}",g,t),b,S),f=t,c())}function a(t){e.customerLog(h("StateMachine {0} switchState to {1}",g,t),b,S),m[f].exit(),f=t,c()}function s(){e.customerLog(h("StateMachine {0} end",g),b,S),m[f].exit(),f=void 0,u()}function u(){f?t.saveData(p,f,v):t.saveData(p,"",v)}function l(){var e;return t.refreshGetData(null,function(){e=t.getData(p)}),e}function c(){m[f]?(u(),m[f].enter()):e.customerLog(h("StateMachine {0} storeAndEnterCurrentState unknown key {1}",g,f),1,S)}var d=this;d.add=i,d.start=o,d.switchState=a,d.end=s;var f,p,g,m={},v=3600,y="wm-state-machine-",w="-current-state",b=3,S="stateMachine";r.apply(null,[n])}function jo(e,t){function n(n){switch(n.Type){case o.UI:return jl.create("UIFlowStage",n);case o.Action:return t.createActionStage(n);default:e.customerLog(h("StagesFactory getStage - Unknown flow node type: {0}",n.FlowNodeType),1,i)}}var r=this;r.createStage=n;var i="stages",o={UI:"UI",Action:"Action"}}function Ro(e,t,n,r){function i(){for(var t=0;t<r.UIElements.length;t++)f.push(e.createUIElement(r.UIElements[t]))}function o(){for(var e=wmjQuery.Deferred(),t=0;t<f.length;t++)u(e,f[t].show);return e.promise()}function a(){for(var e=wmjQuery.Deferred(),t=0;t<f.length;t++)u(e,f[t].restore);return e.promise()}function s(){var e=wmjQuery.Deferred();return 0==f.length?e.resolve():(t.executeParallel({objectsArray:f,functionsToExecute:[function(e,t){e.destroy().then(function(){},t)}],successCallback:function(t){e.resolve(t)}}),e.promise())}function u(e,t){t().progress(function(t,n){e.notify(t,n)}).then(function(t){l(e,t)},function(t){c(e,t)})}function l(e,t){n.isFirstVisualStep=!1,e.resolve(t)}function c(e,t){e.reject(t)}var d=this;d.execute=o,d.destroy=s,d.restore=a;var f=[];i.apply(null,arguments)}function Uo(){function e(){t()}function t(){g[h.Branch]=r,g[h.Delay]=i,g[h.OpenMenu]=o,g[h.PassOwnership]=a,g[h.Redirect]=s,g[h.Refresh]=u,g[h.SetData]=l,g[h.Split]=c,g[h.Stop]=d,g[h.WaitForCondition]=f,g[h.Survey]=i,g[h.Popup]=i}function n(e){return g[e.ActionType](e)}function r(e){return jl.create("BranchActionStage",e)}function i(e){return jl.create("DelayActionStage",e)}function o(e){return jl.create("OpenMenuActionStage",e)}function a(e){return jl.create("PassOwnershipSwitchActionStage",e)}function s(e){return jl.create("RedirectActionStage",e)}function u(e){return jl.create("RefreshActionStage",e)}function l(e){return jl.create("SetDataActionStage",e)}function c(e){return jl.create("SplitActionStage",e)}function d(e){return jl.create("StopActionStage",e)}function f(e){return jl.create("WaitForConditionActionStage",e)}var p=this;p.createActionStage=n;var g={},h={Branch:"Branch",Delay:"Delay",OpenMenu:"OpenMenu",PassOwnership:"PassOwnership",Redirect:"Redirect",Refresh:"Refresh",SetData:"SetData",Split:"Split",Stop:"Stop",WaitForCondition:"WaitForCondition",Survey:"Survey",Popup:"Popup"};e.apply(null,arguments)}function Go(e){function t(){}function n(){var t=wmjQuery.Deferred(),n=e.Settings;return o(t,n.branchFlowNode.entityId,n.branchFlow.entityId),t.promise()}function r(){return wmjQuery.Deferred().resolve()}function i(){}function o(e,t,n){return e.resolve(t,n)}var a=this;a.execute=n,a.destroy=r,a.restore=i,t.apply(null,arguments)}function Wo(e){function t(){}function n(){var t=wmjQuery.Deferred(),n=e.Links&&e.Links.length>0?e.Links[0].TargetFlowNodeId:void 0;return o(t,n)}function r(){return wmjQuery.Deferred().resolve()}function i(){}function o(e,t){return e.resolve(t)}var a=this;a.execute=n,a.destroy=r,a.restore=i,t.apply(null,arguments)}function Vo(e){function t(){}function n(){}function r(){return wmjQuery.Deferred().resolve()}function i(){}var o=this;o.execute=n,o.destroy=r,o.restore=i,t.apply(null,arguments)}function Qo(e){function t(){}function n(){}function r(){return wmjQuery.Deferred().resolve()}function i(){}var o=this;o.execute=n,o.destroy=r,o.restore=i,t.apply(null,arguments)}function Ho(e){function t(){}function n(){}function r(){return wmjQuery.Deferred().resolve()}function i(){}var o=this;o.execute=n,o.destroy=r,o.restore=i,t.apply(null,arguments)}function zo(e){function t(){}function n(){}function r(){return wmjQuery.Deferred().resolve()}function i(){}var o=this;o.execute=n,o.destroy=r,o.restore=i,t.apply(null,arguments)}function Yo(e,t){function n(){}function r(){var n=wmjQuery.Deferred(),r=t.Settings.actionArgs;return e.saveData(r.key,r.value,r.duration),t.Links&&t.Links.length>0?a(n,t.Links[0].TargetFlowNodeId):a(n)}function i(){return wmjQuery.Deferred().resolve()}function o(){}function a(e,t){return e.resolve(t)}var s=this;s.execute=r,s.destroy=i,s.restore=o,n.apply(null,arguments)}function qo(e){function t(){f=e.Links,p=e.Name}function n(){var e=wmjQuery.Deferred(),t=s(e);if(t)return t;var t=l(e);return t?t:a(e)}function r(){return wmjQuery.Deferred().resolve()}function i(){}function o(e,t){return e.resolve(t)}function a(e){return e.reject()}function s(e){for(var t=0;t<f.length;t++){var n=f[t];if(c(n)&&u(n))return o(e,n.TargetFlowNodeId)}return null}function u(e){var t={_elementName:p},n=jl.create("NewConditionChecker",t);n.evaluateAsync(e.ConditionTrees.Branch);var r=n.getValue();return r}function l(e){for(var t=0;t<f.length;t++){var n=f[t];if(!c(n))return o(e,n.TargetFlowNodeId)}return null}function c(e){return e.ConditionTrees&&!!e.ConditionTrees.Branch}var d=this;d.execute=n,d.destroy=r,d.restore=i;var f,p;t.apply(null,arguments)}function Ko(e){function t(){}function n(){}function r(){return wmjQuery.Deferred().resolve()}function i(){}var o=this;o.execute=n,o.destroy=r,o.restore=i,t.apply(null,arguments)}function Xo(e){function t(){}function n(){}function r(){return wmjQuery.Deferred().resolve()}function i(){}var o=this;o.execute=n,o.destroy=r,o.restore=i,t.apply(null,arguments)}function Jo(){function e(e){n.Extends(Bi,e),t=new jl.get("FlowsPlayer")}var t,n=new o(this),r=this;n.Override("setDeployables",function(e){n._base.setDeployables(e),t.init(n._base.deployablesDict())}),n.Override("name",function(){return"Flow"}),n.Override("activateById",function(e,n,r){t.start(e,r)});n.Override("releaseAll",function(){return t?t.stop():wmjQuery.Deferred().resolve().promise()}),r.restore=function(){t.restore()},e.apply(null,arguments)}function $o(e,t,n,r){function i(){k=n.createFlowStack()}function o(e){E=e,C=void 0}function a(t,r){e.customerLog(h("FlowPlayer start - Starting flow {0} with node {1}",t,r),x,_),u(),n.isFirstVisualStep=!0,g(t,r)}function s(){n.loadFlowStack().then(function(e){k=e,k.isEmpty()||m()})}function u(){return e.customerLog("FlowPlayer stop - Stopping current flow",x,_),k.clear(),n.saveFlowStack(k),C?C.destroy():wmjQuery.Deferred().resolve().promise()}function l(t,n){return e.customerLog(h("FlowPlayer onStageSuccess - next stage id: {0}, next flow id: {1} ",t,n),x,_),C&&C.destroy(),r.sendInternalEvent("AfterCompletingFlowStage",T()),n?(r.sendInternalEvent("SwitchToFlow",n),void d(n,t)):t?void f(t):void w()}function c(t){e.customerLog(h("FlowPlayer onStageError - params: {0}",t),x,_),t&&t.nextStageId?l(t.nextStageId):(t&&!t.wasElementShown&&n.isFirstVisualStep&&r.sendApiEvent("FlowFailedToStart"),u(),r.sendApiEvent("FlowStopped"))}function d(t,n){e.customerLog(h("FlowPlayer branch - Branching to flow {0} with node {1}",t,n),x,_),g(t,n)}function f(t){e.customerLog(h("FlowPlayer transition - Transitioning to node {0}",t),x,_),k.updateTopStageId(t),n.saveFlowStack(k),m()}function p(){var t=k.peek(),n=E[t.flowId].Nodes[t.stageId];n.Links&&n.Links.length>0&&(e.customerLog(h("FlowPlayer branchBack - Returning from branch to flow id: {0}, node id: {1}",t.flowId,n.Links[0].TargetFlowNodeId),x,_),f(n.Links[0].TargetFlowNodeId))}function g(e,t){var r=b(e,t);k.push(e,r),n.saveFlowStack(k),v(e,r)}function m(){var e=k.peek();v(e.flowId,e.stageId)}function v(t,n){e.customerLog(h("FlowPlayer run - Running flow id: {0}, node id: {1}",t,n),x,_),C=S(t,n),r.sendInternalEvent("BeforeExecutingFlowStage",{flowId:t,stageId:n}),C.execute().progress(y).then(l,c)}function y(e,t){if("stageShown"==e){var n=T();n.uiElementId=t,r.sendInternalEvent("UIFlowStageShown",n)}}function w(){return k.pop(),k.isEmpty()?(u(),void r.sendApiEvent("FlowCompleted")):void p()}function b(e,t){return t?t:E[e].RootFlowNodeId}function S(e,n){return E[e].Nodes[n]?t.createStage(E[e].Nodes[n]):void 0}function T(){var e=k.peek();return{flowId:e.flowId,stageId:e.stageId}}var I=this;I.init=o,I.start=a,I.restore=s,I.stop=u;var C,E,k,_="flow",x=3;i.apply(null,arguments)}function Zo(e){function t(t){e.saveData(i,t.getFlows(),o)}function n(){var t=wmjQuery.Deferred();return e.refreshGetData(null,function(){var n=e.getData(i),o=r(n);t.resolve.apply(null,[o])}),t.promise()}function r(e){return jl.create("FlowStack",{flows:e})}var i="wm-flow-stack",o=60,a=this;a.saveFlowStack=t,a.loadFlowStack=n,a.createFlowStack=r,a.isFirstVisualStep=!1}function ea(){function e(e){c=e.flows,c||u()}function t(){return c.length>0?c[c.length-1]:null}function n(){c.pop()}function r(e){var t=c[c.length-1];t.stageId=e}function i(e,t){c.push({flowId:e,stageId:t})}function o(){u()}function a(){return!c||0==c.length}function s(){return c}function u(){c=[]}var l=this;l.peek=t,l.pop=n,l.updateTopStageId=r,l.push=i,l.clear=o,l.isEmpty=a,l.getFlows=s;var c;e.apply(null,arguments)}function ta(){function e(){}e.apply(this,arguments)}function na(e,t){function n(e){var n=e.get().Settings.customAuditVars;if(n)for(var i=0;i<n.length;i++){var a=n[i];a.value&&""!=a.value&&(a.value.indexOf("walkme_sf_vars")>-1?o.push({index:i+1,value:a.value}):r(i+1,t.getWindowVar(a.value)))}}function r(e,t){"string"==typeof t?WalkMeAPI.setAnalyticsCustomField(e,t):void 0==t&&WalkMeAPI.setAnalyticsCustomField(e,"")}var i=this,o=[];i.handleSfVars=function(){for(var e=0;e<o.length;e++){var n=o[e];r(n.index,t.getWindowVar(n.value))}},n.apply(null,arguments)}function ra(e){function t(e){return e&&e.embed}this.getContainer=function(n,r,i,o){if(t(n))return dn.closestNonStatic(r);var a=null;return i&&(a=e(r)),a&&a.length||(a=e(null,!0)),a},this.handleEmbedding=function(e,n,r){t(e)&&(n.bind("click,mousedown",function(e){e.stopPropagation()}),n.css("cursor","default"))},this.fixPosition=function(e,n,r){if(t(n)){var i=r.offset();e.left-=i.left,e.top-=i.top}}}function ia(e){var t=void 0;return mtjQuery.each(Qd,function(n,r){return e==r?(t=n,!1):void 0}),t}function oa(e){jl.createCallback(function(e,t){var n="set"+e;Ml.hasOwnProperty(n)&&Ml[n](t)}),jl.get("DataEncoderFactory").registerEncoders(),jl.get("CommonEvents").sendInternalEvent("mainCreationStart",{object:Ml}),D=jl.get("PositionHelper"),nf=jl.get("StepUtils"),rf=jl.get("AuditSourceManager"),jl.initialize("Logger"),jl.initialize("HostData"),jl.initialize("ElementFinder"),jl.get("WalkmeLoader").start(function(){e&&e(Ml)}),Bg=jl.get("BalloonUtils")}function aa(e){Cg=e}function sa(){return qd.getAllUserGuids()||Ep}function ua(){return rf.get()===kc.SOURCES.preview}function la(){return rf.get()===kc.SOURCES.play}function ca(){return rf.get()===kc.SOURCES.production}function da(e,t){void 0==e.BalloonSettings&&t.length>0&&(e.BalloonSettings=t[0].Steps[0].Configuration)}function fa(e,t){var n=e.css(t);return n?parseFloat(n):0}function pa(e){var t=Zp;Zp=[],ga({objectsArray:t,functionsToExecute:[function(e,t){e.destroy(!1,t)}],successCallback:e})}function ga(e){ln.executeParallel(e)}function ha(e){var t=l(e);return t&&t.length?t:[]}function ma(){return ya(kf)}function va(){return ya(_f)}function ya(e){for(var t="",n=0;n<e.length;n++){var r=e[n];r.Css&&(t+=r.Css)}return t}function wa(){D.extendVisibilityFilters()}function ba(e){var t=g(e),n=Nf.get();return n&&(t.direction=n.Direction,t.showPoweredBy="1"==n.PoweredByLink,t.showPoweredByFormat=n.IsDisplayPoweredBy),t}function Sa(e,t){for(var n=0;n<e.length;n++)e[n].userGuid=t}function Ta(){return zf}function Ia(){return Ml.LibVersion}function Ca(){var e=qd.getSettingsFile().LibFile,t=/http.+\/player\//.exec(e);return t[0]}function Ea(e){try{window._walkmeInternals||(window._walkmeInternals={}),_walkmeInternals.timing||(_walkmeInternals.timing={});var t=_walkmeInternals.timing;t.map||(t.map={}),t.list||(t.list=[]);var n=(new Date).getTime();t.map[e]=n,t.list.push({name:e,time:n})}catch(r){}}function ka(){var e=Ml.getSiteConfig();return e.Settings&&e.Settings.rmWMCond&&$f.evaluate(e.Settings.rmWMCond)?(el("Remove walkme condition is true. Removing WalkMe.",3),Ml.removeWalkMe("Removed by condition"),!0):!1}function _a(){if(Lg("noDebugger"))return!1;var e=sf.getData(ag,gc.Deactive,Ml.getUserGuid());
return e==gc.Active||e==gc.ActiveAndReset}function xa(){var e=sf.getData(sg,!1,Ml.getUserGuid());return e}function Pa(){var e=Da()||Aa();return e||el(nc,"Not loading test me (checked window var, query string parameter and storage entry)",1),e}function Da(){return window.walkMeTestMeLoad?(el(nc,"ShouldLoadTestMe - True by window var",1),Ml.rememberTestMeIsOn(),window.walkMeTestMeLoad=void 0,!0):void 0}function Aa(){var e=sf.getData(oc,0,Ml.getUserGuid());return e?(el(nc,"ShouldLoadTestMe - True by storage entry",1),!0):void 0}function Oa(e,t){el("after loading storage",4);var n=e?Na:Ma;(t||!e)&&(_a()&&!Js()&&($d.dbgr={debuggerWasLoaded:n},n=op.loadDebuggerFromStorage),xa()&&Ml.launchLogger());var r=Pa();if(r&&(window._walkmeInternals.testme||(window._walkmeInternals.testme={}),window._walkmeInternals.testme.testmeLoadedCallback=n,n=Ml.loadTestMe),el("willLoadTestMe: "+r,1),up.hasTaskGoalCompletionCondition()){var i=n,o=function(){la()||up.didTasksFinishLoading()?i():up.setTasksFinishedLoadingCallback(i)};n=o}return n}function Na(){el("after loading storage for play",4),Zf.init(),La(),Mp.enabled()?Mp.start():Cu(),el("sending editor event: StorageManagerInitialized",4),Vp("StorageManagerInitialized")}function Ma(){La();var e=Ml.Logger.timer("after loading storage"),t=Ml.Logger.timer("show all launchers");Ml.showAllLaunchers(),t.stop(),Ra();var n=[];if(Mp.enabled())try{n.push(Mp.start)}catch(r){Ml.Logger.customerLog(r,"failed to start pass ownership manager",1),Cu()}else Cu();if(ca()){var i=Ml.getEndUserGuid(),o=_walkmeInternals.walkme_userGuid_to_replace||Ip;_p.auditUniqueEndUser(o,Ap.getPermutation(),i)}n.push(Np?Np.startWatching:ja),ga({functionsToExecute:n,successCallback:function(){Zf.init(Mp.enabled()),Ml.profilerAPI.doneLoading(),Ea("walkmeReady"),Ba(),ua()||la()||Jf.reportEndUser(function(){Ml.removeWalkMe("reportEndUserFailed")}),Gp.setWalkmeTimeout(function(){jl.get("SettingsCacheManager").start()},5e3),e.stop()}})}function La(){qf.init(),xp.init(),jp.start(),Ml.setCrossDomainManager(jl.get("CrossDomainManager"))}function Ba(){try{walkme_ready()}catch(e){}try{mt_ready()}catch(e){}jl.get("EventsTrigger").sync("WalkMeReady"),Ml.isWalkMeVisible()&&!Fa()&&(jl.get("PermalinkManager").run(),jl.get("AutoStartManager").run())}function Fa(){return!!window._testMe}function ja(e){e()}function Ra(){if(ef.isIE()){var e=mtjQuery("a[href^='javascript:']"),t="click.walkme.ignoreUnload";e.off(t),e.on(t,function(){ng=!0})}}function Ua(e,t){for(var n=e.Steps,r=0;r<n.length;r++)Ga(n[r],r,t)}function Ga(e,t,n){e.StepIndex=t,e.Configuration&&-1!=e.Configuration?(e.End=e.Configuration.End,e.Duration=e.Configuration.Duration,e.Delay=e.Configuration.Delay,e.Position=e.Configuration.Position):e.Configuration=n.BalloonSettings,e.IgnorePosition=void 0!=e.IgnorePosition?e.IgnorePosition:parseInt(yl(e.Settings,"ignorePosition",0))}function Wa(e){return Va(e,"TaskProperties","Settings"),Qa(e),e}function Va(e,t,n){void 0!==e[t]?e[n]=e[t]:e[t]=e[n]}function Qa(e){e.RelatedDeployableId?e.Settings.WalkThruId=e.RelatedDeployableId:(e.RelatedDeployableType=Qd.Tutorial,e.RelatedDeployableId=Number(e.Settings.WalkThruId))}function Ha(){return!Lg("walkmeIE7Support")&&ef.isIEBrowser(8,"lt")&&!window.postMessage}function za(){if(jl.get("WalkMeInfo").init(),Ha())return el("WalkMe is not supported on that browser"),!1;if(jl.get("InteractionInitiationEventListener").init(),jl.get("AnalyticsPropertiesManager").init(),Ml.getBalloonDrawer(Nf.get().BalloonSettings).loadResources(bl().siblings("head")),Ya(),qd.getStorageType()||(tp=Yd.byFeature(),np=tp),tp===!1)return!1;if(Fp.setFeatures(Lg("blockJsonp"),Lg("corsJsonpFallback")),kp=jl.get("AbTestingManager"),!kp.shouldLoadWalkme())return!1;Gp.overrideTimeouts(),Ml.profilerAPI.setProfilerManager(jl.get("ProfilerManager")),Ml.profilerAPI.registerProfilerCallback(nl),Ml.trackFinder=jl.get("TrackFinder"),sp=new ji({deployables:If});var e=Nf.get();e.EndUserSettings&&Xf.setEndUserSettings(e.EndUserSettings),Og=Lg("oldframesets");var t=parseInt(e.TodoListSettings.isActive)&&Ml.evaluateConditionTree(e.TodoListSettings.activateCondition),n=Mf.length>0;n&&(Zf.enableMultiUserStorage(),vp=new Qi({deployables:Mf,lib:Ml}),Np=new yr({deployablesGoalManager:Zf,experiments:vp.getAll(),lib:Ml,getEndUserGuid:Ml.getEndUserGuid,getPermutationId:Ap.getPermutation,getAuditSource:al,serverAddress:Vf.get(),storageManager:sf})),dp=new Wi({deployables:xf,lib:Ml,cdnServerName:zf,deployablesGoalsManager:Zf,clickAuditManager:xp}),fp=new Fi({deployables:Bf,lib:Ml}),mp=new Vi({deployables:Uf,lib:Ml}),lp=new Ui({deployables:Ef,lib:Ml}),gp=new zi({deployables:Ff,lib:Ml}),hp=new Yi({deployables:jf,lib:Ml}),yp=new nr({deployables:Df,abPermutationManager:Ap,recorderServerManager:Vf,permalinkManager:Qf,state:Fd,lib:Ml}),pp=jl.create("ShuttlesManager",{deployables:Pf}),wp=jl.create("ShoutOutsManager",{deployables:Af,lib:Ml,type:Qd.ShoutOut}),bp=jl.create("ShoutOutsManager",{deployables:Of,lib:Ml,type:Qd.ShoutOutBar}),Sp=jl.create("FlowsManager",{deployables:Rf,lib:Ml,type:Qd.BusinessSolutions}),up=new Ri(Cf,t,Vf.get(),sf,jp,Ml.getEndUserId(),Ml.Logger.error,jl.get("Consts"),jl.get("WalkMeInfo"),Ml,dp,sp,jl.get("EventSender"),jl.get("CommonEvents"),jl.get("CommonUtils"),jl.get("AuditTasksManager")),qa(),hp.injectTagsToDeployables();var r=jl.get("AbTasksValidator");return r.shouldTrackAbTasks()?(cp=new Yn({todoListManager:up,goalsManager:zd}),up.init(),up.loadTasks(cp.startWatchingTasks)):(_walkmeInternals.abTasksBlocked=!0,Hp("AbTasksBlocked"),el("Not tracking ab testing and tasks - blocked in this browser."),kp.disableReport()),kp.isAbTestingEnabled()&&Ml.setAnalyticsCustomFields(0,Ml.getEndUserId()),!0}function Ya(){ln.setDefault(Nf.get(),"TodoListSettings",{})}function qa(){Tp[Qd.Tutorial]=sp,Tp[Qd.Content]=dp,Tp[Qd.Task]=up,Tp[Qd.Launcher]=lp,Tp[Qd.Category]=fp,Tp[Qd.Collection]=mp,Tp[Qd.Shuttle]=pp,Tp[Qd.AbExperiment]=vp,Tp[Qd.Survey]=yp,Tp[Qd.ShoutOut]=wp,Tp[Qd.ShoutOutBar]=bp,Tp[Qd.ConditionBlock]=gp,Tp[Qd.Tag]=hp,Tp[Qd.BusinessSolutions]=Sp}function Ka(){this.get=function(e){return Tp[e]}}function Xa(e){xg.push(e);var t=Dg[Dg.length-1];t!=e&&Dg.push(e)}function Ja(e){Pg.push(e.Id)}function $a(e){el("onbeforeunload called",1),ng?ng=!1:(tg=!0,Gp.pauseAllTimeouts(),Mp&&Mp.enabled()?Mp.loseOwnership(!1,!0):Lg("noUnload")&&es())}function Za(){tg=!1,Gp.resumeTimeoutsArray("playTimeouts")}function es(){Gp.setWalkmeTimeout(function(){tg=!1,Gp.resumeAllTimeouts()},3e3)}function ts(e){try{e=e||0;var t=sf.getData(og,{},sa()[0]),n=t[lg],r=Qg(n),i=t[dg],o=r.Steps[i+e];return o}catch(a){return null}}function ns(){window._testMe&&(_testMe.exit(),wmjQuery("script[src*='waklme_testme']").remove(),window._testMe=void 0,window.walkMeTestMeLoad=void 0,sf.removeData(oc),window.walkMeTestMeClearStorage=void 0,window.testMeData&&(window.testMeData=void 0,el(nc,"Test me data cleared",1)),el(nc,"_testMe cleared",1))}function rs(e){if(rp.isFramesetsPage())for(var t=rp.getAllFramesDocuments(),n=0;n<t.length;n++)wmjQuery(e,t[n]).remove()}function is(e,t){return ln.defaultValue(e,t)}function os(e,t){qp=-1,Xp=Fd.NOT_RUNNING,Kp=-1,Jp=[],qf._currentPlayGUID="",kg=!1,xg=[],Pg=[],Dg=[],Wf={},Ag=-1,tg=!1,rg=!1,e||(qf._currentPlayInitiator=null),t||Su()}function as(e,t,n,r){for(var i=t;n>i;i++)qf.auditStep(If[e],If[e].Steps[i],r)}function ss(e){if(Yf[If[e].TutorialId]){var t=Yf[If[e].TutorialId].siteConfig;t&&Nf.set(t)}}function us(e){var t;return t=yl(If[e].Settings,"SafeStart",!1),t&&"0"!=t.enabled||(t=yl(Nf.get().Settings,"SafeStart",null)),t}function ls(e,t,n,r){for(var i=t;n>i;i++)r!=kc.STEP_STATUS.SkippedByActionStep&&Hp("NewSkippedStep",If[e].Steps[i])}function cs(e){var t={ClickEvent:e};Qp("UserStoppedWalkthru",t),zp("UserStoppedTutorial",t);var n=-1==Kp;n||qf.auditStep(bu(),ol(),kc.STEP_STATUS.Exited),Ml.stopTutorial(n),Qp("UserStoppedWalkthruAfterStop",t),zp("UserStoppedTutorialAfterStop",t)}function ds(e,t,n,r,i,o){try{Ml.userSawWalkMe(),Ll=0,Hp("LoadWt",If[e]),ss(e),dp.removeContent(),r=is(r,Ml.generateNewPlayGuid(If[e].TutorialId)),n=is(n,!0),t=is(t,0);var a=void 0==o?t:o;0===t&&(t=Ou(e)),Gg(e,t,r,i,[],[],[]);var s=If[e];try{i=i||{type:Ml.getPlayInitiatorEnum().NONE},Kf.auditWalkthruStart(s,i,a,t,r)}catch(u){Ml.Logger.error(u)}al()!=kc.SOURCES.play&&Zf.startWatchingDeployable(s,r),Ml.postWelcomeStep(e)}catch(l){_makeTutorial.Logger.error(l)}}function fs(e,t,n,r,i,o,a){return Bp.wrapSession(function(){function s(t){if(!Rs(t)||1!=r)return t.StepIndex;if(If[e].Steps.length>t.StepIndex){var o=fs(e,t.StepIndex+1,n,r,i,hc.Normal);return 0>o?o:t.StepIndex}}function u(e){var t=Gs(e);if(t.getGoToData){var o=t.getGoToData(),a=fs(o.tutorialIndex,o.stepIndex,n,r,i,hc.Normal);if(0>a)return a}else if("stopWt"==t.type)return-2;return e.StepIndex}function l(e,n){return gs(Ug,n),el("returned checking "+t+" ("+f.Id+") result: "+e,5,$l),e}function c(e,t){i&&i.push({stepIndex:e,stepStatus:t})}var d=If[e],f=d.Steps[t];r=is(r,1),n=is(n,0);var p=hs(Ug,f.Id);if(el("Checking if step index "+t+" ("+f.Id+") can be played. looped: "+p+" on mode:"+o,5,$l),Ug.push({id:f.Id,mode:o}),p)return l(-5,f.Id);var g=Ks(f),h=!0;g!=Vd.STICKY_CONDITION&&(h=Xs(f));var m=yl(f.Settings,"fake",!1),v=yl(f.Settings,"skipNotExists",!1),y=v||f.IsSkippable||!h||m;if(c(t,ps(y,h)),h&&!m&&Ml.findElement(f,null,null,"Step - Find Element "+(a||""),ln.getStepTrackData(f,d)))return nf.isActionStep(f)?l(u(f),f.Id):nf.isPopupStep(f)?l(s(f),f.Id):l(t,f.Id);var w=t+r;if(y){var b;if(0>w)return l(-2,f.Id);if(w==d.Steps.length){if(Jp&&Jp.length>n){var S=Jp[Jp.length-1-n];return b=fs(S.tutorialIndex,S.stepIndex,n+1,r,i,hc.Normal),el("Checking if step "+t+" ("+f.Id+") can be played. reached last step",5,$l),l(b,f.Id)}return l(-2,f.Id)}return el("Checking if step "+t+" ("+f.Id+") can be played. Skipping to: "+w,5,$l),b=fs(e,w,n,r,i,hc.Normal),l(b,f.Id)}return l(-1,f.Id)})}function ps(e,t){return e?t?kc.STEP_STATUS.SkippedNotFound:kc.STEP_STATUS.SkippedByCondition:kc.STEP_STATUS.SupposedToShow}function gs(e,t){if(!e||0==e.length)return!1;for(var n=[],r=void 0,i=!1;e.length>0;){if(r=e.pop(),r.id==t){i=!0;break}n.push(r)}if(n.length>0)for(;n.length>0;)e.push(n.pop());return i}function hs(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.id==t)return!0}return!1}function ms(e,t,n,r,i,o){var a=ul(!0),s=g(n);i&&(s.displayX=!1);var u=Ml.getSiteConfig().BalloonSettings;u=g(u),wmjQuery.extend(u,o);var l=new fn({element:a,forceEmbedBalloonInIframe:!1,positionHelper:D,fixedSize:{width:t,height:0},stepSettings:s,htmlContent:e.htmlContent,text:{title:e.title||"",content:e.text||"",subText:e.subText||""},data:{type:kc.STEP_TYPE.Popup},configuration:u,logger:Ml.Logger,drawer:Ml.getBalloonDrawer(u),siteConfig:Ml.getSiteConfig()});Zp.push(l),l.Show(!1,function(){var e=mtjQuery(l.getBalloonDiv());if(e.removeClass("walkme-custom-step-undefined"),mtjQuery("*",e).removeClass("walkme-custom-step-undefined"),e.removeClass("walkme-custom-walkthru-undefined"),mtjQuery("*",e).removeClass("walkme-custom-walkthru-undefined"),o&&o.surveyId){var t=o.surveyId;e.attr("id","walkme-survey-balloon-"+t)}r(e,u)})}function vs(e){var t=mtjQuery("<div></div>");return e=ln.nl2br(e),t.append(e),t}function ys(e,t){var n=Ml.getSiteConfig(),r=vs(n.SafeStartPopupText),i={popupStepButtons:[{id:0,name:n.RedirectButtonText,action:5},{id:1,name:n.StayButtonText,action:6}]};ms({htmlContent:r},400,i,function(n){Ss(n,e,t)})}function ws(e,t){var n="Sorry about that! The Walk-Thru cannot be played right now. Please try again later",r=bs();r.enabled&&(n+=h(" or contact <a href='{0}' target='_blank' style='text-decoration: underline; color: blue;'>support.</a>",r.url));var i=vs(n),o={popupStepButtons:[{id:0,name:"OK",action:7}]},a=!0;ms({htmlContent:i},400,o,function(e){mtjQuery(".walkme-action-ok",e).click(function(){Ml.releaseBalloons()})},a)}function bs(){var e={};return e.enabled=Ml.getCommonUtils().isTrue(Ml.getSiteConfig().Settings,"openATicketEnabled",!1),e.url=Ml.getCommonUtils().getSettingsValue(Ml.getSiteConfig().Settings,"openATicketUrl",""),e.url&&Ml.getCommonUtils().isValidUrl(e.url)?(e.url=encodeURI(e.url),e.url=Dh(e.url,["&"])):(e.enabled=!1,e.url=null),e}function Ss(e,t,n){mtjQuery(".walkme-action-redirect",e).click(function(){Is(t,jd.RedirectClicked,n)}),mtjQuery(".walkme-action-stay",e).click(function(){Cs(n)}),mtjQuery(".walkme-action-close",e).attr("onclick","").unbind("click"),mtjQuery(".walkme-action-close",e).click(function(){Cs(n)})}function Ts(e,t,n){void 0!=t.Id&&qf.safeStartAudit(e,t),n&&Gp.setWalkmeTimeout(n)}function Is(e,t,n){var r=If[n],i=function(){Es(e,n)};Ts(t,r,i)}function Cs(e){Ts(jd.StayClicked,If[e]),ks()}function Es(e,t){Kp=0,Xp=Fd.WAITING_FOR_REDIRECT,qp=t,Su(),Lu(e,!0),ks()}function ks(){Ml.releaseBalloons()}function _s(e,t){if(la()){var n=e.Steps[t],r={step:n,tutorial:e};Qp("WalkthruFailedToStart",r)}else Ml.showFirstStepNotAvailablePopup(e)}function xs(){if(Ng){for(var e=Ng.length-1;e>=0;e--)Ng[e].cleanResources();Ng=[]}}function Ps(){sf.refreshGetData(),Gp.playSetTimeout(function(){var e=sf.getData(ig,void 0,bu().userGuid);1==e?(el("Other window finished. Resuming walk-thru here."),sf.saveData(ig,0,hf,bu().userGuid),Cu()):Ps()},500)}function Ds(e,t){if("number"==typeof e)return e==t;for(var n=e.split(","),r=0;r<n.length;r++)if(t+""==n[r])return!0;return!1}function As(e){Vg()||Jp.push({tutorialIndex:qp,stepIndex:void 0!=e?e:Kp+1,playGuid:qf._currentPlayGUID,playInitiator:qf._currentPlayInitiator,stepPlayHistory:xg,stepCompletedHistory:Pg,stepPlayStack:Dg})}function Os(e){return If[e]}function Ns(e){var t=Nc(e,function(e){var t=tl(e.TutorialId);el("Check walk-thru: "+e.TutorialId+" ("+t+")");var n=Ml.findElement(e,null,null,'Checking Walk-Thru "'+t+'"');return el(n?"First step found.":"First step not found."),{step:e,element:n}});return t=ph(t,function(e){return e.element}),Nc(t,function(e){return e.step})}function Ms(e){try{el("Multiple branch: Going through all walk-thrus.");var t=Hg(e),n=Ns(t);if(1==n.length)return n[0].TutorialId;if(!(n.length>1))return null;el("can't decide which tutorial to play",5),el(n.length+" walk-thrus match. Cannot choose which walk-thru to start.")}catch(r){Ml.Logger.error(r)}}function Ls(){return Bs(qp,Kp,0)}function Bs(e,t,n){if(If[e].Steps.length>t+1){var r=If[e].Steps[t+1];return r.TutorialIndex=e,r}if(Jp&&Jp.length>n){var i=Jp[Jp.length-1-n];return Bs(i.tutorialIndex,i.stepIndex-1,n+1)}return null}function Fs(){var e=Ls();return null==e?0:e.Delay}function js(e){var t=bu();yp.handleSurveyPlayThroughWalkthru(t,Cc.WalkThruInterrupted,void 0,Ml.executeTutorialNextStep,e)}function Rs(e){return e.Type!=kc.STEP_TYPE.Popup?!1:1==yl(e.Settings,"popup-play-condition",0)}function Us(e){for(var t=0;t<Ef.length;t++)if(Ef[t].Id==e)return Ef[t]}function Gs(e){if(void 0!=Wf[e.Id])return Wf[e.Id];var t=yl(e.Settings,"action",null);return t?(Wf[e.Id]=jl.get("ActionsFactory").get(t.actionType,t.arguments,Rd.STEP,e),Wf[e.Id]):(el("No action core. aborting..."),null)}function Ws(e){var t=e;return xg.length>1&&(t=Xg(xg[xg.length-2],If[qp])),Ds(e.End,fc.NOTHING)||Ds(t.End,fc.NOTHING)}function Vs(e,t){function n(){var n=r();switch(n){case fc.CLICK:el("Self Executed Step - Trigger: Click",3),i.click(t);break;case fc.HOVER:el("Self Executed Step - Trigger: Hover",3),i.hover(t);break;case fc.KEY_PRESSED:el("Self Executed Step - Trigger: Text Input",3),i.text(t,e.Settings.selfExecuteText);break;case fc.SELECT_VALUE:var o=e.Settings.complexHtml&&e.Settings.complexHtml.val;o?(i.select(t,o),el("Self Executed Step - Trigger: Select Value",3)):el("SKIPPED Self Executed Step - Trigger: Select Any - not supported",3);break;default:el("SKIPPED Self Executed Step - Trigger not supprted",3),tg=!1,Ml.executeTutorialNextStep()}}function r(){var t=e.End.split(/,/);return Eu(t[0]==fc.NEXT_BUTTON&&t.length>1?t[1]:t[0])}var i=jl.get("InputGenerator");Gp.libSetTimeout(n,1e3*e.Settings.reactionTime||kc.DEFAULT_REACTION_TIME)}function Qs(e,t){var n,r=t.data("iframe");if(e.Settings.complexHtml){if((e.Settings.complexHtml.type==Tc.TABLE||"table"==e.Settings.complexHtml.type)&&(n=D.findNearestSelfOrParentByType(t,["table"]),e.Settings.complexHtml.settings)){switch(e.Settings.complexHtml.settings.triggerType){case"cell":t=D.findFirstSelfOrChildByType(t,["td","th"])||D.findNearestSelfOrParentByType(t,["td","th"]);break;case"column":t=D.getColumn(t);break;case"row":t=D.findFirstSelfOrChildByType(t,["tr"])||D.findNearestSelfOrParentByType(t,["tr"]);break;case"table":t=D.findNearestSelfOrParentByType(t,["table"])}e.Settings.complexHtml.settings.onTable||(n=void 0)}if(t&&t.length>0)return r&&t.data("iframe",r),{parentElement:n,elements:t}}}function Hs(){if(!uh(xg)||xg.length<2)return!0;for(var e=0;e<xg.length-1;e++){var t=Xg(xg[e],If[qp]);if(!uh(t.Settings.action))return!1}return!0}function zs(){for(var e=Nf.get().StepsInfoText,t=If[qp].Steps,n=0,r=0,i=0;i<t.length;i++)Ys(t[i])&&(n++,Kp>=i&&r++);return Lg("floatingsubtext")?(e=e.replace("{0}",vf+r+yf),e=e.replace("{1}",wf+n+bf)):(e=e.replace("{0}",r),e=e.replace("{1}",n)),e}function Ys(e){return!(e.Type==kc.STEP_TYPE.Action||parseInt(yl(e.Settings,"isInvisible",0))||parseInt(yl(e.Settings,"fake",0)))}function qs(e){var t=Nc(e,qg),n=gh(-1,t);return void 0==n||-1==n}function Ks(e){return yl(e.Settings,Wd,Vd.PLAY_CONDITION)}function Xs(e){var t=yl(e.Settings,"skipStepCond","");if(t.length>0)try{return Ml.evaluateCondition(t)?!1:!0}catch(n){return!0}var r=yl(e.Settings,"PSCTEnabled",0);if(1!=r)return nf.isActionStep(e)&&"never"==yl(e.Settings,"whenToFire","")?!1:!0;var i=yl(e.Settings,"PSCT","");if(""==i)return!0;try{var o=Ml.evaluateConditionTree(i);return Hp("PlayStepCondition",e,{playGUID:qf._currentPlayGUID}),o}catch(n){return!1}}function Js(){return op.isDebuggerOnWindow()}function $s(){return ap.isLoggerActivated()}function Zs(e,t){var n=qg(t);if(n>-1){var r=Xg(e,If[n]);if(r)return r}return null}function eu(e,t){return If[e]&&If[e].Steps[t]?If[e].Steps[t]:void 0}function tu(e,t){for(var n=t.Steps,r=0;r<n.length;r++)if(n[r].Id==e)return n[r];return null}function nu(e,t,n,r,i){Xp=Fd.WAITING_FOR_SPLIT,1!=n&&As(t),$p=e,Rp=r,Su(),Fu(),Ml.resumeSplit(i)}function ru(e,t){for(var n=0;n<t.length;n++)e.unbind(t[n]+".mt");return!1}function iu(e,t){var n=window._walkmeInternals;if(n){var r="LauncherIsShown";e?n.bind(r,t):n.unbind(r,t)}}function ou(e,t){var n=yl(e.Settings,ff,!1);if(n){var r=parseInt(yl(e.Settings,pf,null));if(r==df.soft&&t||e.isContentSecure===!1)return;au(e,r)}}function au(e,t){var n=function(e){var t=e.drawable&&e.drawable.isDrawn();return!e.actionInProgress&&!t},r=function(e){return Ml.showLauncherForSticky(e)};Wp.registerSticky({identifier:e.Id,stickinessType:t,redrawFunction:Ml.getCommonUtils().encloseCall(r,e),shouldDrawFunction:Ml.getCommonUtils().encloseCall(n,e)})}function su(e,t){for(var n=[],r=0;r<e.length;r++)t!=r&&n.push(e[r]);return n}function S(e){var t=[];return wmjQuery.each(e,function(e){t.push(e)}),t}function T(e){var t=[];return wmjQuery.each(e,function(n){t.push(e[n])}),t}function uu(e){var t=e.Settings.action;switch(t.actionType){case"playWt":return null!=sp.getById(parseInt(t.arguments.wtId));case"playContent":return null!=dp.getById(parseInt(t.arguments.contentId));case"playSurvey":return null!=yp.getById(parseInt(t.arguments.surveyId))}return!0}function lu(e,t){e.actionInProgress=!0;var n=Lg("hideLauncherWithoutLink");if(n&&!uu(e))return e.actionInProgress=!1,!1;var r=yl(e.Settings,"PlayLauncherConditionTree",null);return e.element=void 0,"onHover"==e.Settings.displayStyle&&cu(e,t),r?fu(e,t,r):gu(e,t,!0)}function cu(e,t){var n={featureName:ql,elementName:e.Name,jqueryPollingIntervalMs:700,stopPollingAfterEvaluateTrue:!1,stickySonar:!0,trackEvent:"Launcher - Segmentation (Hover)",trackData:ln.getTrackData(e)},r=jl.create("ConditionChecker",n);e.hoverLauncherEvaluator&&e.hoverLauncherEvaluator.cleanResources(),e.hoverLauncherEvaluator=r,r.onValueChanged(function(n){return n?(e.hoverDestroyTimeout&&(e.hoverDestroyTimeout.clear(),e.hoverDestroyTimeout=void 0),gu(e,t,!1)):(e.hoverDestroyTimeout=Gp.libSetTimeout(function(){e.drawable&&e.drawable.isDrawn()&&(e.hoverLauncherEvaluator.getCachedValue()||e.drawable.destroy(function(){e.hoverLauncherEvaluator.cleanResources(),e.hoverLauncherEvaluator=void 0,cu(e,t)}))},750),!1)});var i,o=".walkme-launcher-id-"+e.Id;e.IdentifySettings.IsJquerySelector?i={nodeType:"Or",leftSon:{nodeType:"Func",funcName:"jQueryHoverSwitch",funcArgs:{jQuerySelector:e.IdentifySettings.JquerySelector},nodeDepth:0},rightSon:{nodeType:"Func",funcName:"jQueryHoverSwitch",funcArgs:{jQuerySelector:o},nodeDepth:0},nodeDepth:0}:(identifySettings=du(e.IdentifySettings),i={nodeType:"Or",leftSon:{nodeType:"Func",funcName:"ElementHoverSwitch",funcArgs:{IdentifySettings:identifySettings},nodeDepth:0},rightSon:{nodeType:"Func",funcName:"jQueryHoverSwitch",funcArgs:{jQuerySelector:o},nodeDepth:0},nodeDepth:0}),r.evaluateAsync(i)}function du(e){var t=g(e);return t.Sensitivity=e.StepSensitivity,t.StepSensitivity=void 0,t.IgnoreId=e.IsIgnoreId,t.IsIgnoreId=void 0,t.IgnoreText=e.IsIgnoreText,t.IsIgnoreText=void 0,t}function fu(e,t,n){var r=!0;if(!e.evaluator){var i={featureName:ql,elementName:e.Name,bypassUIChange:!0,trackEvent:"Launcher - Segmentation",trackData:ln.getTrackData(e)},o=jl.create("ConditionChecker",i);e.evaluator=o,o.onValueChanged(function(n){n?r=gu(e,t,!0):e.actionInProgress=!1}),o.evaluateAsync(n)}return e.evaluator.getCachedValue()&&r}function pu(e){var t=Ml.findElement(e.IdentifySettings,null,null,"Launcher - Find Element",ln.getTrackData(e));return t?(e.element=t,!0):!1}function gu(e,t,n){function r(){return e.element?!0:pu(e)}function i(){return n?!0:e.evaluator?e.evaluator.getValue():!0}function o(){return"onHover"!=e.Settings.displayStyle?!0:e.drawable&&e.drawable.isDrawn()?!1:e.hoverLauncherEvaluator.getCachedValue()}return i()&&r()&&o()?hu(e,t):(e.actionInProgress=!1,!1)}function hu(e,t){var n=e.element;if(n&&Lg("jawsAccessibility")){var r=jl.get("jawsAccessibilityUtil");r.launcherAccessibility(e)}var i=yl(e.Settings,"imageObject",""),o=mu(n,i,e);if(o)return e.isContentSecure=!1,el("Launcher ["+e.Id+"] will not be displayed. Launcher URL must be https in secure page",1),Hp("LauncherInsecure",{name:e.Name}),!1;e.isContentSecure=!0,pl(n);var a=lp.getMinClickDelay(e),s="none"!=e.Settings.action.actionType,u=new _n({element:n,settings:e.Settings,identifySettings:e.IdentifySettings,lib:Ml,position:e.Position,launcherId:e.Id,userGuid:e.userGuid,launcherName:e.Name,positionHelper:D,addFunctionality:s,cdnServer:zf,clickAuditManager:xp,delayBetweenClicks:a});e.drawable=u,e.drawable.evaluator=e.evaluator;var l=function(n){return function(){n.show(function(){n.setTimeoutOn(),t&&t(),e.actionInProgress=!1})}}(u);return wu(e,l),!0}function mu(e,t,n){if(void 0===typeof n.isContentSecure)return n.isContentSecure;var r=e[0].ownerDocument.location.href;return yu(r)&&"custom"==t.type?yu(t.data.url)&&vu(t.data.click)&&vu(t.data.hover)?!1:!0:!1}function vu(e){return!e||yu(e)}function yu(e){return/^https/i.test(e)}function wu(e,t){var n=ln.isTrue(e.Settings,"hasDelay",!1);if(n){var r=yl(e.Settings,"delayInSeconds",0);Gp.libSetTimeout(t,1e3*r)}else t()}function bu(){return If[qp]}function Su(){var e=void 0,t=void 0,n=void 0,r=void 0,i=bu(),o=i?i.TutorialId:-1,a=i?i.userGuid:Ip,s=jl.get("InteractionManager").getCurrentInteractionGuid();Xp==Fd.RUNNING||Xp==Fd.WAITING_FOR_PAGE_CHANGE?(e=Kp+1,i.Steps.length<=Kp+1&&(t=1)):Xp==Fd.WAITING_FOR_SPLIT?(e=Kp,n=$p,r=Rp):e=Kp;var u=Tu(o,e,t,n,r,s);sf.saveData(og,u,hf,a)}function Tu(e,t,n,r,i,o){var a={};return a[lg]=e,a[cg]=Xp,a[dg]=t,a[fg]=Ll,a[pg]=qf._currentPlayGUID,a[gg]=qf._currentPlayInitiator,a[hg]=Jp,a[mg]=n,a[vg]=xg,a[ug]=r,a[wg]=i,a[bg]=o,window._testMe&&(a[yg]=Pg),a}function Iu(){for(var e=sa(),t=0;t<e.length;t++){var n=e[t];sf.removeData(og,n)}}function Cu(){el("Restoring cross user state",5);for(var e=sa(),t=0;t<e.length;t++){var n=e[t],r=xu(n);if(r)return n}return!1}function Eu(e,t){return y(e)?parseInt(e,10):t}function ku(e){var t=_u(e),n=eu(t.tutorial,t.step);return n&&(t.isTutorialFinished||t.state!=Fd.WAITING_FOR_ELEMENT_EVENT&&t.state!=Fd.WAITING_FOR_NEXT_BUTTON_CLICK||yl(n.Settings,"sticky",0)||n.IsSkippable||(el("page change happened while waiting for element - pausing walkthru",2),t.state=Fd.PAUSED)),t}function _u(e){var t=sf.getData(og,{},e),n=Eu(t[lg],-1),r={state:Eu(t[cg],Fd.NOT_RUNNING),step:Eu(t[dg],-1),playNum:t[fg]||Ll,tutotrialGUID:t[pg],playInitiator:t[gg],splitPointStack:is(t[hg],[]),isTutorialFinished:is(t[mg],0),stepPlayHistory:is(t[vg],[]),stepCompletedHistory:is(t[yg],[]),tutorial:qg(n),splitTutorialIds:is(t[ug],[]),splitStartFromStepId:is(t[wg],[]),interactionGuid:t[bg]};return r}function xu(e){function t(){Gp.playSetTimeout(function(){_makeTutorial.executeCurrentStep()},1e3*r.Delay)}var n=ku(e);Ll=n.playNum,Jp=n.splitPointStack,xg=n.stepPlayHistory,Pg=n.stepCompletedHistory,qp=n.tutorial,Xp=n.state,Kp=n.step,jl.get("InteractionManager").setCurrentInteractionGuid(n.interactionGuid),n.tutotrialGUID&&(qf._currentPlayGUID=n.tutotrialGUID),qf._currentPlayInitiator=n.playInitiator;var r=eu(qp,Kp);if((Xp==Fd.WAITING_FOR_PAGE_CHANGE||Xp==Fd.PASSING_OWNERSHIP)&&r){Kp--;var i=eu(qp,Kp);i&&(i.playNumber=Ll),Fu(!0),Kp++}if(el("isTutorialFinished: "+n.isTutorialFinished,5),1!=n.isTutorialFinished||Xp!=Fd.RUNNING&&Xp!=Fd.WAITING_FOR_PAGE_CHANGE&&Xp!=Fd.PASSING_OWNERSHIP)if(el("Continue from cookie: currentTutorial: "+qp+" -- currentState: "+Xp+" -- currentStep: "+Kp+" -- currentPlayGUID: "+qf._currentPlayGUID+" -- currentUserGUID: "+e,5),!r||Xp!=Fd.RUNNING&&Xp!=Fd.WAITING_FOR_ELEMENT&&Xp!=Fd.WAITING_FOR_STICKY_ELEMENT&&Xp!=Fd.WAITING_FOR_PAGE_CHANGE&&Xp!=Fd.WAITING_FOR_CONDITION&&Xp!=Fd.PASSING_OWNERSHIP)if(r&&Xp==Fd.WAITING_FOR_REDIRECT)ds(qp,0,!1,qf._currentPlayGUID,qf._currentPlayInitiator);else if(r&&Xp==Fd.WAITING_FOR_OWNERSHIP)_makeTutorial.startNewTutorial(qp,Kp,!1,qf._currentPlayInitiator);else if(!r||Xp!=Fd.WAITING_FOR_ELEMENT_EVENT&&Xp!=Fd.WAITING_FOR_NEXT_BUTTON_CLICK)if(Xp==Fd.WAITING_FOR_SPLIT)$p=n.splitTutorialIds,Rp=n.splitStartFromStepId,Ml.resumeSplit();else{if(Xp!=Fd.PAUSED)return os(),el("Invalid cookie data. Not running tutorial. (userGuid : "+e+")",5),!1;el("Tutorial was paused while restoring state from cookie. This can happen for several reasons when SPA is configured: A trigger for a balloon or wait for conditions has not been fullfilled. Alterntively an autostart is defined with sonar on an element that causes SPA page change. Please define the autostart without sonar.",1),Ml.releaseBalloons(),Zu(),os(),Qp("WalkthruAborted")}else yl(r.Settings,"sticky",0)?(el("Sticky - keep looking for element",5),Xp=Fd.WAITING_FOR_STICKY_ELEMENT,t()):r.IsSkippable&&(bu().Steps.length==Kp+1?Ml.tutorialFinished():(Kp++,Xp=Fd.RUNNING,t()));else t();else Ml.tutorialFinished();return!0}function Pu(e,t){var n=Array();if(!e.Conditions)return n;for(var r=0;r<e.Conditions.length;r++)e.Conditions[r].GroupType==t&&(void 0==e.Conditions[r].IsEnabled||1==e.Conditions[r].IsEnabled)&&n.push(e.Conditions[r]);return n}function Du(e,t){var n=Array();if(!e.Conditions)return n;for(var r=0;r<e.Conditions.length;r++)e.Conditions[r].Type==t&&(void 0==e.Conditions[r].IsEnabled||1==e.Conditions[r].IsEnabled)&&n.push(e.Conditions[r]);return n}function Au(e){return Du(e,Gd.FIRST_STEP_MUST_EXIST).length>0?!0:!1}function Ou(e){for(var t=If[e],n=Du(t,Gd.SKIP_FIRST_STEP),r=0;r<n.length;r++){var i=n[r];if($g(i.Content)){var o=i.ExtraData,a=o?o-1:1;return el("The walk-thru has a skip step condition ("+i.Content+") which is true. Skipping to: "+a),a}}return 0}function Nu(e,t){var n=If[e],r=Du(n,Gd.REDIRECT);return 0==r.length?!1:Mu(r[0],t)}function Mu(e,t){return Lu(e.Content,t)}function Lu(e,t){if(!Ml.getCommonUtils().isValidUrl(e))return!1;e=Dh(e,["&"]);var n=eh(window.location.href),r=Zg(e),i=eh(r);return n==i?!1:(t&&hh(r),Bu(n,i)?!1:!0)}function Bu(e,t){var n=e.split("#"),r=t.split("#");return r.length>1?n.length>1?n[0]==r[0]&&n[1]!=r[1]:n[0]==r[0]:!1}function Fu(e){e=is(e,!0);var t=ol();Hp("StepCompleted",t),Ja(t),e?(qf.auditStep(bu(),t,kc.STEP_STATUS.Performed),ju(t)):qf.auditStep(bu(),t,kc.STEP_STATUS.MovedBack)}function ju(e){var t=yl(e.Settings,"resumeOtherWindow",!1);t&&sf.saveData(ig,1,hf,bu().userGuid)}function Ru(e){return e.Type==kc.STEP_TYPE.Popup&&e.LinkedTutorialIds&&qs(e.LinkedTutorialIds.split(";"))?(nu(e.LinkedTutorialIds.split(";")),!0):!1}function Uu(e,t){mtjQuery(".walkme-action-close, .walkme-action-cancel",e).click(function(e){cs(e)}),mtjQuery(".walkme-action-next, .walkme-action-start",e).click(function(e){Qu()}),mtjQuery(".walkme-action-back",e).click(function(e){Vu()}),mtjQuery(".walkme-action-done",e).click(function(e){Hu()}),mtjQuery(".walkme-custom-bbcode-survey",e).click(function(e){js(Gu(t))}),Ml.bindBBCodeEvents(e,null,t),Lg("stopButtonPropagation")&&e.on("mousedown mouseup click",function(e){e.stopImmediatePropagation()})}function Gu(e){if(!e)return void 0;var t=jl.get("InitiatorTypeToAppTypeMapper").map(e.type);return{objectId:e.objectId,type:Rd.BBCODE,appType:t}}function Wu(e){e.durationHandler&&(e.durationHandler.clear(),e.durationHandler=null)}function Vu(){Qp("BackButtonClicked"),zp("BackButtonClicked");var e=Wg(Kp);Wu(e),Dg.pop();var t=zu(Ag-1);t||(Xp=Fd.RUNNING,Ml.releaseBalloons(function(){Fu(!1),Kp=Ag-1,Ml.executeTutorialNextStep()}))}function Qu(){Qp("NextButtonClicked"),zp("NextButtonClicked");var e=Wg(Kp);Hp("StepWasTriggered",e),Wu(e);var t=zu();t||(Xp=Fd.RUNNING,Ml.releaseBalloons(function(){Ru(e)||(Fu(),Ml.executeTutorialNextStep())}))}function Hu(){Qp("DoneButtonClicked"),zp("DoneButtonClicked");var e=Wg(Kp);if(Hp("StepWasTriggered",e),Wu(e),!Ru(e)){var t=zu();t||(Fu(),Ml.tutorialFinished())}}function zu(e){for(var t,n=0;n<Zp.length;n++)Zp[n].releaseEvents(e)&&(t=!0);return t}function Yu(e,t){if(e){var n=Qs(e,t);n&&(t=n.elements)}return t}function qu(e,t){if(!e)return void(t&&t());var n=mtjQuery("iframe",e);0==n.length?Gp.libSetTimeout(function(){e.remove(),t&&t()},1):(n.attr("src",""),Gp.libSetTimeout(function(){n.hide(),n.remove(),e.remove(),t&&t()},1))}function Ku(e){for(var t=oh(e),n={top:0,left:0},r=0;r<t.length;r++){var i=t[r].offset(),o=ln.getBody(t[r][0].contentWindow.document);n.top+=i.top,n.top-=o.scrollTop||t[r][0].contentWindow.document.documentElement.scrollTop,n.left+=i.left,n.left-=o.scrollLeft||t[r][0].contentWindow.document.documentElement.scrollLeft}return n}function Xu(e){try{if("1.7.1"!=e.jquery)return;var t=e[0].ownerDocument.documentMode;if(7==t||8==t){var n=e.data("iframe");if(n&&"FRAME"==n[0].tagName)return!0}}catch(r){}}function Ju(e,t){if(Xu(e)){var n=e[0].ownerDocument,r=ln.getBody(n);t.top+=r.scrollTop||n.documentElement.scrollTop,t.left+=r.scrollLeft||n.documentElement.scrollLeft}}function $u(e,t){t=wmjQuery.extend({},Tf,t);var n=Ku(e),r=e.offset();n.top+=r.top,n.left+=r.left,Ju(e,n);var i=ah(Lg("fixIframeScroll")?e:mtjQuery(window)),o=Lg("bodyClientHeight")?wmjQuery("body")[0].clientHeight:i.height(),a=i.top()+t.top,s=i.left()+t.left,u=o-t.bottom+(i.top()-0),l=i.width()-t.right+(i.left()-0),c=ih(n.top,n.left+e.width(),n.top+e.height(),n.left,a,l,u,s);return c}function Zu(){Gp.stopTimeoutsArray("playTimeouts"),kg=!1}function el(e,t,n){Ml.Logger.customerLog(e,t,n)}function tl(e){for(var t=0;t<If.length;t++)if(If[t].TutorialId==e)return If[t].Name;return""}function nl(e){Ml.getBodyInheritedMargin=e.profile("getBodyInheritedMargin",Ml.getBodyInheritedMargin),Ml.startNewTutorial=e.profile("startNewTutorial",Ml.startNewTutorial),Yg=e.profile("executeTutorialStep",Yg),Ml.findElement=e.profile("findElement",Ml.findElement);var t=jl.get("ElementsRedrawer");t.profile(e),Ml.evaluateAsync=e.instrument("evaluateAsync",Ml.evaluateAsync)}function rl(){var e="withCredentials"in new XMLHttpRequest;return e}function il(){var e=!1,t=!!window.wm_no_audit,n=!!ln.getWindowCookie("wm-no-audit"),r=Lg("blockJsonp")?rl():!0,i=Ml.getSiteConfig(),o=!!i.Settings&&!!i.Settings.noAuditCond&&$f.evaluate(i.Settings.noAuditCond);return!r||!Vf.get()||Lg("noAudit")||e||t||n||o;
}function ol(){var e=bu();return e&&e.Steps[Kp]}function al(){return rf.get()}function sl(){return Lg("disableWidgetOpenFullUrl")?"":ef.getUrl()}function ul(e){var t=bl();if(0==t.length)return!1;var n=mtjQuery("#walkme-popup-element",t);if(n.length<=0||e){var r="walkme-popup-element";e&&(r+="-"+n.length),n=mtjQuery(t[0].ownerDocument.createElement("div")),n.attr({id:r}),n.css("width","0px;"),n.css("height","0px;"),mtjQuery(t.append(n))}return n.data("iframe",t),n}function ll(e,t){return e.length>=t.length&&e.lastIndexOf(t)+t.length==e.length}function cl(e,t){return 0==e.indexOf(t)}function dl(e){return void 0!=e&&e.length>0}function fl(){this.NumNodeRemove=0,this.NumNodeDiff=0,this.SumNodeDiff=0}function pl(e,t){if(Ml.isWalkMeVisible()){var n=Ml.getCustomCssProp()||"",r=va()||"",i=ma()||"",o=r+i+n;if(dl(o)){var a=ml(e);if(a){var s="wm_custom_css_set";Eg&&a.data(s,!1);var u=a.data(s);return t||!u?(u&&gl(a),hl(o,a,s)):void 0}}}}function gl(e){wmjQuery("#walkme-custom-css",e).remove()}function hl(e,t,n){try{return e=Dh(e,["&",'"',"'",">"]),Ml.ResourceManager.injectCss(e,"walkme-custom-css",t,null,"walkme-player-css"),t.data(n,!0),!0}catch(r){return!1}}function ml(e){if(!e){var t;return Ml.shouldHandlePageAsFramesets()&&(t=wl(wmjQuery(_makeTutorial.getBiggestFrame()))),wmjQuery("head",t)}return Eg||e.data("iframe")?e.parents("html").children("head"):void 0}function vl(e){eg&&eg.clear(),dn.removeOverlay(),qu(xh,e),xh=null}function yl(e,t,n){return ln.getSettingsValue(e,t,n)}function wl(e){var t=e[0];if(void 0==t)return[];var n;try{n=t.contentDocument?t.contentDocument:t.contentWindow?t.contentWindow.document:[],n=mtjQuery(n)}catch(r){ln.handleCrossDomainError(r),n=[]}return n}function bl(e,t){if(window.walkme_get_top_container){var n=window.walkme_get_top_container();if(n)return mtjQuery(n)}var r;return r=e?e.parents("body"):mtjQuery("body"),(0==r.length||"FRAMESET"==Al(r[0]))&&(r=e?e.parents("html"):t||!Ml.shouldHandlePageAsFramesets()?mtjQuery("html"):mtjQuery("body",wl(mtjQuery(Ml.getBiggestFrame())))),r}function Sl(){var e=jl.get("ExternalWalkMeConfig").get("platform"),t="Lib on "+walkme_lib_notify_ServerName+": "+Ml.SVNRevision;return window.walkme_lib_version&&(t+=", Version: "+walkme_lib_version),window.walkme_lib_upload_date&&(t+=", Uploaded On: "+walkme_lib_upload_date),window.walkme_lib_uploader&&(t+=", By: "+walkme_lib_uploader),ef.isQuirksMode()?void el(t,5):void Tl(e,t)}function Tl(e,t){var n=e==kc.PLATFORM.MobileWeb?"height: 26px; width:26px; overflow:hidden;":"",r="<div id='walkme-dev-mode-alert' class='walkme-to-remove' style='z-index: {{{popupBalloonZindex}}}; position: fixed; top: 0; left: 30px; background-color: {{{backgroundColor}}}; font-size: 15px;"+n+" padding:0 4px;'>{{{message}}}</div>";e!==kc.PLATFORM.MobileWeb?Cl(r,t):Il(t)}function Il(e){function t(e){e.target.style.overflow="hidden",e.target.style.height="26px",e.target.style.width="26px"}function n(e){e.target.style.overflow="auto",e.target.style.height="auto",e.target.style.width="auto"}var r="#walkme-dev-mode-alert {-webkit-touch-callout: none;-webkit-user-select: none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;}",i="<style type='text/css'>"+r+"</style>",o=i+"<div id='walkme-dev-mode-alert' class='walkme-to-remove' style='z-index: {{{popupBalloonZindex}}}; position: fixed; top: 0; left: 30px; height: 26px; width:26px; background-color: {{{backgroundColor}}}; font-size: 15px; overflow:hidden; padding:0 4px;'>{{{message}}}</div>";Cl(o,e);var a=mtjQuery("#walkme-dev-mode-alert");a.mouseenter(n),a.mouseleave(t),a.touchstart(n),a.touchend(t)}function Cl(e,t){var n=Dc.to_html(e,{popupBalloonZindex:cf,backgroundColor:El(walkme_lib_notify_ServerName),message:t}),r=bl(null,!0);mtjQuery("#walkme-dev-mode-alert",r).remove(),r.append(n)}function El(e){var t,e=e.toLowerCase();switch(e){case"dev":t="lightblue";break;case"qa":t="red";break;case"test":t="yellow";break;case"local":t="lightgreen";break;default:t="pink"}return t}function kl(){try{if(FB._inCanvas&&FB.Canvas.getPageInfo)return 1==window.walkme_dont_use_fb_scroll?!1:!0}catch(e){return!1}}function _l(e,t,n,r,i,o,a,s){if(void 0==a||null==a)var a={top:0,left:0};n>500&&(n=0);var u=(o-mtjQuery(e).outerHeight())/2+r+a.top,l=(i-mtjQuery(e).outerWidth())/2+n+a.left;u=Math.round(u>0?u:0),l=Math.round(l>0?l:0),Math.abs(u-mtjQuery(e).offset().top)<2&&Math.abs(l-mtjQuery(e).offset().left)<2||(u+="px",l+="px",mtjQuery(e).css({position:"absolute",margin:0}),t?(s=s?s:{duration:400},mtjQuery(e).animate({top:u,left:l},s)):mtjQuery(e).css({top:u,left:l}))}function xl(e,t){FB.Canvas.getPageInfo(function(n){Pl(e,t,n)})}function Pl(e,t,n){_l(e,t,n.scrollLeft,n.scrollTop,mtjQuery(window).width(),n.clientHeight)}function Dl(e){this.evaluate=function(t){function n(t){if("Func"==t.nodeType){var r=e.getFunctionsByLibNameType(t.funcName),i=[];i.push(t.funcArgs);var o=r.apply(this,i);return t.result=o,o}if("And"==t.nodeType){var o=n(t.leftSon)&&n(t.rightSon);return t.result=o,o}if("Or"==t.nodeType){var o=n(t.leftSon)||n(t.rightSon);return t.result=o,o}return!1}return null==t?!0:n(t)}}function Al(e){var t=e.tagName;return t.toUpperCase&&(t=t.toUpperCase()),t}function Ol(e,t,n,r,i){function o(){c=t.get(),f=n.getEndUserId,d=r.error}function a(e){try{if(p||il())return!0;var t=c.Settings.abTesting.testNumber,n=void 0!=window.wm_customData?wm_customData.abTestingData:null;Fp.execute({url:i.get()+"/Statistics/AddAbTestingWidgetVisible",data:{userGuid:Ip,endUserId:f(),testNumber:t,isVisible:e,customDataSerialized:u(n)}})}catch(r){d(r,"Could not report ab testing result to server")}}function s(t,n,r){var i=t+c.Settings.abTesting.testNumber,o=e.getData(i);if(o===!0||o===!1)return o;var a=l(1,100);return o=n>=a,e.saveData(i,o,yc),r&&r(o),o}function l(e,t){return Math.floor(Math.random()*(t-e+1)+e)}var c,d,f,p,g=this,h="wm-absl-",m="wm-abss-";g.shouldLoadWalkme=function(){try{return g.isAbTestingEnabled()?s(h,c.Settings.abTesting.loadPercentage):!0}catch(e){return d(e,"Could not check if Walkme should be loaded according to AB Testing"),!0}},g.shouldShowWidget=function(){try{if(!g.isAbTestingEnabled())return!0;var e=m;return window.walkme_ab_imp_cookie&&(e+=f()+"-"),s(e,c.Settings.abTesting.showPercentage,a)}catch(t){return d(t,"Could not check if widget should be shown according to AB Testing"),!0}},g.isAbTestingEnabled=function(){var e=c.Settings&&c.Settings.abTesting&&parseInt(c.Settings.abTesting.enabled),t=Lg("abtesting")&&e&&!ua()&&!la();return t},g.disableReport=function(){p=!0},o.apply(null,arguments)}function Nl(e){up.clearTaskAndGoalCompletionLocally(Ml.getEndUserGuid(),e)}Ea("libStartInit");var Ml=this,Ll=0,Bl=0;this.MTVersion="1.0",this.SVNRevision="$MasterRev: 24c3e53fb3dbd4af1f08049cf4d9137716f61f81 $",this.LibVersion="1160",this.SpecialRevision="no",window._walkmeInternals=window._walkmeInternals||{};var Fl=window._walkmeInternals.di,jl=window._walkmeInternals.ctx;if(!jl){Fl=function(e){e=e||{},e.version="0.3.3";return e.logger=function(e,t){},e.log=function(t,n,r){n&&(t="[class="+n.name()+"] "+t),e.logger("DI - "+t,r||4)},e.error=function(t,n,r){e.log(t,n,r)},e.createContext=function(){function t(e){for(;e.indexOf(" ")>=0;)e=e.replace(" ","");return e}var n={map:{}};return n.entry=function(e){return n.map[e]},n.register=function(t,r,i){var o=e.entry(t,n).type(r).args(i);return n.map[t]=o,o},n.has=function(e){return null!=n.entry(e)},n.get=function(t,r){return n.has(t)||e.error("Object["+t+"] is not registered"),n.entry(t).getObject(r)},n.create=function(t,r){return n.entry(t).strategy()==e.strategy.singleton&&e.error("Attempt to create singleton object ["+t+"]"),n.has(t)?n.entry(t).create(r):void e.error("Object["+t+"] is not registered")},n.initialize=function(){function t(t){var r=n.entry(t);r?r.initialize()&&r.strategy().initialize()&&n.get(t):e.error("Object["+t+"] is not registered")}return function(e){if(e)t(e);else for(var e in n.map)t(e)}}(),n.clear=function(){this.map={}},n.resolve=function(t){var r=t.load(),i={};return n.eachDependency(t.dependencies(),function(o,a){var s=n.get(o,r);n.ready(s,n.entry(o)),null==s&&e.error("Dependency ["+t.name()+"."+a+"]->["+o+"] can not be satisfied",t),i[a]=s}),i},n.eachDependency=function(n,r){if(n)for(var i=t(n).split(","),o=0;o<i.length;o++){var a=i[o];if(a){var s=e.dependencyExpression(a);try{r(s.name,s.property,o)}catch(u){e.error("An exception was thrown while the DI tried to resolve class '"+s.name+"'. Check the class name, or if it was registred correctly. \r\n inner exception: \r\n"+u.message)}}}},n.ready=function(e,t){var r=t.wasReady();if(t.wasReady(!0),!r){var i=n.createCallback();i&&i(t.name(),e),e&&"function"==typeof e.ready&&e!=window&&e!=window.document&&e!=window.document.body&&(t.wasReady(!0),e.ready.apply(e,t.injector().ready(e,t)||[]))}return e},n.createCallback=function(){var e;return function(t){return 0==arguments.length?e:(e=t,n)}}(),n},e.dependencyExpression=function(e){var t={},n=e,r=e;if(e.indexOf("=")>0){var i=e.split("=");n=i[0],r=i[1]}return t.name=r,t.property=n,t},e.entry=function(t,n){function r(e){s[e]=function(t){return arguments.length?(l[e]=t,s):l[e]}}function i(e,t){return void 0!=t&&s.type(t),s.factory(e),s}function o(e,t){return void 0!=t&&s.dependencies(t),s.load(e),s}var a,s={};s.name=function(){return t};for(var u=["load","wasReady","strategy","injector","type","dependencies","args","factory","initialize"],l={},c=0;c<u.length;c++){var d=u[c];r(d)}return s.depsDictionary=function(e){return arguments.length?(l.depsDictionary=e,s):(l.depsDictionary||s.depsDictionary(n.resolve(s)),l.depsDictionary)},l.strategy=e.defaults.strategy,l.factory=e.defaults.factory,l.injector=e.defaults.injector,l.load=e.defaults.load,l.wasReady=!1,l.initialize=!0,s.create=function(t,r,i){i=i||e.load.recursive;var o=l.strategy.test(a,i);if(r)return o;o&&(t=l.injector.create(t?t:l.args,s,n,i));var u=l.strategy.create(a,l.factory,l.type,t,n,s,i);return n.ready(u,s)},s.getObject=function(e){return s.create(void 0,void 0,e)},s.object=function(e){return arguments.length?(a=e,s):s.create()},s.asFunction=function(t){return i(e.factory.func,t)},s.asInstance=function(t){return i(e.factory.instance,t)},s.asCtor=function(t){return i(e.factory.constructor,t)},s.asSingleton=function(){return s.strategy(e.strategy.singleton)},s.asProto=function(){return s.strategy(e.strategy.proto)},s.injectToCtor=function(){return s.injector(e.injector.ctor)},s.injectToReady=function(){return s.injector(e.injector.ready)},s.injectToProperty=function(){return s.injector(e.injector.property)},s.flatDependencies=function(t){return o(e.load.flat,t)},s.recursiveDependencies=function(t){return o(e.load.recursive,t)},s},e.strategy={proto:{test:function(e,t){return!0&&(!t||t())},initialize:function(){return!1},create:function(e,t,n,r,i,o,a){return e=t(n,r,o),a()&&o.injector().ready(e,o),o.depsDictionary(void 0),o.wasReady(!1),e}},singleton:{test:function(e,t){return!e&&(!t||t())},initialize:function(){return!0},create:function(e,t,n,r,i,o,a){return e||(e=t(n,r,o),o.object(e),o.wasReady(!0),a()&&o.injector().ready(e,o),o.wasReady(!1)),e}}},e.factory={constructor:function(t,n,r){return n instanceof Array?(n.length>30&&e.error("trying to create a class with too many args!",r),new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15],n[16],n[17],n[18],n[19],n[20],n[21],n[22],n[23],n[24],n[25],n[26],n[27],n[28],n[29])):new t(n)},func:function(e,t,n){return t instanceof Array?e.apply(e,t):e(t)},instance:function(e,t,n){return e}},e.injector={property:{create:function(e,t,n){return e},ready:function(e,t){var n=t.depsDictionary();for(var r in n)e[r]=n[r];var i=t.args();void 0==i||n.hasOwnProperty("args")||(e.args=i)}},ready:{create:function(e,t,n){return e},ready:function(e,t){var n=t.args(),r=[],i=t.depsDictionary();if(jl.eachDependency(t.dependencies(),function(e,t,n){r[n]=i[t]}),n){n=n instanceof Array?n:[n];for(var o=0;o<n.length;o++)r.push(n[o])}return r}},ctor:{create:function(e,t,n){var r=[],i=t.depsDictionary();if(n.eachDependency(t.dependencies(),function(e,t,n){r[n]=i[t]}),e){e=e instanceof Array?e:[e];for(var o=0;o<e.length;o++)r.push(e[o])}return r},ready:function(e,t){}}},e.load={flat:function(e,t,n){return!1},recursive:function(e,t,n){return!0}},e.defaults={strategy:e.strategy.singleton,factory:e.factory.constructor,injector:e.injector.ctor,load:e.load.recursive},e}();jl=Fl.createContext(),window._walkmeInternals.ctx=jl,window._walkmeInternals.di=Fl}jl.register("WmInternals").asInstance(window._walkmeInternals),$d=jl.get("WmInternals"),jl.register("LibInitializer").asCtor(e).dependencies("Lib,ServerStorageManager,AbPermutationManager,WalkMeInfo,ConditionTreeEvaluator,CommonUtils,SettingsFile,WmInternals,LanguageManager,WmAjax,WalkmeConfigManager,EventsTrigger,Consts, TimerManager");var Rl=null;this.Init=function(){t(),_walkmeInternals.bind("NewWalkMeLoadTime",t),ef.isIE(7)||la()||jl.get("EventSenderInitializer").init(),Rl.startInitializer()},this.dataFileLoaded=function(){Rl.dataFileLoadedWrapper()};var Ul="uiProperties",Gl="passOwnership",Wl="auditSteps",Vl="goals",Ql="sticky",Hl="balloon",zl="resources",Yl="FramesetsUtils",ql="showLaunchers",Kl="tasks",Xl="content",Jl="hl",$l="stepCheck",Zl="autostart",ec="salesforce",tc="superstep",nc="loadTestMe",rc="changeTracker",ic="limitReporter",oc="wm-ltm",ac=900,sc="wm-tf",uc="dl",lc=1e3,cc=3600,dc={Cookies:"cookies",LocalStorage:"localStorage",IndexedDB:"indexedDB"},fc={NOTHING:0,NEXT_BUTTON:1,CLICK:2,HOVER:3,PAGE_CHANGED:4,KEY_PRESSED:5,DURATION:6,SELECT_ANY:7,SELECT_VALUE:8,SWIPE:9},pc={FreeText:0,RadioButton:1,CheckBox:2},gc={Deactive:0,Active:1,ActiveAndReset:2},hc={Normal:1,Sandbox:2},mc=86400,vc=31536e3,yc=31536e4,wc={display:"block",paddingTop:0,paddingLeft:0,paddingBottom:0,paddingRight:0,marginTop:0,marginLeft:0,marginBottom:0,marginRight:0,verticalAlign:"baseline",borderCollapse:"inherit",backgroundImage:"none",backgroundColor:"transparent",orderSpacing:"1px 1px",lineHeight:"normal",height:"auto",textIndent:"inherit",letterSpacing:"normal",textTransform:"none",outline:"invert none medium",width:"auto",boxShadow:"none",textShadow:"none",borderTopStyle:"none",borderTopWidth:"medium",borderRightStyle:"none",borderRightWidth:"medium",borderBottomStyle:"none",borderBottomWidth:"medium",borderLeftStyle:"none",borderLeftWidth:"medium",position:"static",top:"auto",left:"auto",transition:"none",boxSizing:"content-box",color:"#EB15E2"},bc={Action:0,Close:1,XButton:2},Sc={Console:1,CustomerLogLimit:2,Debugger:3,DebuggerLimit:4,Server:5},Tc={TABLE:1,DROPDOWN:2},Ic={Visible:"visible",Invisible:"invisible",Completed:"completed",Uncompleted:"uncompleted",StrikedOut:"strike-out",Active:"active",Inactive:"inactive",ProgressBar:"progress-bar",Default:"default",Search:"search",SearchProviders:"search-providers",Video:"video",Article:"article",Accessible:"accessible",Phantom:"phantom"},Cc={WalkThruCompleted:0,WalkThruExited:1,Both:2,WalkThruInterrupted:3},Ec={Cookie:0,Var:1};jl.register("Consts").asCtor(n);var kc=jl.get("Consts");jl.register("ExternalWalkMeConfig").asCtor(r).dependencies("Consts"),jl.register("PlatformDI").asCtor(i).dependencies("Consts, ExternalWalkMeConfig");var _c=jl.get("PlatformDI"),xc=function(){function e(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var t=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={},i={compressToEncodedURIComponent:function(e){return null==e?"":i._compress(e,6,function(e){return n.charAt(e)})},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),i._decompress(t.length,32,function(r){return e(n,t.charAt(r))}))},compress:function(e){return i._compress(e,16,function(e){return t(e)})},_compress:function(e,t,n){if(null==e)return"";var r,i,o,a={},s={},u="",l="",c="",d=2,f=3,p=2,g=[],h=0,m=0;for(o=0;o<e.length;o+=1)if(u=e.charAt(o),Object.prototype.hasOwnProperty.call(a,u)||(a[u]=f++,s[u]=!0),l=c+u,Object.prototype.hasOwnProperty.call(a,l))c=l;else{if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(r=0;p>r;r++)h<<=1,m==t-1?(m=0,g.push(n(h)),h=0):m++;for(i=c.charCodeAt(0),r=0;8>r;r++)h=h<<1|1&i,m==t-1?(m=0,g.push(n(h)),h=0):m++,i>>=1}else{for(i=1,r=0;p>r;r++)h=h<<1|i,m==t-1?(m=0,g.push(n(h)),h=0):m++,i=0;for(i=c.charCodeAt(0),r=0;16>r;r++)h=h<<1|1&i,m==t-1?(m=0,g.push(n(h)),h=0):m++,i>>=1}d--,0==d&&(d=Math.pow(2,p),p++),delete s[c]}else for(i=a[c],r=0;p>r;r++)h=h<<1|1&i,m==t-1?(m=0,g.push(n(h)),h=0):m++,i>>=1;d--,0==d&&(d=Math.pow(2,p),p++),a[l]=f++,c=String(u)}if(""!==c){if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(r=0;p>r;r++)h<<=1,m==t-1?(m=0,g.push(n(h)),h=0):m++;for(i=c.charCodeAt(0),r=0;8>r;r++)h=h<<1|1&i,m==t-1?(m=0,g.push(n(h)),h=0):m++,i>>=1}else{for(i=1,r=0;p>r;r++)h=h<<1|i,m==t-1?(m=0,g.push(n(h)),h=0):m++,i=0;for(i=c.charCodeAt(0),r=0;16>r;r++)h=h<<1|1&i,m==t-1?(m=0,g.push(n(h)),h=0):m++,i>>=1}d--,0==d&&(d=Math.pow(2,p),p++),delete s[c]}else for(i=a[c],r=0;p>r;r++)h=h<<1|1&i,m==t-1?(m=0,g.push(n(h)),h=0):m++,i>>=1;d--,0==d&&(d=Math.pow(2,p),p++)}for(i=2,r=0;p>r;r++)h=h<<1|1&i,m==t-1?(m=0,g.push(n(h)),h=0):m++,i>>=1;for(;;){if(h<<=1,m==t-1){g.push(n(h));break}m++}return g.join("")},decompress:function(e){return null==e?"":""==e?null:i._decompress(e.length,32768,function(t){return e.charCodeAt(t)})},_decompress:function(e,n,r){var i,o,a,s,u,l,c,d,f=[],p=4,g=4,h=3,m="",v=[],y={val:r(0),position:n,index:1};for(o=0;3>o;o+=1)f[o]=o;for(s=0,l=4,c=1;c!=l;)u=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(u>0?1:0)*c,c<<=1;switch(i=s){case 0:for(s=0,l=256,c=1;c!=l;)u=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(u>0?1:0)*c,c<<=1;d=t(s);break;case 1:for(s=0,l=65536,c=1;c!=l;)u=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(u>0?1:0)*c,c<<=1;d=t(s);break;case 2:return""}for(f[3]=d,a=d,v.push(d);;){if(y.index>e)return"";for(s=0,l=Math.pow(2,h),c=1;c!=l;)u=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(u>0?1:0)*c,c<<=1;switch(d=s){case 0:for(s=0,l=256,c=1;c!=l;)u=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(u>0?1:0)*c,c<<=1;f[g++]=t(s),d=g-1,p--;break;case 1:for(s=0,l=65536,c=1;c!=l;)u=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(u>0?1:0)*c,c<<=1;f[g++]=t(s),d=g-1,p--;break;case 2:return v.join("")}if(0==p&&(p=Math.pow(2,h),h++),f[d])m=f[d];else{if(d!==g)return null;m=a+a.charAt(0)}v.push(m),f[g++]=a+m.charAt(0),p--,a=m,0==p&&(p=Math.pow(2,h),h++)}}};return i}();jl.register("Compressor").asInstance(xc);var Pc={};!function(e,t){function n(e){return String(null===e||void 0===e?"":e)}function r(e){return e=n(e),l.test(e)?e.replace(i,"&amp;").replace(o,"&lt;").replace(a,"&gt;").replace(s,"&#39;").replace(u,"&quot;"):e}e.Template=function(e,n,r,i){this.r=e||this.r,this.c=r,this.options=i,this.text=n||"",this.buf=t?[]:""},e.Template.prototype={r:function(e,t,n){return""},v:r,t:n,render:function(e,t,n){return this.ri([e],t||{},n)},ri:function(e,t,n){return this.r(e,t,n)},rp:function(e,t,n,r){var i=n[e];return i?(this.c&&"string"==typeof i&&(i=this.c.compile(i,this.options)),i.ri(t,n,r)):""},rs:function(e,t,n){var r=e[e.length-1];if(!c(r))return void n(e,t,this);for(var i=0;i<r.length;i++)e.push(r[i]),n(e,t,this),e.pop()},s:function(e,t,n,r,i,o,a){var s;return c(e)&&0===e.length?!1:("function"==typeof e&&(e=this.ls(e,t,n,r,i,o,a)),s=""===e||!!e,!r&&s&&t&&t.push("object"==typeof e?e:t[t.length-1]),s)},d:function(e,t,n,r){var i=e.split("."),o=this.f(i[0],t,n,r),a=null;if("."===e&&c(t[t.length-2]))return t[t.length-1];for(var s=1;s<i.length;s++)o&&"object"==typeof o&&i[s]in o?(a=o,o=o[i[s]]):o="";return r&&!o?!1:(r||"function"!=typeof o||(t.push(a),o=this.lv(o,t,n),t.pop()),o)},f:function(e,t,n,r){for(var i=!1,o=null,a=!1,s=t.length-1;s>=0;s--)if(o=t[s],o&&"object"==typeof o&&e in o){i=o[e],a=!0;break}return a?(r||"function"!=typeof i||(i=this.lv(i,t,n)),i):r?!1:""},ho:function(e,t,n,r,i){var o=this.c,a=this.options;a.delimiters=i;var r=e.call(t,r);return r=null==r?String(r):r.toString(),this.b(o.compile(r,a).render(t,n)),!1},b:t?function(e){this.buf.push(e)}:function(e){this.buf+=e},fl:t?function(){var e=this.buf.join("");return this.buf=[],e}:function(){var e=this.buf;return this.buf="",e},ls:function(e,t,n,r,i,o,a){var s=t[t.length-1],u=null;if(!r&&this.c&&e.length>0)return this.ho(e,s,n,this.text.substring(i,o),a);if(u=e.call(s),"function"==typeof u){if(r)return!0;if(this.c)return this.ho(u,s,n,this.text.substring(i,o),a)}return u},lv:function(e,t,r){var i=t[t.length-1],o=e.call(i);return"function"==typeof o&&(o=n(o.call(i)),this.c&&~o.indexOf("{{"))?this.c.compile(o,this.options).render(i,r):n(o)}};var i=/&/g,o=/</g,a=/>/g,s=/\'/g,u=/\"/g,l=/[&<>\"\']/,c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}(Pc),function(e){function t(e){"}"===e.n.substr(e.n.length-1)&&(e.n=e.n.substring(0,e.n.length-1))}function n(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}function r(e,t,n){if(t.charAt(n)!=e.charAt(0))return!1;for(var r=1,i=e.length;i>r;r++)if(t.charAt(n+r)!=e.charAt(r))return!1;return!0}function i(e,t,n,r){for(var s=[],u=null,l=null;e.length>0;)if(l=e.shift(),"#"==l.tag||"^"==l.tag||o(l,r))n.push(l),l.nodes=i(e,l.tag,n,r),s.push(l);else{if("/"==l.tag){if(0===n.length)throw new Error("Closing tag without opener: /"+l.n);if(u=n.pop(),l.n!=u.n&&!a(l.n,u.n,r))throw new Error("Nesting error: "+u.n+" vs. "+l.n);return u.end=l.i,s}s.push(l)}if(n.length>0)throw new Error("missing closing tag: "+n.pop().n);return s}function o(e,t){for(var n=0,r=t.length;r>n;n++)if(t[n].o==e.n)return e.tag="#",!0}function a(e,t,n){for(var r=0,i=n.length;i>r;r++)if(n[r].c==e&&n[r].o==t)return!0}function s(e){return e.replace(b,"\\\\").replace(v,'\\"').replace(y,"\\n").replace(w,"\\r")}function u(e){return~e.indexOf(".")?"d":"f"}function l(e){for(var t="",n=0,r=e.length;r>n;n++){var i=e[n].tag;"#"==i?t+=c(e[n].nodes,e[n].n,u(e[n].n),e[n].i,e[n].end,e[n].otag+" "+e[n].ctag):"^"==i?t+=d(e[n].nodes,e[n].n,u(e[n].n)):"<"==i||">"==i?t+=f(e[n]):"{"==i||"&"==i?t+=p(e[n].n,u(e[n].n)):"\n"==i?t+=h('"\\n"'+(e.length-1==n?"":" + i")):"_v"==i?t+=g(e[n].n,u(e[n].n)):void 0===i&&(t+=h('"'+s(e[n])+'"'))}return t}function c(e,t,n,r,i,o){return"if(_.s(_."+n+'("'+s(t)+'",c,p,1),c,p,0,'+r+","+i+',"'+o+'")){_.rs(c,p,function(c,p,_){'+l(e)+"});c.pop();}"}function d(e,t,n){return"if(!_.s(_."+n+'("'+s(t)+'",c,p,1),c,p,1,0,0,"")){'+l(e)+"};"}function f(e){return'_.b(_.rp("'+s(e.n)+'",c,p,"'+(e.indent||"")+'"));'}function p(e,t){return"_.b(_.t(_."+t+'("'+s(e)+'",c,p,0)));'}function g(e,t){return"_.b(_.v(_."+t+'("'+s(e)+'",c,p,0)));'}function h(e){return"_.b("+e+");"}var m=/\S/,v=/\"/g,y=/\n/g,w=/\r/g,b=/\\/g,S={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};e.scan=function(e,i){function o(){v.length>0&&(y.push(new String(v)),v="")}function a(){for(var e=!0,t=T;t<y.length;t++)if(e=y[t].tag&&S[y[t].tag]<S._v||!y[t].tag&&null===y[t].match(m),!e)return!1;return e}function s(e,t){if(o(),e&&a())for(var n,r=T;r<y.length;r++)y[r].tag||((n=y[r+1])&&">"==n.tag&&(n.indent=y[r].toString()),y.splice(r,1));else t||y.push({tag:"\n"});w=!1,T=y.length}function u(e,t){var r="="+C,i=e.indexOf(r,t),o=n(e.substring(e.indexOf("=",t)+1,i)).split(" ");return I=o[0],C=o[1],i+r.length-1}var l=e.length,c=0,d=1,f=2,p=c,g=null,h=null,v="",y=[],w=!1,b=0,T=0,I="{{",C="}}";for(i&&(i=i.split(" "),I=i[0],C=i[1]),b=0;l>b;b++)p==c?r(I,e,b)?(--b,o(),p=d):"\n"==e.charAt(b)?s(w):v+=e.charAt(b):p==d?(b+=I.length-1,h=S[e.charAt(b+1)],g=h?e.charAt(b+1):"_v","="==g?(b=u(e,b),p=c):(h&&b++,p=f),w=b):r(C,e,b)?(y.push({tag:g,n:n(v),otag:I,ctag:C,i:"/"==g?w-C.length:b+I.length}),v="",b+=C.length-1,p=c,"{"==g&&("}}"==C?b++:t(y[y.length-1]))):v+=e.charAt(b);return s(w,!0),y},e.generate=function(t,n,r){var i='var _=this;_.b(i=i||"");'+l(t)+"return _.fl();";return r.asString?"function(c,p,i){"+i+";}":new e.Template(new Function("c","p","i",i),n,e,r)},e.parse=function(e,t,n){return n=n||{},i(e,"",[],n.sectionTags||[])},e.cache={},e.compile=function(e,t){t=t||{};var n=e+"||"+!!t.asString,r=this.cache[n];return r?r:(r=this.generate(this.parse(this.scan(e,t.delimiters),e,t),e,t),this.cache[n]=r)}}(Pc),function(e){e.to_html=function(t,n,r){var i=t;return"string"==typeof i?i=this.compile(t):"function"==typeof i&&(i=new e.Template(i)),i.render(n,r)}}(Pc);var Dc=Pc;jl.register("Mustache").asInstance(Pc),jl.register("WalkmeOOP").asCtor(o).asProto();var Ac=/["\\\x00-\x1f\x7f-\x9f]/g,Oc={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},Nc=function(e,t){for(var n=[],r=0;r<e.length;r++)n.push(t(e[r]));return n};jl.register("GeneralUtils").asInstance({getDictionaryKeys:S,reduce:m,map:Nc});var Mc=function(){function e(e,t){this.parent=e,this.key=t,this.children=[],this.templateIndex=null,this.links=[]}function t(e,n){var r,i,o,a;if(null!==n&&"object"==typeof n)if("[object Array]"===Object.prototype.toString.apply(n))for(r=[],i=0;i<n.length;i++)r.push(t(e,n[i]));else{a=e,r={"":[]};for(o in n)Object.hasOwnProperty.call(n,o)&&(a=a.follow(o),r[""].push(t(e,n[o])));a.links.push(r)}else r=n;return r}function n(e){var t,n,r,i,o,a,s=[],u=[];e.templateIndex=0;for(o in e.children)Object.hasOwnProperty.call(e.children,o)&&u.push(e.children[o]);for(;u.length>0;){t=u.shift(),a=0;for(o in t.children)Object.hasOwnProperty.call(t.children,o)&&(u.push(t.children[o]),a+=1);if(a>1||t.links.length>0){for(n=[],r=t;null===r.templateIndex;)n.unshift(r.key),r=r.parent;for(n.unshift(r.templateIndex),s.push(n),t.templateIndex=s.length,i=0;i<t.links.length;i++)t.links[i][""].unshift(t.templateIndex)}}return s}function r(r){var i,o,a;return i=new e(null,""),a=t(i,r),o=n(i),o.length>0?u({f:"cjson",t:o,v:a},null,null):u(r)}function i(e,t){for(var n=[];t>0;)n=e[t-1].slice(1).concat(n),t=e[t-1][0];return n}function o(e,t){var n,r,a;if(null!==t&&"object"==typeof t)if("[object Array]"===Object.prototype.toString.apply(t))for(n=[],r=0;r<t.length;r++)n.push(o(e,t[r]));else for(n={},a=i(e,t[""][0]),r=0;r<a.length;r++){var s=o(e,t[""][r+1]);null!==s&&void 0!==s&&(n[a[r]]=s)}else n=t;return n}function a(e){var t=l(e);return null!==t&&"object"==typeof t&&"f"in t&&"cjson"===t.f?o(t.t,t.v):t}return e.prototype.follow=function(t){return t in this.children?this.children[t]:(this.children[t]=new e(this,t),this.children[t])},{stringify:r,parse:a}}();jl.register("CJson").asInstance(Mc),jl.register("Logger").asCtor(E).dependencies("CookiesManager, HostData, Lib"),jl.register("WalkMeInfo").asCtor(k).dependencies("EndUsersManager,AbCurrentPermutationProvider,LanguageManager,GetAuditSource,GetAnalyticsCustomFields,GetUserGuid"),jl.register("WalkmeLoader").asCtor(_).dependencies("Lib, WalkmeConfigManager, Consts, TimerManager"),jl.register("SettingsFile").asCtor(x),jl.register("CookiesManager").dependencies("logger=Logger").injectToProperty().asCtor(P),jl.register("PositionHelper").asCtor(D).dependencies("Lib, UiUtils, Logger, CommonUtils"),jl.register("StorageResourceManager").asCtor(A).dependencies("SettingsFile, CommonUtils, win"),jl.register("HiddenIframeProxy").asCtor(O).asProto().dependencies("CommonUtils"),jl.register("CookiesStorageManager").asCtor(N).asProto().dependencies("CookiesManager,TimerManager,Consts"),jl.register("ExtensionStorageManager").asCtor(M).asProto().dependencies("TimerManager, Logger"),jl.register("WalkMejStorageManager").asCtor(B).asProto().dependencies("CommonUtils"),jl.register("StorageManagerFactory").asCtor(F).dependencies("StorageManagerFactoryParams, SettingsFile, FeaturesManager, Logger, HostData, CommonUtils, Consts"),jl.register("StringCache").asCtor(R).asProto(),jl.register("AjaxProxyIframeManager").asCtor(U).dependencies("CommonUtils");var Lc=function(){function e(){}return e.prototype.on=function(e,t){},e.prototype.once=function(e,t){},e.prototype.off=function(e,t){},e}(),Bc=function(){function e(){}return e.prototype.async=function(e,t,n,r){n&&n()},e.prototype.sync=function(e,t,n){return n},e}();jl.register("EventsListener").asFunction(function(e){return e.events&&e.events.listener?e.events.listener:new Lc}).dependencies("WmInternals"),jl.register("EventsTrigger").asFunction(function(e){return e.events&&e.events.trigger?e.events.trigger:new Bc}).dependencies("WmInternals"),jl.get("EventsTrigger").sync("DICreated",jl),jl.register("DataEncoderFactory").asCtor(H).dependencies("SettingsFile"),jl.register("MalformedStorageDataPetaSender").asCtor(z).dependencies("Lib, EndUsersManager, WmAjax, AbCurrentPermutationProvider,CommonUtils, AuditSourceManager, HostData"),jl.register("GoalsCompletedPetaSender").asCtor(Y).dependencies("Lib, EndUsersManager, WmAjax, AbCurrentPermutationProvider,CommonUtils, AuditSourceManager, HostData"),jl.register("CommonEvents").asCtor(q).dependencies("Logger").asSingleton(),jl.register("TimerManager").asCtor(K).asSingleton().dependencies("CommonEvents"),function(){var e="mt",t=0,n={0:X,1:$,2:J};jl.has("DataMinifier")||jl.register("DataMinifier").asFunction(function(r,i,o,a){function s(){var r=o.getStorageType(),i=r&&r[e];return n[i||t]}var u=s();return new u(r,i,a)}).dependencies("Compressor,CommonUtils,SettingsFile,Logger")}(),jl.register("TypedDataSender").asCtor(Z).asProto(),jl.register("ServerDataSenderManager").asCtor(ee).dependencies("Lib,Logger,RecorderServerManager,ServerDataSenderManagerParams,ClientStorageManager,WmAjax,FeaturesManager,TimerManager"),jl.register("WmAjax").asCtor(te).dependencies("CommonEvents, FeaturesManager, CommonUtils"),jl.register("PetaLogger").asCtor(ne).dependencies("WmAjax,HostData, WalkMeInfo");var Fc;!function(e){var t=function(){function e(e,t){this.callback=t,this.timeoutMs=e}return e.prototype.start=function(){var e=this;this.enabled||(this.enabled=!0,this.timerHandle=jl.get("TimerManager").setWalkmeTimeout(function(){e.onTick()},this.timeoutMs))},e.prototype.onTick=function(){this.enabled=!1,this.callback()},e.prototype.stop=function(){clearTimeout(this.timerHandle),this.enabled=!1},e.prototype.restart=function(){this.stop(),this.start()},e.prototype.isEnabled=function(){return this.enabled},e}();e.SimpleTimer=t,function(e){e[e.Chrome=6]="Chrome"}(e.BrowserConnectionLimit||(e.BrowserConnectionLimit={}));e.BrowserConnectionLimit}(Fc||(Fc={}));var Fc;!function(e){var t;!function(t){var n=function(){function t(t){this.maxConnections=e.BrowserConnectionLimit.Chrome,this.postEventAction=t.postEventAction,this.healthCheckAction=t.healthCheckAction,this.allocateImages()}return t.prototype.getChannelType=function(){return"ImageChannel"},t.prototype.getChannelMethod=function(){return"GET"},t.prototype.setBaseUrl=function(e){this.baseUrl=e},t.prototype.getBaseUrl=function(){return this.baseUrl},t.prototype.getPostEventUrl=function(){if(!this.baseUrl)throw new Error("No base url provided for post event");return this.baseUrl+this.postEventAction},t.prototype.getHealthCheckUrl=function(){if(!this.baseUrl)throw new Error("No base url provided for health check");return this.baseUrl+this.healthCheckAction},t.prototype.getLineBreak=function(){return"\n"},t.prototype.checkHealth=function(){wmjQuery.get(this.getHealthCheckUrl())},t.prototype.send=function(e,t,n){var r=this,i=encodeURIComponent(e),o=this.assertFree();o.attr(this.getBusyFlag(),"true");var a=this.getPostEventUrl()+"?"+this.getURLQueryParamKey()+"="+i;o.load(function(){o.unbind("load"),o.attr(r.getBusyFlag(),"false"),r.whenFreeCallback&&r.whenFreeCallback(),t&&t(),r.successCallback&&r.successCallback()}).error(function(){n&&n(null,null,null),r.failCallback&&r.failCallback(null,null,null)}),o.attr("src",a)},t.prototype.isInitialized=function(){return!!this.baseUrl},t.prototype.isAvailable=function(){var e=this.getFreeImg();return null!==e},t.prototype.isIdle=function(){for(var e=0;e<this.images.length;e++)if(!this.isImageFree(this.images[e]))return!1;
return!0},t.prototype.withinSizeLimit=function(e){return e<=this.maxPacketSize()},t.prototype.estimateDataSize=function(e){return encodeURIComponent(e).length},t.prototype.maxPacketSize=function(){var e="?"+this.getURLQueryParamKey()+"=";return this.getMaxUrlSize()-this.getPostEventUrl().length-e.length},t.prototype.channelBandwidth=function(){return e.BrowserConnectionLimit.Chrome*this.maxPacketSize()},t.prototype.whenFree=function(e){this.whenFreeCallback=e},t.prototype.fail=function(e){this.failCallback=e},t.prototype.success=function(e){this.successCallback=e},t.prototype.getFreeImg=function(){for(var e=0;e<this.images.length;e++)if(this.isImageFree(this.images[e]))return this.images[e];return null},t.prototype.isImageFree=function(e){return"false"===e.attr(this.getBusyFlag())},t.prototype.allocateImages=function(){this.images=[];for(var e=0;e<this.maxConnections;e++){var t=this.createImage();this.images.push(t)}},t.prototype.createImage=function(){var e=wmjQuery("<img/>");return e.css("width","1px"),e.css("height","1px"),e.attr(this.getBusyFlag(),"false"),e},t.prototype.getMaxUrlSize=function(){return 2048},t.prototype.getBusyFlag=function(){return"_WM_BUSY_"},t.prototype.getURLQueryParamKey=function(){return"ed"},t.prototype.assertFree=function(){var e=this.getFreeImg();if(!e)throw"Channel is at max capacity. Can't send anymore data.";return e},t.prototype.getCurrentImages=function(){return this.images.slice(0)},t.prototype.dispose=function(){for(var e=0;e<this.images.length;e++)this.images[e].remove()},t}();t.ImageChannel=n}(t=e.Channels||(e.Channels={}))}(Fc||(Fc={}));var Fc;!function(e){var t;!function(t){var n=function(){function t(t){this.maxConnections=e.BrowserConnectionLimit.Chrome,this.currentOpenConnections=0,this.postEventAction=t.postEventAction,this.healthCheckAction=t.healthCheckAction,this.requestTimeoutMs=t.requestTimeoutMs}return t.prototype.getChannelType=function(){return"AjaxChannel"},t.prototype.getChannelMethod=function(){return"POST"},t.prototype.setBaseUrl=function(e){this.baseUrl=e},t.prototype.getBaseUrl=function(){return this.baseUrl},t.prototype.getPostEventUrl=function(){if(!this.baseUrl)throw new Error("No base url provided for post event");return this.baseUrl+this.postEventAction},t.prototype.getHealthCheckUrl=function(){if(!this.baseUrl)throw new Error("No base url provided for health check");return this.baseUrl+this.healthCheckAction},t.prototype.getLineBreak=function(){return"\n"},t.prototype.checkHealth=function(){wmjQuery.get(this.getHealthCheckUrl())},t.prototype.send=function(e,t,n){if(!this.isAvailable())throw"Channel is at max capacity. Can't send anymore data.";var r=this;this.currentOpenConnections++;var i=Fp.execute({url:this.getPostEventUrl(),data:e,contentType:"text/plain",type:"POST",dataType:"html",timeout:this.requestTimeoutMs||2e3});i.success(function(e){t&&t(),r.successCallback&&r.successCallback(),r.singleLinkFree()}),i.error(function(e,t,i){n&&n(e,t,i),r.failCallback&&r.failCallback(e,t,i),r.singleLinkFree()})},t.prototype.isInitialized=function(){return!!this.baseUrl},t.prototype.isAvailable=function(){var e=this.currentOpenConnections<this.maxConnections;return e},t.prototype.isIdle=function(){return 0===this.currentOpenConnections},t.prototype.withinSizeLimit=function(e){return e<=this.maxPacketSize()},t.prototype.estimateDataSize=function(e){return e.length},t.prototype.maxPacketSize=function(){return 9e3},t.prototype.channelBandwidth=function(){return e.BrowserConnectionLimit.Chrome*this.maxPacketSize()},t.prototype.whenFree=function(e){this.whenFreeCallback=e},t.prototype.fail=function(e){this.failCallback=e},t.prototype.success=function(e){this.successCallback=e},t.prototype.singleLinkFree=function(){this.currentOpenConnections--,this.whenFreeCallback&&this.whenFreeCallback()},t}();t.AjaxChannel=n}(t=e.Channels||(e.Channels={}))}(Fc||(Fc={}));var Fc;!function(e){var t;!function(e){!function(e){e[e.PostNativeCors=0]="PostNativeCors",e[e.GetImage=1]="GetImage",e[e.PostIECorsPlugin=2]="PostIECorsPlugin"}(e.CompatibilityChannelMode||(e.CompatibilityChannelMode={}));var t=e.CompatibilityChannelMode,n=function(){function n(t){var n=this;this.config=t,this.sendFn=function(i,o,a){var s=!1,u=function(r,i,o){if(!s){s=!0;var u=new e.ImageChannel(t);u.setBaseUrl(n.underlyingChannel.getBaseUrl()),n.underlyingChannel=u,a&&a(r,i,o)}};try{r(i,o,function(e,t,n){u(e,t,n)})}catch(l){u(null,null,null)}n.sendFn=r};var r=function(e,t,r){n.underlyingChannel.send(e,t,r)}}return n.prototype.getChannelType=function(){return"CompatibilityChannel."+this.underlyingChannel.getChannelType()},n.prototype.getChannelMethod=function(){return t[this.mode]},n.prototype.getBaseUrl=function(){return this.underlyingChannel.getBaseUrl()},n.prototype.setBaseUrl=function(e){var t=this.checkCompatibility(),n=new RegExp("^(//|"+location.protocol+")","i"),r=n.test(e),i=this.pickChannel(t,this.config,r);i.setBaseUrl(e),this.underlyingChannel=i},n.prototype.getPostEventUrl=function(){return this.underlyingChannel.getPostEventUrl()},n.prototype.getHealthCheckUrl=function(){return this.underlyingChannel.getHealthCheckUrl()},n.prototype.getLineBreak=function(){return this.underlyingChannel.getLineBreak()},n.prototype.checkHealth=function(){wmjQuery.get(this.underlyingChannel.checkHealth())},n.prototype.send=function(e,t,n){this.sendFn(e,t,n)},n.prototype.isInitialized=function(){return!!this.underlyingChannel&&this.underlyingChannel.isInitialized()},n.prototype.isAvailable=function(){return this.underlyingChannel.isAvailable()},n.prototype.isIdle=function(){return this.underlyingChannel.isIdle()},n.prototype.withinSizeLimit=function(e){return this.underlyingChannel.withinSizeLimit(e)},n.prototype.estimateDataSize=function(e){return this.underlyingChannel.estimateDataSize(e)},n.prototype.maxPacketSize=function(){return this.underlyingChannel.maxPacketSize()},n.prototype.channelBandwidth=function(){return this.underlyingChannel.channelBandwidth()},n.prototype.whenFree=function(e){this.underlyingChannel.whenFree(e)},n.prototype.fail=function(e){this.underlyingChannel.fail(e)},n.prototype.success=function(e){this.underlyingChannel.success(e)},n.prototype.pickChannel=function(n,r,i){switch(this.mode=n,n){case t.PostIECorsPlugin:return i?new e.AjaxChannel(r):new e.ImageChannel(r);case t.PostNativeCors:return new e.AjaxChannel(r);case t.GetImage:return new e.ImageChannel(r)}},n.prototype.checkCompatibility=function(){return void 0!==(new XMLHttpRequest).withCredentials?t.PostNativeCors:"undefined"!=typeof window.XDomainRequest?t.PostIECorsPlugin:t.GetImage},n}();e.CompatibilityChannel=n}(t=e.Channels||(e.Channels={}))}(Fc||(Fc={}));var Fc;!function(e){var t;!function(e){var t=function(){function e(e){this.buffer=[],this.reduceFn=e.reduce}return e.prototype.getStorageType=function(){return"ArrayBuffer"},e.prototype.push=function(e){this.buffer.push(e)},e.prototype.pull=function(){var e=this.buffer.shift();return e},e.prototype.peek=function(){var e=this.buffer[0];return e},e.prototype.count=function(){return this.buffer.length},e.prototype.clear=function(){this.buffer=[]},e.prototype.dataSize=function(){var e=this.reduceFn(this.buffer,function(e,t){return e+t.length},0);return e},e.prototype.isEmpty=function(){return 0===this.count()},e.prototype.getRawData=function(){return this.buffer},e.prototype.set=function(e){this.pushAll(e)},e.prototype.pushAll=function(e){if(wmjQuery.isArray(e))for(var t=0,n=e.length;n>t;t++)this.push(e[t])},e.prototype.pullAll=function(){var e=this.buffer;return this.clear(),e},e}();e.ArrayBuffer=t}(t=e.Storage||(e.Storage={}))}(Fc||(Fc={}));var Fc;!function(e){var t;!function(e){var t=function(){function e(e){this.buffer={},this.runningId=0,this.getDictionaryKeys=e.getDictionaryKeys}return e.prototype.getStorageType=function(){return"DictionaryBuffer"},e.prototype.generateId=function(){return""+ ++this.runningId},e.prototype.push=function(e){var t=this.generateId();return this.buffer[t]=e,t},e.prototype.pull=function(e){var t=this.buffer[e];return delete this.buffer[e],t},e.prototype.peek=function(e){return this.buffer[e]},e.prototype.count=function(){return this.getAllIds().length},e.prototype.clear=function(){this.buffer={}},e.prototype.dataSize=function(){var e=0;for(var t in this.buffer)this.buffer.hasOwnProperty(t)&&(e+=this.buffer[t].length);return e},e.prototype.isEmpty=function(){return 0===this.count()},e.prototype.getRawData=function(){var e=[];for(var t in this.buffer)this.buffer.hasOwnProperty(t)&&e.push(this.peek(t));return e},e.prototype.set=function(e){return this.pushAll(e)},e.prototype.pushAll=function(e){var t=[];if(wmjQuery.isArray(e))for(var n=0,r=e.length;r>n;n++)t.push(this.push(e[n]));return t},e.prototype.pullAll=function(e){var t=[];if(e)for(var n=0,r=e.length;r>n;n++)t.push(this.pull(e[n]));else for(var i in this.buffer)this.buffer.hasOwnProperty(i)&&t.push(this.pull(i));return t},e.prototype.getAllIds=function(){return this.getDictionaryKeys(this.buffer)},e}();e.DictionaryBuffer=t}(t=e.Storage||(e.Storage={}))}(Fc||(Fc={}));var Fc;!function(e){var t;!function(e){var t=function(){function e(e,t,n){this.buffer={},this.inputMapper=t,this.outputMapper=n,this.getDictionaryKeys=e.getDictionaryKeys,this.mapFn=e.map,this.reduceFn=e.reduce}return e.prototype.getStorageType=function(){return"ReduceBuffer"},e.prototype.count=function(){return this.getAllIds().length},e.prototype.clear=function(){this.buffer={}},e.prototype.dataSize=function(){var e=0;for(var t in this.buffer)this.buffer.hasOwnProperty(t)&&(e+=t.length+(""+this.buffer[t]).length);return e},e.prototype.isEmpty=function(){return 0===this.count()},e.prototype.getRawData=function(){return this.buffer},e.prototype.set=function(e){this.buffer=e},e.prototype.pushAll=function(e){var t=this,n=this.mapFn(e,function(e){return t.inputMapper.convert(e)}),r=this.reduceFn(n,function(e,t){return e[t]=(e[t]||0)+1,e},this.buffer);this.set(r)},e.prototype.getAllIds=function(){return this.getDictionaryKeys(this.buffer)},e.prototype.pullAll=function(){var e=[];for(var t in this.buffer)this.buffer.hasOwnProperty(t)&&(e.push(this.format(t)),delete this.buffer[t]);return e},e.prototype.format=function(e){return this.outputMapper.convert({type:e,count:this.buffer[e]})},e}();e.ReduceBuffer=t}(t=e.Storage||(e.Storage={}))}(Fc||(Fc={}));var Fc;!function(e){var t;!function(e){var t=function(){function e(e,t,n,r){this.autoSave=e.autoSave||!1,this.keyName=e.keyName||"wm-ds-b",this.expiresSeconds=e.expiresSeconds||600,this.storageTypesEnum=n.STORAGE_TYPE,this.clientStorageManager=t,this.buffer=r}return e.prototype.save=function(){var e=u(this.getRawData());this.clientStorageManager.saveData(this.keyName,e,this.expiresSeconds)},e.prototype.load=function(){this.buffer.clear();var e=this.clientStorageManager.getData(this.keyName);if(e)try{this.set(l(e))}catch(t){this.buffer.clear()}},e.prototype.count=function(){return this.buffer.count()},e.prototype.clear=function(){this.buffer.clear(),this.updateStorageIfNeeded()},e.prototype.dataSize=function(){return this.buffer.dataSize()},e.prototype.maxSize=function(){var e,t=.5;switch(this.clientStorageManager.getStorageType()){case this.storageTypesEnum.JStorage:case this.storageTypesEnum.CrossDomainLocalStorage:case this.storageTypesEnum.CrossDomain:e=2621440;break;case this.storageTypesEnum.HiddenIframe:case this.storageTypesEnum.Extension:case this.storageTypesEnum.ProxyIframe:e=524288;break;case this.storageTypesEnum.CrossDomainCookies:case this.storageTypesEnum.Cookie:e=2048;break;default:e=2048}return e*t},e.prototype.withinSizeLimit=function(e){return e<=this.maxSize()},e.prototype.isEmpty=function(){return 0===this.count()},e.prototype.updateStorageIfNeeded=function(){this.autoSave&&this.save()},e.prototype.getRawData=function(){return this.buffer.getRawData()},e}();e.BaseClientStorageBuffer=t}(t=e.Storage||(e.Storage={}))}(Fc||(Fc={}));var Fc,jc=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};!function(e){var t;!function(e){var t=function(e){function t(t,n,r,i){e.call(this,t,n,r,i)}return jc(t,e),t.prototype.getStorageType=function(){return"ClientStorageArrayBuffer::"+this.getBuffer().getStorageType()},t.prototype.getBuffer=function(){return this.buffer},t.prototype.push=function(e){this.getBuffer().push(e),this.updateStorageIfNeeded()},t.prototype.pull=function(){var e=this.getBuffer().pull();return this.updateStorageIfNeeded(),e},t.prototype.peek=function(){var e=this.getBuffer().peek();return e},t.prototype.set=function(e){this.getBuffer().set(e)},t.prototype.pushAll=function(e){this.getBuffer().pushAll(e)},t.prototype.pullAll=function(){return this.getBuffer().pullAll()},t}(e.BaseClientStorageBuffer);e.ClientStorageArrayBuffer=t}(t=e.Storage||(e.Storage={}))}(Fc||(Fc={}));var Fc,jc=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};!function(e){var t;!function(e){var t=function(e){function t(t,n,r,i){e.call(this,t,n,r,i)}return jc(t,e),t.prototype.getStorageType=function(){return"ClientStorageDictionaryBuffer::"+this.buffer.getStorageType()},t.prototype.getBuffer=function(){return this.buffer},t.prototype.push=function(e){var t=this.getBuffer().push(e);return this.updateStorageIfNeeded(),t},t.prototype.pull=function(e){var t=this.getBuffer().pull(e);return this.updateStorageIfNeeded(),t},t.prototype.peek=function(e){var t=this.getBuffer().peek(e);return t},t.prototype.set=function(e){return this.getBuffer().set(e)},t.prototype.pushAll=function(e){return this.getBuffer().pushAll(e)},t.prototype.pullAll=function(e){return this.getBuffer().pullAll(e)},t}(e.BaseClientStorageBuffer);e.ClientStorageDictionaryBuffer=t}(t=e.Storage||(e.Storage={}))}(Fc||(Fc={}));var Fc,jc=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};!function(e){var t;!function(e){var t=function(e){function t(t,n,r,i){e.call(this,t,n,r,i)}return jc(t,e),t.prototype.getStorageType=function(){return"ClientStorageReduceBuffer::"+this.getBuffer().getStorageType()},t.prototype.getBuffer=function(){return this.buffer},t.prototype.set=function(e){this.getBuffer().set(e)},t.prototype.pushAll=function(e){this.getBuffer().pushAll(e)},t.prototype.pullAll=function(){return this.getBuffer().pullAll()},t}(e.BaseClientStorageBuffer);e.ClientStorageReduceBuffer=t}(t=e.Storage||(e.Storage={}))}(Fc||(Fc={}));var Fc;!function(e){var t;!function(e){var t=function(){function e(e,t,n,r,i){this.buffer=t,this._isEnabled=!1,this.dataChannel=e,this._eventsErrorLogger=i,r?this._logger=r.wrapCustomerLog("newSender"):this._logger=function(){}}return e.prototype.checkHealth=function(){return this.dataChannel.checkHealth()},e.prototype.getBaseUrl=function(){return this.dataChannel.getBaseUrl()},e.prototype.setBaseUrl=function(e){this.dataChannel.setBaseUrl(e)},e.prototype.getPostEventUrl=function(){return this.dataChannel.getPostEventUrl()},e.prototype.getHealthCheckUrl=function(){return this.dataChannel.getHealthCheckUrl()},e.prototype.enable=function(){var e=this;if(!this._isEnabled)try{this._logger(this.getSenderType()+"::enable. Enabling new data sender. \r\n [channel : "+this.dataChannel.getChannelType()+" , method : "+this.dataChannel.getChannelMethod()+" ,max packet size: "+this.dataChannel.maxPacketSize()+" ] \r\n [storage : "+this.buffer.getStorageType()+" , max storage size: "+this.buffer.maxSize()+"] \r\n",3),this._isEnabled=!0,this.dataChannel.whenFree(function(){e.linkIsFree()}),this.registerToUnload(function(){return e.sleep()}),this.wakeUp()}catch(t){this.logError(t,"Enable")}},e.prototype.logError=function(e,t){if(this._eventsErrorLogger){var n=this.dataChannel&&this.buffer?{storage:this.buffer.getStorageType(),channel:this.dataChannel.getChannelType()}:{};n.sender=this.getSenderType()+(t?"::"+t:""),this._eventsErrorLogger.logError(u(e.message),n)}},e.prototype.disable=function(){this._isEnabled&&(this._isEnabled=!1,this.unregisterFromUnload())},e.prototype.isEnabled=function(){return this._isEnabled},e.prototype.isIdle=function(){return this._isEnabled&&this.dataChannel.isIdle()&&this.buffer.isEmpty()},e.prototype.clearStorage=function(){this.buffer.clear()},e.prototype.registerToUnload=function(e){var t=this;t._originalUnloadEvent=window.onbeforeunload,window.onbeforeunload=function(n){return e(),t._originalUnloadEvent?t._originalUnloadEvent(n):void 0}},e.prototype.unregisterFromUnload=function(){window.onbeforeunload=this._originalUnloadEvent},e}();e.SuperSender=t}(t=e.Managers||(e.Managers={}))}(Fc||(Fc={}));var Fc,jc=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};!function(e){var t;!function(e){var t=function(e){function t(t,n,r,i,o){e.call(this,t,n,r,i,o)}return jc(t,e),t.prototype.getBuffer=function(){return this.buffer},t.prototype.getSenderType=function(){return"ImmediateSender"},t.prototype.send=function(e){return this.isEnabled()?(this.dataChannel.isAvailable()?this.dataChannel.send(e):this.getBuffer().push(e),!0):!1},t.prototype.wakeUp=function(){return this.isEnabled()?void this.loadFromStorage():!1},t.prototype.sleep=function(){return this.isEnabled()?void this.getBuffer().save():!1},t.prototype.linkIsFree=function(){return this.isEnabled()?void this.sendFromBuffer():!1},t.prototype.loadFromStorage=function(){if(!this.isEnabled())return!1;for(this.getBuffer().load();this.dataChannel.isAvailable()&&this.getBuffer().count();)this.sendFromBuffer()},t.prototype.sendFromBuffer=function(){if(!this.isEnabled())return!1;var e=this.getBuffer().pull();e&&this.dataChannel.send(e)},t}(e.SuperSender);e.ImmediateSender=t}(t=e.Managers||(e.Managers={}))}(Fc||(Fc={}));var Fc,jc=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};!function(e){var t;!function(t){var n=function(t){function n(n,r,i,o,a,s,u,l){var c=this;t.call(this,n,r,o,u,l),this.estimatedPacketSize=0,this.cycleTimer=new e.SimpleTimer(o.sendingIntervalMs,function(){return c.doCycle()}),this.retryTimer=new e.SimpleTimer(o.retryIntervalMs,function(){return c.doCycle()}),this.maxRetries=o.maxRetries,this.currentRetries=0,this.isHealthy=!0,this.needMoreLink=!1,this.isLogFailed=o.isLogFailed,this.stagingBuffer=i,this.failureBuffer=a,this.dataSenderLogFailure=s}return jc(n,t),n.prototype.getSenderType=function(){return"AccumulationSender"},n.prototype.getBuffer=function(){return this.buffer},n.prototype.send=function(e){try{if(this._logger(this.getSenderType()+"::Send. called for: "+u(e),5),!this.isEnabled())return!1;var t=this.dataChannel.estimateDataSize(e);if(!this.dataChannel.withinSizeLimit(t))throw new Error("Data exceeds channel packet size");if(this.getBuffer().withinSizeLimit(e.length))return this.getBuffer().isEmpty()||(this.estimatedPacketSize+=this.dataChannel.estimateDataSize(this.dataChannel.getLineBreak())),this.estimatedPacketSize+=t,this.getBuffer().dataSize()+e.length>this.getBuffer().maxSize()&&this.sendBuffer(),this.getBuffer().push(e),this.estimatedPacketSize>=this.dataChannel.channelBandwidth()?(this.sendBuffer(),this.getTimer().restart()):this.getTimer().start(),!0;this.stageAndSend([e])}catch(n){throw this.logError(n,"Send"),n}},n.prototype.wakeUp=function(){if(this.isEnabled())try{this._logger(this.getSenderType()+"::WakeUp. buffer size before load. "+this.getBuffer().dataSize(),3),this.loadFromStorage(),this._logger(this.getSenderType()+"::WakeUp. buffer size after load. "+this.getBuffer().dataSize(),3)}catch(e){throw this.logError(e,"WakeUp"),e}},n.prototype.sleep=function(){if(this.isEnabled())try{this._logger(this.getSenderType()+"::Sleep. buffer size before flush: "+this.getBuffer().dataSize(),3),this.sendBuffer(),this._logger(this.getSenderType()+"::Sleep. buffer size after flush: "+this.getBuffer().dataSize(),3),this.getBuffer().save(),this.stagingBuffer.save(),this.failureBuffer.save()}catch(e){throw this.logError(e,"Sleep"),e}},n.prototype.isIdle=function(){return t.prototype.isIdle.call(this)},n.prototype.linkIsFree=function(){this.isEnabled()&&this.needMoreLink&&this.sendBuffer()},n.prototype.doCycle=function(){this.isEnabled()&&(this._logger(this.getSenderType()+"::doCycle. buffer size before flush. "+this.getBuffer().dataSize(),4),this.sendBuffer(),this._logger(this.getSenderType()+"::doCycle. buffer size after flush. "+this.getBuffer().dataSize(),4))},n.prototype.getSeperator=function(){return this.dataChannel.getLineBreak()},n.prototype.getTimer=function(){return this.isHealthy?this.cycleTimer:this.retryTimer},n.prototype.sendBuffer=function(){if(this.isEnabled())try{for(;!this.getBuffer().isEmpty()&&this.dataChannel.isAvailable();){var e=[],t=0;do{var n=this.getBuffer().pull(),r=this.dataChannel.estimateDataSize(n);e.push(n);var i=0;0!==t&&(i=this.dataChannel.estimateDataSize(this.getSeperator())),i+=r,t+=i,this.estimatedPacketSize-=i}while(!this.getBuffer().isEmpty()&&t<this.dataChannel.maxPacketSize());this.stageAndSend(e)}this.needMoreLink=!this.getBuffer().isEmpty()}catch(o){throw this.logError(o,"SendBuffer"),o}},n.prototype.stageAndSend=function(e){var t=this,n=e.join(this.getSeperator());this._logger(this.getSenderType()+"::sendBuffer. packet size "+n.length,3),this._logger(this.getSenderType()+"::sendBuffer. sending packet :"+u(n),4);var r=this.stagingBuffer.pushAll(e);this.dataChannel.send(n,function(){try{t.isHealthy=!0,t.currentRetries=0,t.stagingBuffer.pullAll(r),t.isLogFailedEnabled()&&t.logFailedEvents()}catch(e){}},function(){try{if(t.isHealthy=!1,t.getBuffer().pushAll(t.stagingBuffer.pullAll(r)),t.currentRetries++,t.currentRetries>t.maxRetries){if(t.isLogFailedEnabled()){var e=t.getBuffer().pullAll();t.failureBuffer.pushAll(e)}t.currentRetries=0,t.getBuffer().clear()}else t.getTimer().start()}catch(n){}})},n.prototype.loadFromStorage=function(){this.isEnabled()&&(this.getBuffer().load(),this.stagingBuffer.load(),this.failureBuffer.load(),this.getBuffer().pushAll(this.stagingBuffer.pullAll()),this.stagingBuffer.save(),this._logger(this.getSenderType()+"::loadFromStorage. buffer size after load : "+this.getBuffer().dataSize(),4),this.sendBuffer())},n.prototype.isLogFailedEnabled=function(){return this.isLogFailed},n.prototype.logFailedEvents=function(){if(!(this.failureBuffer.count()<=0))for(var e=this.failureBuffer.pullAll(),t=0;t<e.length;t++){var n=e[t];this.dataSenderLogFailure.log.warn(n.message,n.extraData)}},n}(t.SuperSender);t.AccumulationSender=n}(t=e.Managers||(e.Managers={}))}(Fc||(Fc={}));var Fc;!function(e){var t;!function(e){var t=function(){function e(){}return e.prototype.convert=function(e){var t=l(e);return t.data.type+":"+t.type},e}();e.EventTypeMapper=t}(t=e.Manipulation||(e.Manipulation={}))}(Fc||(Fc={}));var Fc;!function(e){var t;!function(e){var t=function(){function e(){}return e.prototype.convert=function(e){return{message:"Event failed to send [type "+e.type+", count "+e.count+"]",extraData:{evType:e.type,count:e.count}}},e}();e.EventLogMapper=t}(t=e.Manipulation||(e.Manipulation={}))}(Fc||(Fc={})),jl.register("DataChannelConfig").asInstance({postEventAction:"/event/postEvent",healthCheckAction:"/general/status",requestTimeoutMs:2e3}),jl.register("DataChannelConfigLog").asInstance({postEventAction:"/event/log",healthCheckAction:"/general/status",requestTimeoutMs:2e3}),jl.register("DataSenderConfig").asInstance({sendingIntervalMs:250,retryIntervalMs:3e3,maxRetries:3,isLogFailed:!0}),jl.register("DataSenderConfigLog").asInstance({sendingIntervalMs:5e3,retryIntervalMs:5e3,maxRetries:3,isLogFailed:!1}),jl.register("EventTypeMapper").asCtor(Fc.Manipulation.EventTypeMapper),jl.register("EventLogMapper").asCtor(Fc.Manipulation.EventLogMapper),jl.register("ArrayBuffer").asCtor(Fc.Storage.ArrayBuffer).asProto().dependencies("GeneralUtils"),jl.register("DictionaryBuffer").asCtor(Fc.Storage.DictionaryBuffer).asProto().dependencies("GeneralUtils"),jl.register("ReduceBuffer").asCtor(Fc.Storage.ReduceBuffer).asProto().dependencies("GeneralUtils,EventTypeMapper,EventLogMapper"),jl.register("DataSenderMethod").asCtor(Fc.Channels.CompatibilityChannel).dependencies("DataChannelConfig"),jl.register("DataSenderStorageConfig").asInstance({keyName:"wm-ds-b",autoSave:!1,expiresSeconds:600}),jl.register("DataSenderStorageStagingConfig").asInstance({keyName:"wm-ds-s",autoSave:!1,expiresSeconds:600}),jl.register("DataSenderStorage").asCtor(Fc.Storage.ClientStorageArrayBuffer).dependencies("DataSenderStorageConfig,ClientStorageManager,Consts,ArrayBuffer"),jl.register("DataSenderStagingStorage").asCtor(Fc.Storage.ClientStorageDictionaryBuffer).dependencies("DataSenderStorageStagingConfig,ClientStorageManager,Consts,DictionaryBuffer"),jl.register("DataSender").asCtor(Fc.Managers.AccumulationSender).dependencies("DataSenderMethod,DataSenderStorage,DataSenderStagingStorage,DataSenderConfig,DataSenderStorageLogFailure,EventCollectorLoggerPixel,Logger,EventSenderErrorLogger"),jl.register("DataSenderMethodLog").asCtor(Fc.Channels.CompatibilityChannel).dependencies("DataChannelConfigLog"),jl.register("DataSenderStorageConfigLog").asInstance({keyName:"wm-ds-lb",autoSave:!1,expiresSeconds:600}),jl.register("DataSenderStorageLog").asCtor(Fc.Storage.ClientStorageArrayBuffer).dependencies("DataSenderStorageConfigLog,ClientStorageManager,Consts,ArrayBuffer"),jl.register("DataSenderLog").asCtor(Fc.Managers.ImmediateSender).dependencies("DataSenderMethodLog,DataSenderStorageLog,DataSenderConfigLog,Logger,EventSenderErrorLogger"),jl.register("DataSenderStorageConfigLogPixel").asInstance({keyName:"wm-ds-lbp",autoSave:!1,expiresSeconds:600}),jl.register("DataSenderStorageLogPixel").asCtor(Fc.Storage.ClientStorageArrayBuffer).dependencies("DataSenderStorageConfigLogPixel,ClientStorageManager,Consts,ArrayBuffer"),jl.register("DataSenderMethodLogPixel").asCtor(Fc.Channels.ImageChannel).dependencies("DataChannelConfigLog"),jl.register("DataSenderLogPixel").asCtor(Fc.Managers.ImmediateSender).dependencies("DataSenderMethodLogPixel,DataSenderStorageLogPixel,DataSenderConfigLog,Logger,EventSenderErrorLogger"),jl.register("DataSenderStorageConfigLogFailure").asInstance({keyName:"wm-ds-lfb",autoSave:!0,expiresSeconds:86400}),jl.register("DataSenderStorageLogFailure").asCtor(Fc.Storage.ClientStorageReduceBuffer).dependencies("DataSenderStorageConfigLogFailure,ClientStorageManager,Consts,ReduceBuffer"),jl.register("UserTimeMonitor").asCtor(re).dependencies("ClientStorageManager, EndUsersManager"),jl.register("EventSender").asCtor(ie).dependencies("Consts, DeployableTypeToEventSenderAppTypeMapper, EventsCollectorAuditingEnabledIndicator, EventCollectorEventSender"),jl.register("EventSenderEnvironmentDataProvider").asCtor(oe).dependencies("HostData, FeaturesManager, Consts, CommonUtils"),jl.register("WalkmeVisibleReporter").asCtor(ae).dependencies("EventSender, UserTimeMonitor, Consts, Logger"),jl.register("EventSenderErrorLogger").asCtor(se).dependencies("DataChannelConfigLog,HostData,WalkMeInfo"),jl.register("EventSenderInitializer").asCtor(ue).dependencies("EventServerBaseUrl, EventSenderErrorLogger, DataSender, DataSenderLog, DataSenderLogPixel, EventSenderEventListener, win"),jl.register("EventSenderDisabler").asCtor(le).dependencies("DataSender"),jl.register("EventSenderEventListener").asCtor(ce).dependencies("Consts, WmInternals, GoalReachedEventSender"),jl.register("GoalReachedEventSender").asCtor(de).dependencies("EventSender, Logger, Consts, DeployableTypeToEventSenderAppTypeMapper, Lib, WalkMeGoalsManager"),jl.register("EventsCollectorAuditingEnabledIndicator").asCtor(fe).dependencies("EventsCollectorFeatureEnabledIndicator, AuditingEnabledIndicator"),jl.register("EventCollectorLogger").asCtor(pe).dependencies("DataSenderLog, EventSenderErrorLogger, EventsCollectorFeatureEnabledIndicator, EventSenderEnvironmentDataProvider, EventCollectorWalkMeDataProvider"),jl.register("EventCollectorLoggerPixel").asCtor(pe).dependencies("DataSenderLogPixel, EventSenderErrorLogger, EventsCollectorFeatureEnabledIndicator, EventSenderEnvironmentDataProvider, EventCollectorWalkMeDataProvider"),jl.register("EventCollectorEventSender").asCtor(ge).dependencies("DataSender, EventSenderErrorLogger, EventSenderEnvironmentDataProvider, EventCollectorWalkMeDataProvider"),jl.register("EventCollectorWalkMeDataProvider").asCtor(he).dependencies("WalkMeInfo, InteractionManager, ExternalWalkMeConfig, EventCollectorUserDataProvider"),jl.register("EventCollectorUserDataProvider").asCtor(me).dependencies("AnalyticsPropertiesManager"),jl.register("EventsCollectorFeatureEnabledIndicator").asCtor(ve).dependencies("Consts, HostData, FeaturesManager"),jl.register("DeployableTypeToEventSenderAppTypeMapper").asCtor(ye).dependencies("Consts"),jl.register("ReportInitiatorMapper").asCtor(we).dependencies("Mapper, InitiatorTypeToAppTypeMapper"),jl.register("InitiatorTypeToAppTypeMapper").asCtor(be).dependencies("Consts"),jl.register("StepActionToEventSenderActionAppTypeMapper").asCtor(Se).dependencies("Consts"),jl.register("StepActionToEventSenderStepActionNameMapper").asCtor(Te).dependencies("Consts, Logger"),jl.register("InteractionEventsInitiatorsProvider").asCtor(Ie).dependencies("Consts, InteractionEventInitiatorFactory, ApiWasCalledNewInteractionIndicator, WidgetOpenedNewInteractionIndicator"),jl.register("InteractionManager").asCtor(Ce).asSingleton().dependencies("GuidGenerator, Logger"),jl.register("InteractionInitiationEventListener").asCtor(Ee).dependencies("WmInternals, InteractionEventsInitiatorsProvider"),jl.register("InteractionEventInitiatorFactory").asCtor(ke).dependencies("InteractionManager"),jl.register("ApiWasCalledNewInteractionIndicator").dependencies("Consts").asFunction(function(e){var t=e.STEP_PLAY_INITIATOR_ENUM,n={initiatorsThatBeginNewInteraction:[t.API,t.CHAT_AGENT]};return jl.create("NewInteractionIndicator",n)}),jl.register("WidgetOpenedNewInteractionIndicator").dependencies("Consts").asFunction(function(e){var t=e.STEP_PLAY_INITIATOR_ENUM,n={initiatorsThatBeginNewInteraction:[t.API,t.ATTENTION_GRABBER]};return jl.create("NewInteractionIndicator",n)}),jl.register("NewInteractionIndicator").asCtor(_e).asProto().dependencies("inArrayFunc"),jl.register("ClickIconExecutionBehavior").asCtor(xe).asProto().dependencies("CommonUtils"),jl.register("DefaultIconExecutionBehavior").asCtor(Pe),jl.register("DefaultIconUiBehavior").asCtor(De).dependencies("CommonUtils"),jl.register("ImageIconEventsBinder").asCtor(Ae).dependencies("Consts"),jl.register("ImageIconUiBehavior").asCtor(Oe).asProto().dependencies("Consts"),jl.register("ImageIconUiBehaviorResourcesLoader").asCtor(Ne).asProto().dependencies("ImageLoader, CommonUtils"),jl.register("TolltipIconUiBehavior").asCtor(Me).asProto(),jl.register("ImageIconAnimatedContentState").asCtor(Le).asProto(),jl.register("ImageIconContentStateChanger").asCtor(Be).asProto().dependencies("inArrayFunc"),jl.register("ImageIconContentStateCreator").asCtor(Fe).asProto(),jl.register("ImageIconNotAnimatedContentState").asCtor(je).asProto(),jl.register("CustomShapeImageIconParamsProvider").asCtor(Re),jl.register("ImageIconParamsProvider").asCtor(Ue).dependencies("CustomShapeImageIconParamsProvider, PredefinedShapeImageIconParamsProvider"),jl.register("PredefinedShapeImageIconParamsProvider").asCtor(Ge).dependencies("CommonUtils"),jl.register("TextIconParamsProvider").asCtor(We),jl.register("ElementContainerProvider").asCtor(Ve).dependencies("FeaturesManager, Consts"),jl.register("EmbedInElementContainerProvider").asCtor(Qe),jl.register("EmbedInElementParentContainerProvider").asCtor(He),jl.register("EmbedInOwnerDocumentContainerProvider").asCtor(ze).dependencies("getTopContainer"),
jl.register("EmbedInTopDocumentContainerProvider").asCtor(Ye).dependencies("getTopContainer"),jl.register("JspContainerProviderDecorator").asCtor(qe).dependencies("findJspContainer"),jl.register("IconByEmbedmentTypeCreator").asCtor(Ke).asProto().dependencies("IconCreationEmbedmentStrategyFactory"),jl.register("EmbedInElementIconCreationStrategy").asCtor(Xe).dependencies("OwnerDocumentHeadProvider, EmbedInElementContainerProvider, EmbedInElementElementPositionAndSizeProvider, IconElementBuilderFactory, IconPositionerFactory, PositionProviderFactory"),jl.register("EmbedInElementParentIconCreationStrategy").asCtor(Je).dependencies("EmbedInElementParentContainerProvider, EmbedInElementIconCreationStrategy"),jl.register("EmbedInOwnerDocumentIconCreationStrategy").asCtor($e).dependencies("OwnerDocumentHeadProvider, EmbedInOwnerDocumentContainerProvider, EmbedInOwnerDocumentElementPositionAndSizeProvider, IconElementBuilderFactory, IconPositionerFactory, PositionProviderFactory"),jl.register("EmbedInTopDocumentIconCreationStrategy").asCtor(Ze).dependencies("TopDocumentHeadProvider, EmbedInOwnerDocumentIconCreationStrategy, EmbedInTopDocumentContainerProvider, EmbedInTopDocumentElementPositionAndSizeProvider, IconElementBuilderFactory, IconPositionerFactory"),jl.register("EmbedmentTypeProvider").asCtor(et).dependencies("Lib, Consts"),jl.register("IconCreationEmbedmentStrategyFactory").asCtor(tt).dependencies("Consts, EmbedInElementIconCreationStrategy, EmbedInElementParentIconCreationStrategy, EmbedInOwnerDocumentIconCreationStrategy, EmbedInTopDocumentIconCreationStrategy"),jl.register("ExecutionModeIconCreationFacade").asCtor(nt).dependencies("DefaultIconExecutionBehavior"),jl.register("FacadeByIconContentKindProvider").asCtor(rt).dependencies("Consts, ImageIconCreationFacade, TextIconCreationFacade"),jl.register("ImageIconCreationFacade").asCtor(it).dependencies("DefaultIconUiBehavior, ImageIconEventsBinder, ImageIconElementCreator, IconImageUrlsToAbsoluteUrlsConverter, DefaultInitialIconCreatorProvider"),jl.register("PredefinedIconsFolderProvider").asCtor(ot).dependencies("ResourceManager"),jl.register("IconImageUrlsToAbsoluteUrlsConverter").asCtor(at).dependencies("PredefinedIconsFolderProvider"),jl.register("TextIconCreationFacade").asCtor(st).dependencies("DefaultIconUiBehavior, DefaultInitialIconCreatorProvider"),jl.register("DesignModeFacadeProvider").asCtor(ut).dependencies("FacadeByIconContentKindProvider"),jl.register("ExecutionModeFacadeProvider").asCtor(lt).dependencies("DesignModeFacadeProvider, ExecutionModeIconCreationFacade"),jl.register("DefaultInitialIconCreatorProvider").asCtor(ct).dependencies("ElementContainerProvider"),jl.register("IconCreator").asCtor(dt).dependencies("ExecutionModeIconCreationFacade, Consts, EmbedmentTypeProvider, DesignModeFacadeProvider, ExecutionModeFacadeProvider"),jl.register("GeneralSettingsIconCreatorParamsProvider").asCtor(ft).dependencies("CommonUtils, Consts, GrowingDirectionByAnimationProvider, ImageIconParamsProvider, TextIconParamsProvider"),jl.register("ImageIconElementCreator").asCtor(pt),jl.register("TextIconElementCreator").asCtor(gt).asProto(),jl.register("DefaultIconElement").asCtor(ht).asProto().dependencies("IconPositionElementCreator, CssClassesAppender"),jl.register("DefaultIconElementBuilder").asCtor(mt).asProto(),jl.register("IconEmbedContainerElementCreator").asCtor(vt),jl.register("EmbedInElementIconElement").asCtor(yt).asProto().dependencies("IconEmbedContainerElementCreator, CssClassesAppender"),jl.register("EmbedInElementIconElementBuilder").asCtor(wt).asProto(),jl.register("IconElementBuilderFactory").asCtor(bt),jl.register("IconPositionElementCreator").asCtor(St).dependencies("UiUtils"),jl.register("IconEmbedder").asCtor(Tt),jl.register("OwnerDocumentHeadProvider").asCtor(It),jl.register("TopDocumentHeadProvider").asCtor(Ct),jl.register("IconFontsLoader").asCtor(Et).dependencies("ResourceManager, FontsData"),jl.register("ImageIconInitialStateResourcesLoader").asCtor(kt).asProto().dependencies("ImageLoader"),jl.register("TextIconInitialStateResourcesLoader").asCtor(_t).asProto().dependencies("IconFontsLoader"),jl.register("DefaultInitialIconCreator").asCtor(xt).asProto().dependencies("IconEmbedder"),jl.register("ImageInitialIconCreator").asCtor(Pt).asProto().dependencies("Consts"),jl.register("TextInitialIconCreator").asCtor(Dt).asProto(),jl.register("EmbedInElementIcon").asCtor(At).asProto().dependencies("Consts"),jl.register("Icon").asCtor(Ot).asProto().dependencies("CommonUtils"),jl.register("LauncherIconCreator").asCtor(Nt).dependencies("IconCreator, LauncherIconCreatorParamsProvider"),jl.register("LauncherIconCreatorParamsProvider").asCtor(Mt).dependencies("CommonEvents, Lib, Consts, ClickAuditManager, GeneralSettingsIconCreatorParamsProvider"),jl.register("EmbedInElementElementPositionAndSizeProvider").asCtor(Lt).dependencies("PositionHelper"),jl.register("EmbedInOwnerDocumentElementPositionAndSizeProvider").asCtor(Bt).dependencies("PositionHelper"),jl.register("EmbedInTopDocumentElementPositionAndSizeProvider").asCtor(Ft).dependencies("PositionHelper"),jl.register("IconPositionerFactory").asCtor(jt).dependencies("Consts"),jl.register("InsidePositionCalculator").asCtor(Rt).dependencies("Consts"),jl.register("OutsidePositionCalculator").asCtor(Ut).asProto().dependencies("Consts"),jl.register("RelativeToDocumentPositionCalculatorFactory").asCtor(Gt).dependencies("Consts, InsidePositionCalculator"),jl.register("RelativeToElementPositionCalculator").asCtor(Wt),jl.register("GrowingOffsetProvider").asCtor(Vt).dependencies("Consts"),jl.register("GrowingDirectionByAnimationProvider").asCtor(Qt).dependencies("Consts"),jl.register("PositionProviderFactory").asCtor(Ht),jl.register("RelativeToDocumentIconPositionProvider").asCtor(zt).asProto().dependencies("GrowingOffsetProvider, RelativeToDocumentPositionCalculatorFactory, PositionHelper"),jl.register("RelativeToElementIconPositionProvider").asCtor(Yt).asProto().dependencies("RelativeToElementPositionCalculator"),jl.register("RelativeToDocumentIconPositioner").asCtor(qt).asProto(),jl.register("RelativeToElementIconPositioner").asCtor(Kt).asProto().dependencies("Consts"),jl.register("AuditingEnabledIndicator").asCtor(Xt),jl.register("WidgetApi").asCtor(Jt).dependencies(),jl.register("GoalsManager").asCtor($t).dependencies("GoalsManagerParams,Logger, HostData, ClientStorageManager, CommonUtils, Consts"),jl.register("WalkMeGoalsManager").asCtor(Zt).dependencies("ClientStorageManager,GoalsManager,Lib,WalkMeInfo,ServerDataSenderManager,Logger,GoalsCompletedPetaSender,TimerManager,CommonEvents, InteractionManager, Consts, AuditingEnabledIndicator"),jl.register("HighlighterBase").asCtor(en).asProto().dependencies("Logger, CommonUtils"),jl.register("Highlighter").asCtor(tn).asProto().dependencies("Logger, SiteConfigManager, PositionHelper, FeaturesManager, CommonUtils"),jl.register("Insideout").asCtor(nn).asProto().dependencies("Logger, HostData, PositionHelper, CommonUtils");mtjQuery.extend(mtjQuery.easing,{easeOutBounce:function(e,t,n,r,i){return(t/=i)<1/2.75?7.5625*r*t*t+n:2/2.75>t?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:2.5/2.75>t?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeOutBack:function(e,t,n,r,i,o){return void 0==o&&(o=1.70158),r*((t=t/i-1)*t*((o+1)*t+o)+1)+n},easeOutElastic:function(e,t,n,r,i){var o=1.70158,a=0,s=r;if(0==t)return n;if(1==(t/=i))return n+r;if(a||(a=.3*i),s<Math.abs(r)){s=r;var o=a/4}else var o=a/(2*Math.PI)*Math.asin(r/s);return s*Math.pow(2,-10*t)*Math.sin(2*(t*i-o)*Math.PI/a)+r+n}}),jl.register("PublishDataManager").asCtor(on).dependencies("Lib, ServerStorageManager, Logger");var Rc=function(){function e(e,t,n,r,i){this.NEW_CONTENT_PRIORITY=1e3,this._lib=e,this._agDataManager=t,this._serverStorageManager=n,this._publishDataManager=r,this._logger=i}return e.prototype.init=function(e){if(e.config&&e.player){this._config=e.config,this._player=e.player,this._menu=e.menu;var t=this._config.Settings.AG,n=this._config.Settings.AGs;if(n)this.initAllAGs(n);else if(t){var r=this.create(e);r.setupAttenGrab()}}},e.prototype.reset=function(){this._agData=this._agClass=this._config=this._player=this._menu=void 0},e.prototype.initAllAGs=function(e){if(0!=e.length){if(this._agDataManager.isNewSession){1===this._agDataManager.sessionCounter&&this._publishDataManager.saveDataVersion();var t=this.getPotentialAGsForNewSession(e);t=t.sort(function(e,t){return e.Priority-t.Priority}),this.updateAGForNewSession(t)}else this.updateAGForOldSession(e);this._agData?(this._logger.customerLog("Attention grabber - name: "+this._agData.Name+", settings:",3),this._logger.customerLog(this._agData.Settings,3)):this._logger.customerLog("Attention grabber: not selected",3);var n="Attention grabber data: session counter = "+this._agDataManager.sessionCounter+", selected AG = "+this._agDataManager.selectedId+", unload AG = "+this._agDataManager.unload+", event timestamp delta = "+this._agDataManager.eventTimestampDelta/1e3+"s, session = "+this._agDataManager.isNewSession;this._logger.customerLog(n,4)}},e.prototype.getPotentialAGsForNewSession=function(e){for(var t=[],n=this._agDataManager.sessionCounter,r=0;r<e.length;r++){var i=e[r],o=i.Settings;this.shouldPlayAtSession(n,o)&&(parseInt(o.newContent)?this._publishDataManager.hasNewDeployables()&&(i.Priority-=this.NEW_CONTENT_PRIORITY,t.push(i)):t.push(i))}return t},e.prototype.updateAGForNewSession=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.Settings;if(!r.conditions)return this._agData=n,void this._agDataManager.updateSelection(n.Id);var i=this._lib.evaluateConditionTree(r.conditions);if(i)return this._agData=n,void this._agDataManager.updateSelection(n.Id)}},e.prototype.updateAGForOldSession=function(e){for(var t=this._agDataManager.sessionCounter,n=0;n<e.length;n++){var r=e[n],i=r.Settings;if(r.Id==this._agDataManager.selectedId){var i=r.Settings;if(this.shouldPlayAtSession(t,i)&&this.shouldReplayAG(i))if(i.conditions){var o=this._lib.evaluateConditionTree(i.conditions);o?(this._agData=r,this._agDataManager.updateSelection(r.Id)):this._logger.customerLog("Attention grabber conditions are not satisfied",5)}else this._agData=r,this._agDataManager.updateSelection(r.Id);return}}},e.prototype.shouldPlayAtSession=function(e,t){return t&&uh(t.session)&&uh(t.interval)?e<t.session?!1:e==t.session?!0:0==t.interval?!1:(e-t.session)%t.interval==0?!0:!1:!1},e.prototype.shouldReplayAG=function(e){if(this._agDataManager.unload)return!1;if(!e)return!1;var t=this._agDataManager.eventTimestampDelta,n=parseInt(e.replay);if(!n||!t)return!1;var r=60*n*1e3;return t>r?e.delay=0:e.delay=(r-t)/1e3,!0},e.prototype.load=function(){if(this._agData){var e={config:this._config,player:this._player,menu:this._menu,agData:this._agData};this._agClass=jl.create("AttentionGrabber",e),this._agClass.setupAttenGrab()}},e.prototype.remove=function(e){return this._agClass?(this._agDataManager.updateUnload(),void this._agClass.remove(e)):void(e&&e())},e.prototype.create=function(e){return this._config=e.config,this._player=e.player,this._agClass=jl.create("AttentionGrabber",e),this._agClass},e.prototype.getImageAG=function(e){return this._config=e.config,this._player=e.player,this._agClass=jl.create("ImageAttentionGrabber",e),this._agClass},e}();jl.register("AttentionGrabberManager").asCtor(Rc).dependencies("Lib, AttentionGrabberDataManager, ServerStorageManager, PublishDataManager, Logger");var Uc=function(){function e(e,t,n){this.AG_DATA_COOKIE_NAME="wm-ag-d",this.AG_SESSION_LENGTH_NAME="wm-ag-sl",this._siteConfigManager=e,this._serverStorageManager=t,this._commonUtils=n,this.init(),this.save()}return e.prototype.updateSelection=function(e){this.selectedId=e,this.save()},e.prototype.updateEvent=function(){this._eventTimestamp=(new Date).getTime(),this.save()},e.prototype.updateUnload=function(){this.unload=1,this.save()},e.prototype.init=function(){var e=this._serverStorageManager.getData(this.AG_DATA_COOKIE_NAME),t=(new Date).getTime(),n=this._siteConfigManager.get().Settings,r=parseInt(n.AGDataVersion)||0;if(e){this._sessionTimestamp=t,this.sessionCounter=e.sc||1,this._version=uh(e.v)?e.v:r,this._shouldUpdateVersion=r>this._version;var i,o=e.st?Math.abs(t-e.st):0;this._commonUtils.isLocalStorageEnabled()&&(i=window.localStorage.getItem(this.AG_SESSION_LENGTH_NAME)),this._sessionLength=parseFloat(i||n.AGSL||1440),this._shouldUpdateCounter=o/6e4>this._sessionLength,this.isNewSession=this._shouldUpdateCounter||this._shouldUpdateVersion,this.sessionCounter=this._shouldUpdateVersion?1:this._shouldUpdateCounter?this.sessionCounter+1:this.sessionCounter,this._version=this._shouldUpdateVersion?r:e.v,this.selectedId=this.isNewSession?void 0:e.id,this._eventTimestamp=this.isNewSession?t:e.et,this.unload=this.isNewSession?0:e.u,this.eventTimestampDelta=this._eventTimestamp?Math.abs(t-this._eventTimestamp):0}else this.isNewSession=!0,this._sessionTimestamp=t,this.sessionCounter=1,this._version=r,this._eventTimestamp=t,this.unload=0},e.prototype.save=function(){var e={st:this._sessionTimestamp,sc:this.sessionCounter,v:this._version,id:this.selectedId,et:this._eventTimestamp,u:this.unload};this._serverStorageManager.saveData(this.AG_DATA_COOKIE_NAME,e,yc)},e}();jl.register("AttentionGrabberDataManager").asCtor(Uc).dependencies("SiteConfigManager, ServerStorageManager, CommonUtils"),jl.register("AttentionGrabber").asFunction(an).asProto();var Gc=function(){function e(e,t,n,r,i,o,a,s){this.AG_REPEAT_COOKIE_NAME="wm-ag-rep",this._stopAnimation=!1,this.POSITION="TrianglePosition",this._lib=e,this._commonUtils=t,this._timerManager=n,this._endUsersManager=r,this._auditSourceManager=i,this._hostData=o,this._wmAjax=a,this._config=s.config,this._player=s.player,this._menu=s.menu,this._logger=jl.get("Logger"),this._topContainer=bl(),s.agData?(this._data=s.agData,this._settings=s.agData.Settings,this._agId=this._data.Id,this._dataManager=jl.get("AttentionGrabberDataManager")):(this._oldAG=!0,this._oldAGData=this._commonUtils.getSettingsValue(this._config.Settings,"AG",!1),this._oldAGData&&(this._settings={},this._oldAGData.delay&&(this._settings.delay=this._oldAGData.delay),this._oldAGData.timeout&&(this._settings.duration=this._oldAGData.timeout),this._oldAGData.repeat&&(this._settings.repeat=this._oldAGData.repeat)))}return e.prototype.drawAttentionGrabber=function(){if(this._logger.customerLog("Start drawing attention grabber",5),this._replayTimeoutHandler&&this._replayTimeoutHandler.clear(),this._attentionGrabber=this.getHtml(),this._attentionGrabber){var e=wmjQuery.proxy(function(){this.auditToPeta("Click")},this);this._attentionGrabber.click(e),this._attentionGrabberWrapper=wmjQuery("<div id='walkme-attengrab' class='walkme-to-destroy' style='display: none;'/>"),this._attentionGrabberWrapper.append(this._attentionGrabber),this._topContainer.append(this._attentionGrabberWrapper),this._lib.getUiUtils().setLangAttribute(this._attentionGrabberWrapper),this.updateEvent(),this.auditToPeta("Shown");var t=wmjQuery.proxy(function(){this.postDrawing(),this.hideAfterTimeout()},this);this._timerManager.libSetTimeout(t,100)}},e.prototype.auditToPeta=function(e){if(!il()&&Hf&&this._agId){var t=Hf+"/Analytics/AttentionGrabbers",n={userGuid:this._lib.getUserGuid(),endUserGuid:this._endUsersManager.getEndUserGuid(),datetime:this._commonUtils.getDateAtUTC(),fullUrl:sl(),source:this._auditSourceManager.get(),browser:this._hostData.browser.string,os:this._hostData.os.name,domain:window.location.host,agId:this._agId,eventName:e};this._wmAjax.execute({url:t,data:n})}},e.prototype.getHtml=function(){},e.prototype.postDrawing=function(){},e.prototype.hideAfterTimeout=function(){var e=parseInt(this._settings.duration);if(e){var t=wmjQuery.proxy(function(){this.hide(),this._stopAnimation=!0},this);this._hideTimeoutHandler=this._timerManager.libSetTimeout(t,1e3*e)}},e.prototype.isSupportedByBrowser=function(){return!0},e.prototype.setupAttenGrab=function(){if(this.isSupportedByBrowser()&&this._settings&&!wmjQuery.isEmptyObject(this._settings)&&this.innerSetup()!==!1){if(this._settings.repeat){var e=this._lib.checkRepeatCookie(this.AG_REPEAT_COOKIE_NAME,this._settings.repeat);if(!e.shouldStart)return;e.store()}var t=wmjQuery.proxy(function(){this.drawAttentionGrabber()},this);this._delayTimeoutHandler=this._timerManager.libSetTimeout(t,1e3*parseFloat(this._settings.delay))}},e.prototype.innerSetup=function(){return!0},e.prototype.remove=function(e){try{this._logger.customerLog("Remove attention grabber",5),this._attentionGrabberWrapper&&this._attentionGrabberWrapper.remove(),this.clearTimers(),this.updateEvent(),e&&e()}catch(t){e&&e()}},e.prototype.hide=function(){this.remove(),this.replay()},e.prototype.updateEvent=function(){this._dataManager&&this._dataManager.updateEvent()},e.prototype.replay=function(){var e=parseInt(this._settings.replay);if(e){this._logger.customerLog("Replay attention grabber",5);var t=wmjQuery.proxy(function(){this.drawAttentionGrabber()},this);this._replayTimeoutHandler=this._timerManager.libSetTimeout(t,1e3*e*60)}},e.prototype.getDirection=function(){return this._config.Direction},e.prototype.getDefaultOrFirstTab=function(){for(var e=this._lib.getUiDataProvider().uiObjectsTree(),t=0;t<e.length;t++)if(e[t].properties().hasProperty("default"))return e[t];for(var t=0;t<e.length;t++)if(e[t].properties().hasProperty("visible"))return e[t]},e.prototype.clearTimers=function(){this._delayTimeoutHandler&&this._delayTimeoutHandler.clear(),this._replayTimeoutHandler&&this._replayTimeoutHandler.clear(),this._hideTimeoutHandler&&this._hideTimeoutHandler.clear()},e}();jl.register("AttentionGrabberBase").asCtor(Gc).asProto().dependencies("Lib, CommonUtils, TimerManager, EndUsersManager, AuditSourceManager, HostData, WmAjax");var jc=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},Wc=function(e){function t(t,n,r,i,o,a,s,u){e.call(this,t,n,r,i,o,a,s,u),this._drawAGWaitForImagesFailCount=0,this._oldAG&&(this._oldAGData.id&&(this._settings.id=this._oldAGData.id),this._oldAGData.filename&&(this._settings.filename=this._oldAGData.filename),this._oldAGData.hOffset&&(this._settings.hOffset=this._oldAGData.hOffset),this._oldAGData.vOffset&&(this._settings.vOffset=this._oldAGData.vOffset))}return jc(t,e),t.prototype.getHtml=function(){return wmjQuery("<img src='"+this._settings.filename+"' />")},t.prototype.innerSetup=function(){return this._settings.filename&&(this._settings.filename=this._lib.ResourceManager.getResourcePath(this._settings.filename)),-1==parseInt(this._settings.id)?!1:!0},t.prototype.postDrawing=function(){this.drawAGWaitForImages()},t.prototype.drawAGWaitForImages=function(){function e(e){var n=t(),r="1"==e.attr("data-inanimation");return n||r}var t=wmjQuery.proxy(this.imageNotLoadedCases,this);if(e(this._player)){if(this._drawAGWaitForImagesFailCount++,this._drawAGWaitForImagesFailCount>10)return;var n=wmjQuery.proxy(this.drawAGWaitForImages,this);this._timerManager.libSetTimeout(function(){n()},500)}else this.drawAGPostLoad()},t.prototype.drawAGPostLoad=function(){var e="0px",t="0px",n="0px",r="0px",i="auto",o="auto",a="auto",s="auto",u=parseInt(this._settings.hOffset),l=parseInt(this._settings.vOffset),c=(this._player.width()-this._attentionGrabberWrapper.width())/2,d=(this._player.height()-this._attentionGrabberWrapper.height())/2;a=this.handlePosition(a,"bottom",d,l),i=this.handlePosition(i,"top",d,l),o=this.handlePosition(o,"right",c,u),s=this.handlePosition(s,"left",c,u),this._config[this.POSITION].indexOf("center")>-1&&(s="50%",r=this.buildPosition(r,"margin-left",c,u),r=this.dynamicSizeHandler("width",r)),this._config[this.POSITION].indexOf("middle")>-1&&(i="50%",e=this.buildPosition(e,"margin-top",d,l),e=this.dynamicSizeHandler("height",e)),this._attentionGrabberWrapper.css({position:"fixed",top:i,right:o,bottom:a,left:s,"margin-top":e,"margin-right":t,"margin-bottom":n,"margin-left":r}),this._attentionGrabberWrapper.show()},t.prototype.handlePosition=function(e,t,n,r){return this._config[this.POSITION].indexOf(t)>-1&&(e=this.buildPosition(e,t,n,r)),e},t.prototype.buildPosition=function(e,t,n,r){return e=parseFloat(this._player.css(t).replace("px","")),e+=n,e+=r,e+="px"},t.prototype.dynamicSizeHandler=function(e,t){return this._player.hasClass("walkme-dynamic-size")&&(t=parseFloat(t.replace("px",""))+this._player.css(e).replace("px","")/2*-1),t},t.prototype.imageNotLoadedCases=function(){return 0==this._player.width()||28==this._player.width()||0==this._attentionGrabberWrapper.width()||28==this._attentionGrabberWrapper.width()||24==this._attentionGrabberWrapper.width()&&24==this._attentionGrabberWrapper.width()},t}(Gc);jl.register("ImageAttentionGrabber").asCtor(Wc).asProto().dependencies("Lib, CommonUtils, TimerManager, EndUsersManager, AuditSourceManager, HostData, WmAjax");var jc=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},Vc=function(e){function t(t,n,r,i,o,a,s,u){e.call(this,t,n,r,i,o,a,s,u),this._defaultValues={animationDuration:700},this._oldAG&&this._oldAGData.settings&&(this._oldAGData.settings.width&&(this._settings.width=this._oldAGData.settings.width),this._oldAGData.settings.right&&(this._settings.right=this._oldAGData.settings.right),this._oldAGData.settings.deg&&(this._settings.deg=this._oldAGData.settings.deg),this._oldAGData.settings.dir&&(this._settings.dir=this._oldAGData.settings.dir,this._direction=this._oldAGData.settings.dir),this._oldAGData.settings.opacity&&(this._settings.opacity=this._oldAGData.settings.opacity))}return jc(t,e),t.prototype.isSupportedByBrowser=function(){return!ef.isIE(9,"lte")},t.prototype.getHtml=function(){var e,t;this.isHorizental()?(e=this._settings.width+"px",t="130%"):(t=this._settings.width+"px",e="130%");var n=this._settings.opacity,r=this._settings.deg;return wmjQuery("<div class='wm-ag-swoosh' style='width: "+e+"; height:"+t+"; position: absolute; top:-6px; right: -6px; background-color: transparent !important; "+this.getRotateCss(r)+this.getBackgoundCss(n)+"'/>")},t.prototype.postDrawing=function(){var e=this._settings.right;this._attentionGrabberWrapper.detach().appendTo(this._player);var t=this.isHorizental()?"width":"height",n=this._player.css(t);this._attentionGrabberWrapper.css({position:"absolute",overflow:"hidden",width:"100%",height:"100%","z-index":this._player.css("z-index"),right:"0",bottom:"auto",top:"0"}).important("background","none"),this._attentionGrabber.show(),this._attentionGrabberWrapper.show();var r=this.getProperty("animationDuration");this.animate(n,e,r)},t.prototype.animate=function(e,t,n){function r(){var e={};e[o]=s,i.animate(e,n);var u=this._stopAnimation;a.setWalkmeTimeout(function(){var e={};e[o]=t+"px",i.animate(e,n)},1e3),u||a.setWalkmeTimeout(r,4e3)}var i=this._attentionGrabber,o=this.isHorizental()?"right":"top",a=this._timerManager;i.css(o,t+"px");var s=1.3*parseFloat(e)+"px";r()},t.prototype.isHorizental=function(){return"hoz"==this._direction},t.prototype.getProperty=function(e){return this._settings[e]||this._defaultValues[e]},t.prototype.getBackgoundCss=function(e){return"background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIxMDAlIiB5Mj0iMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwLjkxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMCIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);background: -moz-linear-gradient(left,  rgba(255,255,255,0) 0%, rgba(255,255,255,"+e+") 50%, rgba(255,255,255,0) 100%);background: -webkit-gradient(linear, left top, right top, color-stop(0%,rgba(255,255,255,0)), color-stop(50%,rgba(255,255,255,"+e+")), color-stop(100%,rgba(255,255,255,0)));background: -webkit-linear-gradient(left,  rgba(255,255,255,0) 0%,rgba(255,255,255,"+e+") 50%,rgba(255,255,255,0) 100%);background: -o-linear-gradient(left,  rgba(255,255,255,0) 0%,rgba(255,255,255,"+e+") 50%,rgba(255,255,255,0) 100%);background: -ms-linear-gradient(left,  rgba(255,255,255,0) 0%,rgba(255,255,255,"+e+") 50%,rgba(255,255,255,0) 100%);background: linear-gradient(to right,  rgba(255,255,255,0) 0%,rgba(255,255,255,"+e+") 50%,rgba(255,255,255,0) 100%);"},t.prototype.getRotateCss=function(e){return"transform: rotate("+e+"deg); -moz-transform:rotate("+e+"deg); -webkit-transform:rotate("+e+"deg); -o-transform:rotate("+e+"deg);  -ms-transform:rotate("+e+"deg);"},t}(Gc);jl.register("OldSwooshAttentionGrabber").asCtor(Vc).asProto().dependencies("Lib, CommonUtils, TimerManager, EndUsersManager, AuditSourceManager, HostData, WmAjax");var jc=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},Qc=function(e){function t(t,n,r,i,o,a,s,u){e.call(this,t,n,r,i,o,a,s,u),this.positions=["left","right","top","bottom"],this._templateId=this._data.UITemplateId,this._templateVersion=this._data.UITemplateVersion,this._templateVariations=[];for(var l in this._data.UIVariationsIds)this._templateVariations.push(jl.get("UIVariations").get(this._data.UIVariationsIds[l]));this._data.Settings.customVariation&&this._templateVariations.push(this._data.Settings.customVariation),this._setPositionProxy=wmjQuery.proxy(function(){this.setPosition()},this),this._playerMajorPosition=this._config[this.POSITION].slice(0,this._config[this.POSITION].indexOf("-")),this._agPlayInitiator=t.getPlayInitiatorEnum().ATTENTION_GRABBER}return jc(t,e),t.prototype.isSupportedByBrowser=function(){return!ef.isIE(7)},t.prototype.getHtml=function(){return jl.get("TemplatesFactory").get(this._templateId,this._templateVersion,this._templateVariations,this.getTemplateData())},t.prototype.getTemplateData=function(){return{}},t.prototype.getHorizontalOffset=function(){return 0},t.prototype.getVerticalOffset=function(){return 0},t.prototype.animate=function(){},t.prototype.postDrawing=function(){this.addMainClass(),this._attentionGrabber.show(),this._attentionGrabberWrapper.show(),this.setPosition(),this.bindEvents(),this.animate()},t.prototype.addMainClass=function(){this._attentionGrabber.addClass("wm-ag-"+this._mainClass)},t.prototype.copyCssProperties=function(){for(var e=0;e<this.positions.length;e++)this._attentionGrabberWrapper.css(this.positions[e],this.getCssPosition(this._player,this.positions[e])),this._attentionGrabberWrapper.css("margin-"+this.positions[e],this._player.css("margin-"+this.positions[e]))},t.prototype.fixCssMargins=function(e,t){var n=parseFloat(this._attentionGrabberWrapper.css("margin-left"))||0,r=parseFloat(this._attentionGrabberWrapper.css("margin-right"))||0,i=parseFloat(this._attentionGrabberWrapper.css("margin-top"))||0,o=parseFloat(this._attentionGrabberWrapper.css("margin-bottom"))||0;this._attentionGrabberWrapper.css("margin-left",n+e+"px").css("margin-right",r+e+"px"),this._attentionGrabberWrapper.css("margin-top",i+t+"px").css("margin-bottom",o+t+"px")},t.prototype.getCssPosition=function(e,t){var n,r=e[0].style[t];n=this._lib.getHostData().isIE(8)?e[0].currentStyle[t]:e.css(t),e.important(t,"auto");var i=e.css(t);return e.important(t,""),r&&(e[0].style[t]=r),n!=i?n:"auto"},t.prototype.setLogicCss=function(){this._attentionGrabberWrapper.css("z-index"," 2147483647"),this._attentionGrabberWrapper.css("cursor","pointer")},t.prototype.bindEvents=function(){wmjQuery(window).resize(this._setPositionProxy);var e=wmjQuery.proxy(function(){var e={type:this._agPlayInitiator};this._menu.toggle({initiator:e})},this);this._attentionGrabberWrapper.click(e)},t.prototype.unbindEvents=function(){wmjQuery(window).off("resize",this._setPositionProxy)},t.prototype.setPosition=function(){this._attentionGrabberWrapper.css("position","fixed"),this.setLogicCss();var e,t;"left"==this._playerMajorPosition||"right"==this._playerMajorPosition?(e=this._player.outerWidth()+this.getHorizontalOffset(),t=(this._player.outerHeight()-this._attentionGrabber.outerHeight())/2):("top"==this._playerMajorPosition||"bottom"==this._playerMajorPosition)&&(e=(this._player.outerWidth()-this._attentionGrabber.outerWidth())/2,t=this._player.outerHeight()+this.getVerticalOffset()),this.copyCssProperties(),this.fixCssMargins(e,t)},t.prototype.remove=function(t){try{this.unbindEvents(),e.prototype.remove.call(this,t)}catch(n){e.prototype.remove.call(this,t)}},t}(Gc);jl.register("TemplateAttentionGrabber").asCtor(Qc).asProto().dependencies("Lib, CommonUtils, TimerManager, EndUsersManager, AuditSourceManager, HostData, WmAjax");var jc=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Hc=function(e){function t(t,n,r,i,o,a,s,u){e.call(this,t,n,r,i,o,a,s,u),this._mainClass="ag",this._animationDuration=this._settings.animationDuration||700}return jc(t,e),t.prototype.isSupportedByBrowser=function(){return!ef.isIE(9,"lte")},t.prototype.postDrawing=function(){this._attentionGrabberWrapper.detach().appendTo(this._player),this._attentionGrabberWrapper.css({position:"absolute",overflow:"hidden",width:"100%",height:"100%","z-index":this._player.css("z-index"),right:"0",bottom:"auto",top:"0"}).important("background","none"),this._attentionGrabber.show(),this._attentionGrabberWrapper.show(),this.animate()},t.prototype.animate=function(){function e(){var i={};i[o]=u,t.animate(i,n);var s=this._stopAnimation;r.setWalkmeTimeout(function(){var e={};e[o]=a,t.animate(e,n)},1e3),s||r.setWalkmeTimeout(e,4e3)}var t=this._attentionGrabber,n=this._animationDuration,r=this._timerManager,i=this.isHorizental(),o=i?"right":"top",a="-60px";t.css(o,a);var s=i?"width":"height",u=1.3*parseFloat(this._player.css(s))+"px";this.initAnimationProperties(i),e()},t.prototype.initAnimationProperties=function(e){e?this.setInitCss("15deg","50px","130%"):this.setInitCss("105deg","130%","50px")},t.prototype.setInitCss=function(e,t,n){this._attentionGrabber.css({height:n,width:t,transform:"rotate("+e+")","-moz - transform":"rotate("+e+")","-webkit - transform":"rotate("+e+")","-o - transform":"rotate("+e+")","-ms - transform":"rotate("+e+")"})},t.prototype.isHorizental=function(){return this._player.width()>this._player.height()},t}(Qc);jl.register("SwooshAttentionGrabber").asCtor(Hc).asProto().dependencies("Lib, CommonUtils, TimerManager, EndUsersManager, AuditSourceManager, HostData, WmAjax");var jc=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},zc=function(e){function t(t,n,r,i,o,a,s,u){e.call(this,t,n,r,i,o,a,s,u),this._oppositeDirections={left:"right",right:"left",bottom:"top",top:"bottom"}}return jc(t,e),t.prototype.getTemplateData=function(){var e=jl.get("LanguageManager");return{title:this.getBalloonTitle(),text:this.getBalloonText(),position:this.getOppositeDirection(this._playerMajorPosition),buttons:this._settings.buttons,direction:this.getDirection(),language:e.getCurrentLanguage()}},t.prototype.getBalloonText=function(){return""},t.prototype.getBalloonTitle=function(){return void 0},t.prototype.setLogicCss=function(){e.prototype.setLogicCss.call(this),this._attentionGrabberWrapper.css("direction",this.getDirection())},t.prototype.bindEvents=function(){e.prototype.bindEvents.call(this);var t=wmjQuery.proxy(this.remove,this);this._xBtn=wmjQuery(".wm-x-button",this._attentionGrabberWrapper),this._xBtn.click(function(){
t()})},t.prototype.getHorizontalOffset=function(){return wmjQuery(".wm-outer-arrow",this._attentionGrabberWrapper).outerWidth()},t.prototype.getVerticalOffset=function(){return wmjQuery(".wm-outer-arrow",this._attentionGrabberWrapper).outerHeight()},t.prototype.animate=function(){function e(){if(1==a)return a=0,void s(function(){e()},3e3);a++;var u={};u[n]=i,t.animate(u,{easing:"swing",duration:700,complete:function(){s(function(){var i={};i[n]=r+5+"px",t.animate(i,{easing:"easeOutBounce",duration:700,complete:function(){o||s(function(){e()},100)}})},100)}})}var t=this._attentionGrabberWrapper,n=this._playerMajorPosition,r=parseInt(t.css(n)),i=r+30+"px",o=this._stopAnimation,a=0,s=this._timerManager.libSetTimeout;e()},t.prototype.getOppositeDirection=function(e){return this._oppositeDirections[e]},t.prototype.remove=function(t){try{if(this._attentionGrabberWrapper){this._attentionGrabberWrapper.off("click"),this._xBtn&&this._xBtn.off("click");var n=wmjQuery.proxy(e.prototype.remove,this);this._attentionGrabberWrapper.stop(!0,!0);var r={opacity:0};ef.isIE(8)?e.prototype.remove.call(this,t):this._attentionGrabberWrapper.animate(r,{duration:300,complete:function(){n(t)}})}else e.prototype.remove.call(this,t)}catch(i){e.prototype.remove.call(this,t)}},t}(Qc);jl.register("BalloonAttentionGrabber").asCtor(zc).asProto().dependencies("Lib, CommonUtils, TimerManager, EndUsersManager, AuditSourceManager, HostData, WmAjax");var jc=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},Yc=function(e){function t(t,n,r,i,o,a,s,u){e.call(this,t,n,r,i,o,a,s,u),this._mainClass="ticker",this._textItems=[],this.MAX_DEPLOYABLES_TO_SHOW=5;var l=this.getDefaultOrFirstTab();if(l)for(var c=l.children(),d=0,f=0;f<c.length;f++){var p=c[f];if(p.properties().hasProperty("visible")&&(this._textItems.push(p.name()),d++),d==this.MAX_DEPLOYABLES_TO_SHOW)break}this._currentDeployableIndex=0}return jc(t,e),t.prototype.setupAttenGrab=function(){0!==this._textItems.length&&e.prototype.setupAttenGrab.call(this)},t.prototype.getBalloonTitle=function(){return"Help me with..."},t.prototype.getBalloonText=function(){return this._textItems[this._currentDeployableIndex]},t.prototype.getDeployableText=function(){var e=this._textItems[this._currentDeployableIndex];return this._currentDeployableIndex<Math.min(this.MAX_DEPLOYABLES_TO_SHOW,this._textItems.length)-1?this._currentDeployableIndex++:this._currentDeployableIndex=0,e},t.prototype.animate=function(){if(ef.isIE(8))this.innerAnimate();else{this._attentionGrabberWrapper.css({opacity:0});var e={opacity:1},t=wmjQuery.proxy(this.innerAnimate,this);this._attentionGrabberWrapper.animate(e,{duration:300,complete:t})}},t.prototype.innerAnimate=function(){var e=wmjQuery(".wm-title",this._attentionGrabber),t={opacity:1};this.fixOpacityForIe8(t),e.css(t);var n=this._stopAnimation;e.text(Dh(this.getDeployableText(),["&",'"',"'",">","<"]));var r=wmjQuery.proxy(this.innerAnimate,this),i=this._timerManager.libSetTimeout;e.animate(t,{duration:700,complete:function(){i(function(){var t={opacity:0};e.animate(t,{duration:700,complete:function(){n||r()}})},2e3)}})},t.prototype.getDirection=function(){return"ltr"},t.prototype.fixOpacityForIe8=function(e){ef.isIE(8)&&(e.opacity=.99)},t}(zc);jl.register("TickerAttentionGrabber").asCtor(Yc).asProto().dependencies("Lib, CommonUtils, TimerManager, EndUsersManager, AuditSourceManager, HostData, WmAjax");var jc=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},qc=function(e){function t(t,n,r,i,o,a,s,u){e.call(this,t,n,r,i,o,a,s,u),this._mainClass="custom-text"}return jc(t,e),t.prototype.getBalloonText=function(){return this._settings.text||""},t.prototype.setLogicCss=function(){e.prototype.setLogicCss.call(this);var t=wmjQuery(".wm-title",this._attentionGrabber);t.css("width","auto")},t}(zc);jl.register("CustomTextAttentionGrabber").asCtor(qc).asProto().dependencies("Lib, CommonUtils, TimerManager, EndUsersManager, AuditSourceManager, HostData, WmAjax");var jc=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},Kc=function(e){function t(t,n,r,i,o,a,s,u,l){e.call(this,t,n,r,i,o,a,s,l),this._mainClass="custom-image",this._resourceManager=u}return jc(t,e),t.prototype.getHtml=function(){var e=this._resourceManager.getResourcePath(this._settings.image.url);if(this.isHttpOverHttps(e))return this._logger.customerLog("Attention Grabber - Could not load Custom Image because source is http over https",3),Hp("AGDataInsecure",{name:"Custom Image"}),null;var t=jl.get("TemplatesFactory").get(this._templateId,this._templateVersion,this._templateVariations,{src:e});return t.height(this._settings.image.height).width(this._settings.image.width),t},t.prototype.setLogicCss=function(){e.prototype.setLogicCss.call(this),this._attentionGrabberWrapper.height(this._settings.image.height).width(this._settings.image.width)},t.prototype.isHttpOverHttps=function(e){return e?0!=window.location.href.indexOf("https://")?!1:-1==e.indexOf("https://"):!1},t}(Qc);jl.register("CustomImageAttentionGrabber").asCtor(Kc).asProto().dependencies("Lib, CommonUtils, TimerManager, EndUsersManager, AuditSourceManager, HostData, WmAjax, ResourceManager");var jc=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},Xc=function(e){function t(t,n,r,i,o,a,s,u){e.call(this,t,n,r,i,o,a,s,u),this._balloonsData={0:{classType:"3.sub",title:"Meet WalkMe!",text:"Your New Personal Assistant.",buttonText:"Start",position:"bottom-center",firstBalloon:!0},1:{classType:"3.sub",text:"The WalkMe menu is the place to get all the help you might need.",boldText:'Click "Next" and take a look...',buttonText:"Next",position:"bottom-center",delay:1,marginBottom:3},2:{classType:"3.sub",text:"Here you can select your preferred language.",boldText:'Click "Next" to continue...',buttonText:"Next",position:"bottom-center",attachedToElementSelector:"#walkme-languages",moveArrow:!0},3:{classType:"3.sub",text:"Quickly find answers to your support issue by using the search bar.",boldText:'Click "Next" to continue...',buttonText:"Next",position:"right-middle",attachedToElementSelector:".walkme-search-box-container",marginRight:12},4:{classType:"3.sub",text:"All the Walk-Thrus and help resources are located here, click them to start your online guidance.",boldText:'Click "Next" to continue...',buttonText:"Next",position:"right-middle",attachedToElementSelector:".walkme-deployables-list .walkme-tab .walkme-deployable",marginRight:14},5:{classType:"3.sub",text:"Couldn't find what you want? this link takes you to the support page.",boldText:"To learn more about WalkMe, click here.",buttonText:"Next",position:"bottom-center",attachedToElementSelector:".walkme-open-ticket",moveArrow:!0},6:{classType:"3.sub",title:"Thank You!",text:"We're here to help.",buttonText:"Done",position:"bottom-center",marginBottom:3}},this._stepIndex=0,this._themeVariation=this._data.ExtraUIVariationsIds[0],this._balloonsData[0].position=this._config[this.POSITION],this._balloonsData[0].delay=this._settings.delay,this._agPlayInitiator=t.getPlayInitiatorEnum().ATTENTION_GRABBER;var l=wmjQuery.proxy(this.updateJqueryMenu,this);this._menu.bind("build-menu-end",function(e,t){l(t.menu)})}return jc(t,e),t.prototype.updateJqueryMenu=function(e){this._jQueryMenu=e},t.prototype.createAg=function(e,t){var n=wmjQuery.proxy(this.showNextBalloon,this),r=wmjQuery.proxy(function(){var e=wmjQuery.proxy(function(){if(n(),1==this._stepIndex){var e={type:this._agPlayInitiator};WalkMePlayerAPI.toggleMenu(e)}},this);o.remove(e)},this),i={config:{Direction:this._config.Direction},player:e,menu:this._menu,onClickFunc:r,agData:{Id:t.firstBalloon?this._agId:null,ClassType:t.classType,UITemplateId:this._data.UITemplateId,UITemplateVersion:this._data.UITemplateVersion,UIVariationsIds:[this._themeVariation,this._data.ExtraUIVariationsIds[this._stepIndex+1]],Settings:{delay:t.delay,text:t.text,title:t.title,boldText:t.boldText,buttons:[{text:t.buttonText}],firstBalloon:t.firstBalloon,attachedToElementSelector:t.attachedToElementSelector,jQueryMenu:this._jQueryMenu,moveArrow:t.moveArrow,marginRight:t.marginRight,marginBottom:t.marginBottom}}};i.config[this.POSITION]=t.position;var o=jl.create("AttentionGrabber",i);this._currentAg=o,o.setupAttenGrab()},t.prototype.showNextBalloon=function(){if(!this._stopPlaying&&(this._stepIndex++,this._balloonsData[this._stepIndex])){if(!this.shouldPlay())return void this.showNextBalloon();if(this._jQueryMenu)this.createAg(this._jQueryMenu,this._balloonsData[this._stepIndex]);else{var e=wmjQuery.proxy(function(e){this._jQueryMenu=e,this.createAg(e,this._balloonsData[this._stepIndex])},this);this._menu.bind("on-open-end",function(t,n){t.target.unbind("on-open-end"),e(n.menu)})}}},t.prototype.shouldPlay=function(){var e=this._balloonsData[this._stepIndex].attachedToElementSelector;return e?wmjQuery(e+":visible",this._jQueryMenu).length>0:!0},t.prototype.setupAttenGrab=function(){if(this.isWalkthrusTab()&&"iOS"!=ef.os.name&&"Android"!=ef.os.name){var e=wmjQuery.proxy(this.stopAll,this);this._menu.bind("on-close-begin",function(t){e()}),this.createAg(this._player,this._balloonsData[0])}},t.prototype.isWalkthrusTab=function(){var e=this.getDefaultOrFirstTab(),t=e.properties().getAll();return wmjQuery.inArray("contains-walkthru",t)>-1},t.prototype.stopAll=function(){this._stopPlaying=!0,this._currentAg.remove()},t.prototype.remove=function(t){this._currentAg&&this._currentAg.remove(),e.prototype.remove.call(this,t)},t}(Gc);jl.register("MenuOverviewAttentionGrabber").asCtor(Xc).asProto().dependencies("Lib, CommonUtils, TimerManager, EndUsersManager, AuditSourceManager, HostData, WmAjax");var jc=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},Jc=function(e){function t(t,n,r,i,o,a,s,u){e.call(this,t,n,r,i,o,a,s,u),this._mainClass="menu-overview",this._arrowOffset=0,this._onClickFunc=u.onClickFunc}return jc(t,e),t.prototype.getTemplateData=function(){return{title:this._settings.title,"bold-text":this._settings.boldText,text:this._settings.text,position:this.getOppositeDirection(this._playerMajorPosition),buttons:this._settings.buttons}},t.prototype.setLogicCss=function(){e.prototype.setLogicCss.call(this),this.moveArrow(),this._data.Settings.firstBalloon||this._attentionGrabberWrapper.css("cursor","auto")},t.prototype.moveArrow=function(){if(this._data.Settings.moveArrow){var e=wmjQuery(".wm-outer-arrow",this._attentionGrabberWrapper),t=wmjQuery(".wm-inner-arrow",this._attentionGrabberWrapper),n=e.offset().left;e.css("left");e.css("left","85%"),t.css("left","85%");var r=e.offset().left,i=r-n;this._arrowOffset=i,this._data.Settings.moveArrow=!1}},t.prototype.bindEvents=function(){e.prototype.bindEvents.call(this),this._attentionGrabberWrapper.off("click"),wmjQuery(".wm-button",this._attentionGrabberWrapper).click(this._onClickFunc),this._fixPositionProxy=wmjQuery.proxy(this.fixPosition,this),wmjQuery(window).resize(this._fixPositionProxy),this._data.Settings.firstBalloon&&this._attentionGrabberWrapper.click(this._onClickFunc)},t.prototype.unbindEvents=function(){e.prototype.unbindEvents.call(this),wmjQuery(window).off("resize",this._fixPositionProxy)},t.prototype.animate=function(){this.fixPosition(),this._data.Settings.firstBalloon&&e.prototype.animate.call(this)},t.prototype.fixPosition=function(){var e=this._attentionGrabberWrapper.css("margin-bottom"),t=this._attentionGrabberWrapper.css("margin-right"),n=this._data.Settings.marginRight||0,r=this._data.Settings.marginBottom||0;if(this._data.Settings.attachedToElementSelector){var i=this._data.Settings.jQueryMenu,o=wmjQuery(this._data.Settings.attachedToElementSelector,i),a=o.offset().left-i.offset().left,s=o.offset().top-i.offset().top;if("bottom"==this._playerMajorPosition){var u=(this._attentionGrabberWrapper.width(),i.width()),l=this._attentionGrabberWrapper.css("margin-bottom"),c=o.width(),d=(o.css("margin-right"),o.css("margin-top"),parseFloat(t)+u/2-a-c/2+this._arrowOffset+n);this._attentionGrabberWrapper.css("margin-right",d+"px").css("margin-bottom",parseFloat(l)-s+r+"px")}else{var f=i.height(),p=(i.css("border-left-width"),o.css("margin-right"),o.height()),d=parseFloat(e)+f/2-s-p/2+r;this._attentionGrabberWrapper.css("margin-right",parseFloat(t)-a+n+"px").css("margin-bottom",d+"px")}}else this._attentionGrabberWrapper.css("margin-right",parseFloat(t)+n+"px").css("margin-bottom",parseFloat(e)+r+"px")},t}(qc);jl.register("MenuOverviewSubAttentionGrabber").asCtor(Jc).asProto().dependencies("Lib, CommonUtils, TimerManager, EndUsersManager, AuditSourceManager, HostData, WmAjax"),jl.register("RegularBodyUtils").asCtor(sn);var sn;jl.register("TagBodyUtils").asCtor(un);var un;jl.register("CommonUtils").asCtor(ln).dependencies("TimerManager, HostData, AuditSourceManager, Consts, RegularBodyUtils, CookiesManager, SettingsValuesRetriever, ExternalWalkMeConfig, win");var ln;jl.register("SettingsValuesRetriever").asCtor(cn),jl.register("UiUtils").asCtor(dn).dependencies("Lib");var dn;jl.register("Balloon").asCtor(fn).asProto(),jl.register("Tooltip").asCtor(fn).asProto(),jl.register("BaseBalloon").asCtor(pn).asProto().dependencies("CommonUtils, SiteConfigManager"),jl.register("ArrowsHelper").asCtor(gn).asProto().dependencies("Consts"),jl.register("BalloonV2").asCtor(hn).asProto().dependencies("CommonUtils, BalloonUtils"),jl.register("BalloonV3").asCtor(mn).asProto().dependencies("CommonUtils, ShadowCalculator, ClickAndHoverAdder"),jl.register("TooltipV1").asCtor(vn).asProto().dependencies("ShadowCalculator"),jl.register("BalloonVM1").asCtor(yn).asProto().dependencies("CommonUtils, ShadowCalculator, ClickAndHoverAdder"),jl.register("BaseBalloonDrawer").asCtor(wn).asProto().dependencies("Logger, UiUtils, CommonUtils, HostData, LanguageManager, Consts, PositionHelper, SiteConfigManager, BalloonUtils"),jl.register("BalloonDrawerV2").asCtor(bn).asProto().dependencies("UiUtils, BalloonUtils"),jl.register("BalloonDrawerV3").asCtor(Sn).asProto().dependencies("ArrowsHelper, CommonUtils, ResourceManager, UiUtils, Consts"),jl.register("TooltipDrawerV1").asCtor(Tn).asProto().dependencies("CommonUtils, ResourceManager, UiUtils, Consts"),jl.register("BalloonDrawerVM1").asCtor(In).asProto().dependencies("ArrowsHelper, CommonUtils, ResourceManager, UiUtils, Consts"),jl.register("BalloonDrawerFactory").asCtor(Cn),jl.register("ClickAndHoverAdder").asCtor(En),jl.register("ShadowCalculator").asCtor(kn).dependencies("UiUtils"),jl.register("DrawableLauncher").asCtor(_n).asProto(),jl.register("AuditStepsManager").asCtor(xn).dependencies("Lib,ServerDataSenderManager,WalkMeInfo,Logger,HostData,WmAjax,Consts,StepUtils,CommonUtils,EventSender, AuditSafeStartManager, StepActionToEventSenderStepActionNameMapper, SettingsValuesRetriever, StepActionToEventSenderActionAppTypeMapper"),jl.register("AuditWtsManager").asCtor(Pn).dependencies("DeployableTypes, EventSender, ReportInitiatorMapper"),jl.register("AuditTasksManager").asCtor(Dn).dependencies("EventSender, Consts, ReportInitiatorMapper, DeployableTypeToEventSenderAppTypeMapper, Lib, AuditingEnabledIndicator"),jl.register("AuditSafeStartManager").asCtor(An).dependencies("EventSender,ReportInitiatorMapper,Logger, Consts"),jl.register("EndUsersManager").asCtor(On).dependencies("ClientStorageManager,Logger,JQueryElementFinder,Lib,GenerateGuidFunc,CommonUtils,CommonEvents"),jl.register("EndUserLoggerManager").asCtor(Nn).dependencies("ClientStorageManager, Logger, EndUsersManager, SiteConfigManager, AbCurrentPermutationProvider, Lib, RecorderServerManager, HostData, FeaturesManager"),jl.register("mobileConditionFunctions").asCtor(Mn).asSingleton().dependencies("CommonUtils, Consts"),jl.register("ScreenSizeConditionFunctions").asCtor(Ln).asSingleton().dependencies("screen"),jl.register("WindowSizeConditionFunctions").asCtor(Bn).asSingleton().dependencies("win");var $c=function(){function e(e,t,n){this.args=[];for(var r in arguments)arguments[r]&&this.args.push(arguments[r])}return e.prototype.getFuncList=function(){var e={};return wmjQuery.safeEach(this.args,function(t,n){n&&n.getFuncList&&wmjQuery.extend(e,n.getFuncList())}),e},e.prototype.getFuncAssert=function(){var e=[];return wmjQuery.safeEach(this.args,function(t,n){n&&n.getFuncAssert&&wmjQuery.extend(e,n.getFuncAssert())}),e},e.prototype.getAsyncFuncs=function(){var e=[];return wmjQuery.safeEach(this.args,function(t,n){n&&n.getAsyncFuncs&&e.push.apply(e,n.getAsyncFuncs())}),e},e}();jl.register("ConditionFunctionsHandler").asCtor($c).asSingleton().dependencies("ScreenSizeConditionFunctions, mobileConditionFunctions, WindowSizeConditionFunctions");var Zc={};Zc.fixed=function(e){var t=new Zc.regular;return t.setValue(e),t},Zc.noMemory=function(){function e(e){n=e}var t,n,r,i=this;i.onGotValue=function(e){},i.getValue=function(e){return e?r:r=n()},i.hasValue=function(){return!0},i.onResourceClean=function(e){t=e},i.cleanResources=function(){t&&t()},i.onRefresh=function(){},i.refresh=function(){},e.apply(null,arguments)},Zc.regular=function(){function e(){}var t,n,r,i,o=this,a=!1;o.onGotValue=function(e){n=e},o.setValue=function(e){t=e,a=void 0!==e,n&&n(o.getValue())},o.getValue=function(){return t},o.hasValue=function(){return a},o.onResourceClean=function(e){r=e},o.cleanResources=function(){r&&r(),n=void 0},o.onRefresh=function(e){i=e},o.refresh=function(){i&&i()},e.apply(null,arguments)},Zc.complex=function(){function e(e,n,a){r=e,i=n,o=a,r.onGotValue(t),i.onGotValue(t)}function t(){var e=s.hasValue()&&n?!0:!1;e&&n(s.getValue())}var n,r,i,o,a,s=this;s.getValue=function(e){return e?a:a=o(r.getValue,i.getValue)},s.onGotValue=function(e){n=e},s.hasValue=function(){return o(r.hasValue,i.hasValue)},s.cleanResources=function(){r.cleanResources(),i.cleanResources(),n=void 0},s.refresh=function(){r.refresh(),i.refresh()},e.apply(null,arguments)},this.ConditionFunctions=function(e,t,n,r,i,o,a,s){function c(e,t){return n.isBigger(e,t)}function d(e,t){return n.isSmaller(e,t)}function f(e,t){return n.isLike(e,t)}function p(e){var t=e.split(":"),n=Number(t[0]),r=Number(t[1]);return 60*n+r}function g(e){var t=new RegExp("[ 	"+String.fromCharCode(160)+"\r\n\f]+","gi");return e=e.replace(t," "),e=wmjQuery.trim(e)}function h(e){el("jQuery find element for condition",5);var n=t.findElementsByjQueryComplexSelector(e.jQuerySelector);return el(n,5),0===n.length&&(n=!1),n}function m(e,t,n){var r=function(){return h(e)};return b(t,n,r)}function v(e,t,n,r){var i=function(){return h(e)};return C(e,t,n,r,i)}function y(e){return"boolean"==typeof e?e:1===e?!0:0===e?!1:"string"==typeof e?"true"==e.toLowerCase()||"1"==e?!0:"false"==e.toLowerCase()||"0"==e?!1:void 0:void 0}function w(e){var t=A();return e.IdentifySettings?(t.ElementDescription=l(u(e.IdentifySettings.ElementDescription)),t.IsIgnoreText=void 0===e.IdentifySettings.IgnoreText?y(e.IdentifySettings.IsIgnoreText):parseInt(e.IdentifySettings.IgnoreText),t.StepSensitivity=void 0===e.IdentifySettings.Sensitivity?parseInt(e.IdentifySettings.StepSensitivity):parseInt(e.IdentifySettings.Sensitivity),t.IsIgnoreId=void 0===e.IdentifySettings.IgnoreId?y(e.IdentifySettings.IsIgnoreId):parseInt(e.IdentifySettings.IgnoreId),t.IgnorePosition=y(e.IdentifySettings.IgnorePosition),t.IsIdentifyByText=y(e.IdentifySettings.IsIdentifyByText)):t.ElementDescription=l(u(e.ElementDescription)),t}function b(e,t,n){function r(){el("Poll Element: start search for element (polling: "+t>"0)",5),o&&o.clear();var s=a?S(a):!1;if(!s){if(a){var u=I(e,ae);a.off(u),el("Poll Element: Sonar bound element was lost: ",5),el(a,5)}a=n(),el("Poll Element: element matched: ",5),el(a,5),a?i=T(e,i,a,r):t>=0&&i.setValue(!1)}return t>=0&&(o=Gp.libSetTimeout(r,t)),i}var i=new Zc.regular;i.onResourceClean(function(){t=-1}),i.onRefresh(function(){r()});var o,a;return r()}function S(e){var t;try{t=e[0].ownerDocument}catch(n){return!1}var r=t.defaultView||t.parentWindow;return r&&r.top==window.top&&e.is(":mt_visible")?!0:!1}function T(e,t,n,r,i){function o(){if(el("Listening to event on element. (event:'"+e+"', element specified below) ",5),el(n,5),n){var t=I(e,ae);n.on(t,u)}}function s(){try{if(el("Stopped listening for event in condition checker result. (event:'"+e+"', element specified below) ",5),el(n,5),n){var t=I(e,ae);n.off(t,u)}}catch(r){}}var u=function(){el("An event was fired for condition checker result. (event:'"+e+"', element specified below) ",3),el(n[0],3),a.wrapSession(function(){t.setValue(!0)})};return o(),t.onResourceClean(s),t.onRefresh(function(){t.setValue(!1),r()}),t}function I(e,t){return e.replace(/ /g,t+" ")+t}function C(e,t,n,r,i){var o,a=function(e){return e?o:o=i()},s=new Zc.regular,u=b(t,r,function(){return a(!1)}),l=b(n,r,function(){return a(!0)});return u.onGotValue(function(e){e&&s.setValue(!0)}),l.onGotValue(function(e){e&&s.setValue(!1)}),s.onResourceClean(function(){u.cleanResources(),l.cleanResources()}),s}function E(t){var n=w(t);el("Find element for condition",5);var r=e.findElement(n,null);return el(r,5),r}function k(e,t,n){var r=function(){return E(e)};return b(t,n,r)}function _(e,t,n,r){var i=function(){return E(e)};return C(e,t,n,r,i)}function x(e,t){return e/=t,e--,Math.sqrt(1-e*e)}var P=this,D={TRUE:0,FALSE:1,CANNOT_ASSERT:2},A=function(){var e={Id:-1,TutorialId:-1,StepText:"",StepTitle:"",ElementDescription:"",StepIndex:-1,ConfigurationId:"1",Configuration:null,StepSensitivity:1,Type:-1,Settings:{},Duration:4,Delay:0};return e};this.getElementTextForEditor=function(e){var t=l(e);return P.getElementText(t)},this.getElementStrength=function(t){var n=l(t),r=w(n),i={score:-1},o=e.findElement(r,null,i);return o?i.score:void 0},this.getElementText=function(t){var r=w(t),i=e.findElement(r,!1);return i===!1?!1:n.checkElementText(wmjQuery(i))};var O=function(e,t,n){return m(e,"hover",n)},N=function(e,t,n){return m(e,"click mouseup mousedown",n)},M=function(e,t,n){return m(e,"swipe",n)},L=function(e,t,n){return v(e,"mouseenter","mouseleave",n)},B=function(e){return t.findElementsByjQueryComplexSelector(e.jQuerySelector).length>0},F=function(e){return 0==t.findElementsByjQueryComplexSelector(e.jQuerySelector).length},j=function(e){return t.findElementsByjQueryComplexSelector(e.jQuerySelector).length>parseInt(e.jQueryLength)},R=function(e){return t.findElementsByjQueryComplexSelector(e.jQuerySelector).length<parseInt(e.jQueryLength)},U=function(e){return t.findElementsByjQueryComplexSelector(e.jQuerySelector).length==parseInt(e.jQueryLength)},G=function(e){return t.findElementsByjQueryComplexSelector(e.jQuerySelector).length!=parseInt(e.jQueryLength)},W=function(e){for(var t=parseInt(e.StepId),n=0;n<xg.length;n++)if(xg[n]==t)return!0;return!1},V=function(e){return!W(e)},Q=function(e){for(var t=parseInt(e.StepId,10),n=0;n<Pg.length;n++)if(Pg[n]==t)return!0;return!1},H=function(e){return!Q(e)},z=function(e){var t=new Date(Dh(e.DateInput,["&"])),n=new Date;return n.setHours(0,0,0,0),t-n==0},Y=function(e){return!z(e)},q=function(e){var t=new Date(Dh(e.DateInput,["&"])),n=new Date;return n.setHours(0,0,0,0),n>=t},K=function(e){var t=new Date(Dh(e.DateInput,["&"])),n=new Date;return n.setHours(0,0,0,0),t>=n},X=function(e){var t=new Date;return Number(e.DateInput)==t.getDay()},J=function(e){var t=new Date;return Number(e.DateInput)==t.getMonth()},$=function(e){var t=new Date;return Number(e.DateInput)==t.getFullYear()},Z=function(e){var t=new Date,n=60*t.getHours()+t.getMinutes();return n>=p(e.TimeInput)},ee=function(e){var t=new Date,n=60*t.getHours()+t.getMinutes();return n<=p(e.TimeInput)},te=function(e){var t=Dh(e.UrlInput,["&"]);return eh(t.toLowerCase())==eh(jg().toLowerCase())},ne=function(e){return!te(e)},re=function(e){var t=Dh(e.UrlInput,["&"]);return eh(jg()).toLowerCase().indexOf(eh(t).toLowerCase())>=0},ie=function(e){return!re(e)},oe=function(t){var n=w(t);return 0!=e.findElement(n,!1)},ae=".mtCond",se=function(e,t,n){return k(e,"hover",t)},ue=function(e,t,n){return k(e,"click mouseup mousedown",t)},le=function(e,t,n){return k(e,"swipe",t)},ce=function(e,t,n){return _(e,"mouseenter","mouseleave",t)},de=function(e){return!oe(e)},fe=function(t){var n=w(t);return 0!=e.findElement(n,!0)},pe=function(e){return!fe(e)},ge=function(t){var n=w(t),r=e.findElement(n,!1);return wmjQuery(r).is(":checked")},he=function(e){return!ge(e)},me=function(e){var t=P.getElementText(e),n=Dh(e.ElementText,["&",'"',"'",">","<"]);return t===!1?!1:g(t.toLowerCase())==g(n.toLowerCase())},ve=function(e){return!me(e)},ye=function(e){var t=P.getElementText(e);return t===!1?!1:c(t,e.ElementText)},we=function(e){var t=P.getElementText(e);return t===!1?!1:d(t,e.ElementText)},be=function(e){var t=P.getElementText(e),n=Dh(e.ElementText,["&",'"',"'",">","<"]);return t===!1?!1:f(g(t),g(n))},Se=function(e){return!be(e)},Te=function(e){var t=Dh(e.UrlInput,["&"]);if(0==t.indexOf("regexp:"))return $g(t);var n=eh(jg()),r=eh(t);return f(n,r)},Ie=function(e){return!Te(e)},Ce=function(e){var n=Dh(e.jQueryText,["&",'"',"'"]);return g(t.getjQueryElementText(e.jQuerySelector).toLowerCase())==g(n.toLowerCase())},Ee=function(e){return!Ce(e)},ke=function(e){return c(t.getjQueryElementText(e.jQuerySelector),e.jQueryText)},_e=function(e){return d(t.getjQueryElementText(e.jQuerySelector),e.jQueryText)},xe=function(e){var n=Dh(e.jQueryText,["&",'"',"'"]);return f(g(t.getjQueryElementText(e.jQuerySelector)),g(n))},Pe=function(e){return!xe(e)},De=function(e){var t=Dh(e.UrlInput,["&"]);return eh(t.toLowerCase())==eh(Rg().toLowerCase())},Ae=function(e){return!De(e)},Oe=function(e){var t=Dh(e.UrlInput,["&"]);return eh(Rg().toLowerCase()).indexOf(eh(t.toLowerCase()))>=0},Ne=function(e){return!Oe(e)},Me=function(e){var t=Dh(e.UrlInput,["&"]),n=eh(Rg()),r=eh(t);return f(n,r)},Le=function(e){return!Me(e)},Be=function(e){return f(r.browser.string,"*"+e.BrowserName+"*")},Fe=function(e){return!Be(e)},je=function(e){return window.self!==window.top},Re=function(e){return!je(e)},Ue=4e3,Ge=function(e){var t=sf.getData(Sg);if(!t)return!1;var n=((new Date).getTime()-t)/2,r=n>Ue?Ue:x(n,Ue)*Ue;return Kd+r>t},We=function(e){return!Ge(e)},Ve=function(e){var t=ep.getCookie(e.CookieName),n=Dh(e.CookieInput,["&",'"',"'"]);return t===!1?!1:t.toLowerCase()==n.toLowerCase()},Qe=function(e){return!Ve(e)},He=function(e){var t=ep.getCookie(e.CookieName);return t===!1?!1:c(t,e.CookieInput)},ze=function(e){var t=ep.getCookie(e.CookieName);return t===!1?!1:d(t,e.CookieInput)},Ye=function(e){var t=ep.getCookie(e.CookieName),n=Dh(e.CookieInput,["&",'"',"'"]);return t===!1?!1:f(t,n)},qe=function(e){return!Ye(e)},Ke=function(e){var t=ep.getCookie(e.CookieName);return t!==!1},Xe=function(e){return!Ke(e)},Je=function(e){var t=np.getData(e.DataKey,void 0);if(void 0===t)return!1;null===t&&(t="null");var n=Dh(e.DataValue,["&",'"',"'"]);return t.toString().toLowerCase()==n.toLowerCase()},$e=function(e){return!Je(e)},Ze=function(e){var t=np.getData(e.DataKey,void 0);return void 0===t?!1:c(t,e.DataValue)},et=function(e){var t=np.getData(e.DataKey,void 0);return void 0===t?!1:d(t,e.DataValue)},tt=function(e){var t=np.getData(e.DataKey,void 0);if(void 0===t||null===t)return!1;var n=Dh(e.DataValue,["&",'"',"'"]);return f(t,n)},nt=function(e){return!tt(e)},rt=function(e){var t=np.getData(e.DataKey,void 0);return void 0!==t},it=function(e){return!rt(e)},ot=function(e){var t=n.getWindowData(Ec.Var,e.WindowVarName),r=Dh(e.WindowVarInput,["&",'"',"'"]);return void 0===t||null===t?!1:t.toString().toLowerCase()==r.toLowerCase()},at=function(e){return!ot(e)},st=function(e){var t=n.getWindowData(Ec.Var,e.WindowVarName);return void 0===t?!1:c(t,e.WindowVarInput)},ut=function(e){var t=n.getWindowData(Ec.Var,e.WindowVarName);return void 0===t?!1:d(t,e.WindowVarInput)},lt=function(e){var t=n.getWindowData(Ec.Var,e.WindowVarName),r=Dh(e.WindowVarInput,["&",'"',"'"]);return void 0===t||null===t?!1:f(t.toString(),r)},ct=function(e){return!lt(e)},dt=function(e){var t=n.getWindowData(Ec.Var,e.WindowVarName);return void 0===t||null===t?!1:!0},ft=function(e){return!dt(e)},pt=function(e){var t=o.getCurrentLanguage();""===t&&(t="default");var n=Dh(e.LanguageName,["&",'"',"'"]);return n.toLowerCase()==t.toLowerCase()},gt=function(e){return!pt(e)},ht=function(e){var t=o.getCurrentLanguage();""===t&&(t="default");var n=Dh(e.LanguageName,["&",'"',"'"]);return f(t,n)},mt=function(e){return!ht(e)},vt=function(t){var n=parseInt(t.StepId),r=parseInt(t.TutorialId),i=qg(r),o=Kg(n,r);if(i>-1&&o>-1){var a=If[i].Steps[o];return e.findElement(a,!1)!==!1}return!1},yt=function(e){return!vt(e)},wt=function(e){var t=parseInt(e.StepId),n=parseInt(e.TutorialId),r=qg(n),i=Kg(t,n);if(i>-1&&r>-1){var o=fs(r,i,void 0,void 0,void 0,hc.Sandbox);if(o>=0)return!0}return!1},bt=function(e){return!wt(e)},St=function(t){var n=parseInt(t.StepId),r=parseInt(t.TutorialId),i=qg(r),o=Kg(n,r);if(i>-1&&o>-1){var a=If[i].Steps[o];return e.findElement(a,!0)!==!1}return!1},Tt=function(e){return!St(e)},It=function(e){var t=parseInt(e.GoalId);return Np&&Np.isGoalReached(t)},Ct=function(e){return!It(e)},Et=function(e){return _t(e)},kt=function(e){return!_t(e)},_t=function(e){var t=parseInt(e.TaskId),n=parseInt(e.GoalId);return up.isTaskGoalReached(t,n)},xt=function(e){var t=wmjQuery("#tsidLabel"),n=Dh(e.SfTabInput.toString(),["&",'"',"'",">","<"]);return 0==t.length?!1:g(t.text().toLowerCase())==g(n.toLowerCase())},Pt=function(e){return!xt(e)},Dt=function(e){var t=wmjQuery("#tsidLabel"),n=Dh(e.SfTabInput,["&",'"',"'",">","<"]);return 0==t.length?!1:g(t.text().toLowerCase()).indexOf(g(n.toLowerCase()))>=0},At=function(e){return!Dt(e)},Ot={Accounts:"salesforce.com/001/",Contacts:"salesforce.com/003/",Opportunities:"salesforce.com/006/",Documents:"salesforce.com/015/",Cases:"salesforce.com/500/",Solutions:"salesforce.com/501/",Contracts:"salesforce.com/800/",Reports:"salesforce.com/00O/",Leads:"salesforce.com/00Q/",Dashboards:"salesforce.com/01Z/",CustomTabs1:"salesforce.com/a00/",Products:"salesforce.com/a01/"},Nt={MainPage:"o",New:"e"},Mt=function(e){var t={};return t.UrlInput=""+Ot[e.SfType]+Nt[e.SfModoule],re(t)},Lt=function(e){return!Mt(e)},Bt=function(e){return e.conditionBlockId>0?gp.activateById(e.conditionBlockId,void 0):!1},Ft=function(e,t){var r=n.getWindowData(Ec.Var,e);return void 0===r||null===r?!1:t(r)},jt="walkMeWorkday.segmentation.flow.forms";this.WORKDAY_FORMS_VAR_NAME=jt;var Rt=function(e){return Ft(jt,function(t){return t[e.FormInput]})},Ut=function(e){return!Rt(e)},Gt=function(e){return Ft(jt,function(t){var n=Dh(e.FormInput,["&",'"',"'"]);for(var r in t)if(r.toLowerCase().indexOf(n.toLowerCase())>=0)return!0;return!1})},Wt=function(e){return!Gt(e)},Vt=function(e){return Ft(jt,function(t){var n=Dh(e.FormInput,["&",'"',"'"]);for(var r in t)if(f(r,n))return!0;return!1})},Qt=function(e){return!Vt(e)},Ht=function(e){return Ft(jt,function(t){var n=0;for(var r in t)n++;return n.toString()===e.FormInput})},zt=function(e){return n.getWindowData(Ec.Var,jt)},Yt=function(e){return!zt(e)},qt="walkMeWorkday.segmentation.flow.page";this.WORKDAY_PAGE_VAR_NAME=qt;var Kt=function(e){return Ft(qt,function(t){var n=Dh(e.PageInput,["&",'"',"'"]);return t.toString().toLowerCase()==n.toLowerCase()})},Xt=function(e){return!Kt(e)},Jt=function(e){return Ft(qt,function(t){var n=Dh(e.PageInput,["&",'"',"'"]);return t.toLowerCase().indexOf(n.toLowerCase())>=0})},$t=function(e){return!Jt(e)},Zt=function(e){return Ft(qt,function(t){var n=Dh(e.PageInput,["&",'"',"'"]);return f(t,n)})},en=function(e){return!Zt(e)},tn=function(e){return Ft(qt,function(e){return""===e?!1:!0})},nn=function(e){return!tn(e)},rn="walkMeWorkday.segmentation.flow.subPage";this.WORKDAY_SUB_PAGE_VAR_NAME=rn;var on=function(e){return Ft(rn,function(t){
var n=Dh(e.SubPageInput,["&",'"',"'"]);return t.toString().toLowerCase()==n.toLowerCase()})},an=function(e){return!on(e)},sn=function(e){return Ft(rn,function(t){var n=Dh(e.SubPageInput,["&",'"',"'"]);return t.toLowerCase().indexOf(n.toLowerCase())>=0})},un=function(e){return!sn(e)},ln=function(e){return Ft(rn,function(t){var n=Dh(e.SubPageInput,["&",'"',"'"]);return f(t,n)})},cn=function(e){return!ln(e)},dn=function(e){return Ft(rn,function(e){return""===e?!1:!0})},fn=function(e){return!dn(e)},pn={jQueryTrue:B,jQueryFalse:F,jQueryLengthBigger:j,jQueryClicked:N,jQueryHovered:O,jQueryHoverSwitch:L,jQuerySwiped:M,jQueryLengthSmaller:R,jQueryLengthEquals:U,jQueryLengthNotEquals:G,jQueryTextEquals:Ce,jQueryTextNotEquals:Ee,jQueryTextBigger:ke,jQueryTextSmaller:_e,jQueryTextLike:xe,jQueryTextNotLike:Pe,StepPlayed:W,StepNotPlayed:V,StepCanPlay:wt,StepCannotPlay:bt,StepIsVisible:St,StepIsNotVisible:Tt,StepExists:vt,StepNotExists:yt,StepCompleted:Q,StepNotCompleted:H,UrlEquals:te,UrlNotEquals:ne,UrlContains:re,UrlNotContains:ie,UrlLike:Te,UrlNotLike:Ie,DateEquals:z,DateNotEquals:Y,DateFrom:q,DateUntil:K,DateIsDay:X,DateIsMonth:J,DateIsYear:$,TimeFrom:Z,TimeUntil:ee,ReferrerUrlEquals:De,ReferrerUrlNotEquals:Ae,ReferrerUrlContains:Oe,ReferrerUrlNotContains:Ne,ReferrerUrlLike:Me,ReferrerUrlNotLike:Le,ElementExists:oe,ElementNotExist:de,ElementVisible:fe,ElementNotVisible:pe,ElementClicked:ue,ElementHovered:se,ElementHoverSwitch:ce,ElementSwiped:le,ElementTextEquals:me,ElementTextNotEquals:ve,ElementTextBigger:ye,ElementTextSmaller:we,ElementTextLike:be,ElementTextNotLike:Se,ElementSelected:ge,ElementNotSelected:he,BrowserEquals:Be,BrowserNotEquals:Fe,ContainerIsIframe:je,ContainerNotIframe:Re,WindowIsNew:Ge,WindowIsNotNew:We,CookieExists:Ke,CookieNotExists:Xe,CookieEquals:Ve,CookieNotEquals:Qe,CookieBigger:He,CookieSmaller:ze,CookieLike:Ye,CookieNotLike:qe,WalkMeDataExists:rt,WalkMeDataNotExists:it,WalkMeDataEquals:Je,WalkMeDataNotEquals:$e,WalkMeDataBigger:Ze,WalkMeDataSmaller:et,WalkMeDataLike:tt,WalkMeDataNotLike:nt,LanguageEquals:pt,LanguageNotEquals:gt,LanguageLike:ht,LanguageNotLike:mt,WindowVarEquals:ot,WindowVarNotEquals:at,WindowVarBigger:st,WindowVarSmaller:ut,WindowVarLike:lt,WindowVarNotLike:ct,WindowVarExists:dt,WindowVarNotExists:ft,TaskGoalReached:Et,TaskGoalNotReached:kt,ExperimentGoalReached:It,ExperimentGoalNotReached:Ct,SalesforceTabEquals:xt,SalesforceTabNotEquals:Pt,SalesforceTabContains:Dt,SalesforceTabNotContains:At,SalesforceUrlEquals:Mt,SalesforceUrlNotEquals:Lt,ConditionBlockTrue:Bt,FormEquals:Rt,FormNotEquals:Ut,FormContains:Gt,FormNotContains:Wt,FormLike:Vt,FormNotLike:Qt,FormCount:Ht,FormExists:zt,FormNotExists:Yt,PageEquals:Kt,PageNotEquals:Xt,PageContains:Jt,PageNotContains:$t,PageLike:Zt,PageNotLike:en,PageExists:tn,PageNotExists:nn,SubPageEquals:on,SubPageNotEquals:an,SubPageContains:sn,SubPageNotContains:un,SubPageLike:ln,SubPageNotLike:cn,SubPageExists:dn,SubPageNotExists:fn};wmjQuery.extend(pn,s.getFuncList());var gn=[];gn.StepPlayed=!1,gn.StepNotPlayed=!1,gn.StepCanPlay=!1,gn.StepCannotPlay=!1,gn.StepCompleted=!1,gn.StepNotCompleted=!1,gn.LanguageEquals=!1,gn.LanguageNotEquals=!1,gn.LanguageLike=!1,gn.LanguageNotLike=!1,gn.TaskGoalReached=!1,gn.TaskGoalNotReached=!1,gn.jQueryClicked=!1,gn.jQueryHovered=!1,gn.jQuerySwiped=!1,gn.ElementClicked=!1,gn.ElementHovered=!1,gn.ElementSwiped=!1,gn.ExperimentGoalReached=!1,gn.ExperimentGoalNotReached=!1,wmjQuery.extend(gn,s.getFuncAssert());var hn=["ElementClicked","ElementHovered","ElementHoverSwitch","jQueryClicked","jQueryHovered","jQueryHoverSwitch","jQuerySwiped","ElementSwiped"];hn.push.apply(hn,s.getAsyncFuncs()),this.isFuncAsync=function(e){return gh(e,hn)>=0},this.getFunctionsByLibNameType=function(e){return pn[e]},this.canAssertFunction=function(e){return void 0==gn[e]||0!=gn[e]},this.evaluationPreviewForEditor=function(e){var t=l(e);return P.evaluationPreview(t)},this.evaluationPreview=function(e){var t=this.getFunctionsByLibNameType(e.funcName),n=[];return n.push(e.funcArgs),this.canAssertFunction(e.funcName)?t.apply(this,n)?D.TRUE:D.FALSE:D.CANNOT_ASSERT},this.evaluationTreePreviewForEditor=function(e){var t=l(e);return P.evaluationTreePreview(t)},this.evaluationTreePreview=function(e){function t(e){if("Func"==e.nodeType)return P.evaluationPreview(e);var n=t(e.leftSon),r=t(e.rightSon);return"And"==e.nodeType?n==D.TRUE&&r==D.TRUE?D.TRUE:n==D.CANNOT_ASSERT||r==D.CANNOT_ASSERT?D.CANNOT_ASSERT:D.FALSE:"Or"==e.nodeType?n==D.TRUE||r==D.TRUE?D.TRUE:n==D.CANNOT_ASSERT||r==D.CANNOT_ASSERT?D.CANNOT_ASSERT:D.FALSE:void 0}return null==e?D.TRUE:t(e)}},jl.register("ConditionFunctions").asCtor(this.ConditionFunctions).asSingleton().dependencies("Lib, JQueryElementFinder, CommonUtils, HostData, TimerManager, LanguageManager, ElementFinder, ConditionFunctionsHandler");var ed=function(){var e=function(t,n,r,i,o,a,s,u,l){function c(t){Y=s,t=t||{},B=t.evaluationPollingIntervalMs||-1,j=t.elementPollingIntervalMs||-1,R=t.jqueryPollingIntervalMs||2e3,a.isFeatureEnabled("stickySonar")||t.stickySonar||(R=-1,j=-1),F=void 0!==t.stopPollingAfterEvaluateTrue?t.stopPollingAfterEvaluateTrue:!0,O=t.featureName,N=t.elementName,M=t.trackEvent,L=t.trackData,d(),Q=t.bypassUIChange,o=o.wrapCustomerLog("ConditionChecker"),e.registerInstance(q)}function d(){function e(e){t=e.profile("evaluateAsyncProfiled",t),n=e.profile("getValueProfiled",n)}var t=function(e,t,n){w(e)},n=function(e,t,n){return f(e)};u.registerProfilerCallback(e),q.evaluateAsync=function(e){t(e,M||O,L||N)},q.getValue=function(e){return e||o(N+" - ConditionChecker going to evaluate condition",5,O),n(e,M||O,L||N)}}function f(e){return P.getValue(e)}function p(){P&&P.cleanResources(),A&&A.clear()}function g(){B=-1,F=-1,j=-1,R=-1}function h(e,t){W&&(t=void 0===t?!1:t,o(N+" - ConditionChecker calls onValueChanged",4,O),W(e,t))}function m(e,t){U&&(t=void 0===t?!1:t,o(N+" - ConditionChecker calls onPreEvaluation",5,O),U(e,t))}function v(e,t){G&&(t=void 0===t?!1:t,o(N+" - ConditionChecker calls onEvaluated",5,O),G(e,t))}function y(){V&&(o(N+" - ConditionChecker calls onResourcesClean",4,O),V())}function w(e){H=function(){"ElementsRedrawerLegacy"==i.getElementRedrawerType()?(p(),b(e)):(P.refresh(),I(!0))},"ElementsRedrawerLegacy"!=i.getElementRedrawerType()&&Q||i.bind(H),b(e)}function b(e){S(e),T(e)}function S(e){o(N+" - ConditionChecker evaluates async tree",5,O),m(void 0,!0),P=_(e),P.onGotValue(function(e){m(e,!0),F&&e&&q.cleanResources(),e!==D&&(h(e,!0),D=e),v(e,!0)}),z=!x(e),h(q.getValue(),!0),v(q.getCachedValue(),!0),D=q.getCachedValue()}function T(){q.isPollingEvaluation()&&(z?A=t.libSetTimeout(function(){I()},B):o(N+" will not be polled, since its' conditions are only asynchrnous ",3,O))}function I(e){var n=C(e),r=E(n);k(n,e),!q.isPollingEvaluation()||r||e?r&&q.cleanResources():A=t.libSetTimeout(function(){I()},B)}function C(e){m(void 0,e),o(N+" - ConditionChecker reevaluating tree conditions",5,O);var t=q.getValue();return t}function E(e){return e&&(o(N+" - ConditionChecker reevaluating tree conditions",5,O),F)?!0:!1}function k(e,t){D!==e&&(h(e,t),D=e),v(e,t)}function _(e){function t(e){function i(){return o.apply(this,a)}if("Func"==e.nodeType){var o=r.getFunctionsByLibNameType(e.funcName),a=[];a.push(e.funcArgs),a.push(j),a.push(R);var s=null;return s=r.isFuncAsync(e.funcName)?i():new Zc.noMemory(i),n(s,e),s}if("And"==e.nodeType){var u=t(e.leftSon,j,R),l=t(e.rightSon,j,R),s=new Zc.complex(u,l,function(e,t){return e()&&t()});return n(s,e),s}if("Or"==e.nodeType){var u=t(e.leftSon,j,R),l=t(e.rightSon,j,R),s=new Zc.complex(u,l,function(e,t){return e()||t()});return n(s,e),s}return!1}function n(e,t){var n=e.hasValue;e.hasValue=function(){return t.result=n(),t.result};var r=e.getValue;e.getValue=function(e){return t.result=r(e),t.result}}var i;return i=null==e?Zc.fixed(!0):t(e,j,R)}function x(e){return"Func"==e.nodeType?r.isFuncAsync(e.funcName):"And"==e.nodeType||"Or"==e.nodeType?x(e.leftSon)&&x(e.rightSon):!1}var P,D,A,O,N,M,L,B,F,j,R,U,G,W,V,Q,H,z,Y,q=this;q.getValue=function(e){return f(e)},q.getCachedValue=function(){return q.getValue(!0)},q.isPollingElement=function(){return j>=0},q.isPollingJquery=function(){return R>=0},q.isPollingEvaluation=function(){return B>=0},q.isPollingEvaluationNeeded=function(){return z},q.getElementPollingInterval=function(){return j},q.getJqueryPollingInterval=function(){return R},q.getEvaluationPollingInterval=function(){return B},q.getStopPollingAfterEvaluateTrue=function(){return F},q.cleanResources=function(){o(N+" - ConditionChecker cleans resources",5,O),p(),g(),i.unbind(H),y(),e.unregisterInstance(q)},q.onValueChanged=function(e){W=e},q.onPreEvaluation=function(e){U=e},q.onEvaluated=function(e){G=e},q.onResourcesClean=function(e){V=e},q.evaluateAsync=function(e){w(e)},c.apply(null,[l])};return e.instances={},e.sequence=0,e.registerInstance=function(t){t._id=e.sequence,++e.sequence,e.instances[t._id]=t},e.unregisterInstance=function(t){delete e.instances[t._id]},e.cleanResources=function(){for(var t in e.instances)e.instances.hasOwnProperty(t)&&e.instances[t].cleanResources();instances={}},e}();jl.register("ConditionChecker").asCtor(ed).asProto().dependencies("TimerManager,DebuggerManager,ConditionFunctions,UIChangeTracker,Logger,FeaturesManager, CommonUtils, ProfilerAPI"),jl.register("NewToOldConditionConverter").asCtor(Fn).dependencies("Consts").asSingleton(),jl.register("NewConditionChecker").asCtor(jn).dependencies("NewToOldConditionConverter").asProto(),jl.register("ConditionEvaluator").asCtor(Rn).initialize(!1);var td=function(){function e(e){var t=new RegExp("^\\[\\d+\\]$","i");if(t.test(e)){var n=parseInt(e.substring(1,e.length-1));return d.functions.length>=n&&void 0!=d.functions[n]?new c(d.functions[n]):(d.errorStack.push("Function id doesn't exist!"),!1)}return d.errorStack.push("function token isn't in the form [funcId]. recieved:"+e),!1}function t(e){return e?new l(e):(d.errorStack.push("Failed to create NOT node."),!1)}function n(e,t,n){if(t&&n){if("OR"==e.toUpperCase())return new u(t,n);if("AND"==e.toUpperCase())return new s(t,n)}return d.errorStack.push("Failed to create "+e.toUpperCase()+" node."),!1}function r(e){for(var t=Array(),n=0;n<e.length;n++)if("("==e.charAt(n))t.push("(");else if(")"==e.charAt(n)){if(0==t.length)return!1;t.pop()}return 0==t.length}function i(e){if(e=mtjQuery.trim(e),e=e.replace("  "," "),e=e.replace("( ","("),e=e.replace(/not\(/gi,"not ("),e=e.replace(/and\(/gi,"and ("),e=e.replace(/or\(/gi,"or ("),"("!=e.charAt(0)||")"!=e.charAt(e.length-1))return e;var t=e.substring(1,e.length-1);return r(t)?t:e}function o(r){var s=i(r),u=s.split(" ");switch(u.length){case 0:d.errorStack.push("Error - a try to build tree with empty expression");break;case 1:return e(u[0]);case 2:return"NOT"==u[0].toUpperCase()?t(o(u[1])):(d.errorStack.push("Ilegal expression"),!1);case 3:return"NOT"==u[0].toUpperCase()?t(o(u[1]+" "+u[2])):n(u[1],o(u[0]),o(u[2]));default:for(var l=Array(),c=0;c<u.length;c++){if(0==c&&u[c].length>=3&&"NOT"==u[c].substr(0,3).toUpperCase())return t(o(u.join(" ").substr(3)));for(var f=!1,p=0;p<u[c].length;p++)"("==u[c].charAt(p)?(f=!0,l.push("(")):")"==u[c].charAt(p)&&(f=!0,l.pop());if(!f&&0==l.length&&a(u[c]))return n(u[c],o(u.splice(0,c).join(" ")),o(u.splice(1,u.length-1).join(" ")))}return d.errorStack.push("Ilegal expression"),!1}}function a(e){return e.match(/not/i)||e.match(/or/i)||e.match(/and/i)?!0:!1}function s(e,t){this.leftSon=e,this.rightSon=t,this.evaluate=function(){return this.leftSon.evaluate()&&this.rightSon.evaluate()}}function u(e,t){this.leftSon=e,this.rightSon=t,this.evaluate=function(){return this.leftSon.evaluate()||this.rightSon.evaluate()}}function l(e){this.son=e,this.evaluate=function(){return!this.son.evaluate()}}function c(e){this.func=e,this.evaluate=function(){return this.func()}}this.functions=Array(),this.treeNode=null,this.errorStack=Array();var d=this;this.setFunction=function(e,t){if(void 0==e||void 0==t||0>t)throw"Wrong arguments.";return this.functions[t]=e,!0},this.evaluate=function(){if(null!=this.treeNode)return this.treeNode.evaluate();throw"Evaluation tree doesn't exist - No expression was set."},this.setExpression=function(e){if(void 0!=e&&e.length>0&&r(e)){if(this.treeNode=o(e),this.treeNode)return!0;var t=this.errorStack.join("\n");throw this.errorStack=this.errorStack.splice(),t}return this.errorStack.push("Ilegal expression!"),!1}};jl.register("ClientStorageManager").asFunction(function(e){return e.bySettingsFile()}).dependencies("StorageManagerFactory"),jl.register("FramesetsUtils").asCtor(qn).dependencies("Logger, HostData, TimerManager"),jl.register("TriggersManager").asCtor(Kn).dependencies("TimerManager, FramesetsUtils, Lib, StepUtils, Logger, FeaturesManager, CommonUtils"),jl.register("SurveyQuestionFactory").asCtor(er).dependencies("Logger").asSingleton(),jl.register("Survey").asCtor(tr).asProto().dependencies("Lib, SurveyQuestionFactory, DeployableTypes");var rr=new rr;jl.register("PlayManager").asCtor(ir).dependencies("PlayManagerParams,TimerManager,FeaturesManager,PageScorer"),jl.register("StepUtils").asCtor(or).dependencies("Consts"),jl.register("PassOwnershipManager").asCtor(ar).initialize(!1),jl.register("TabbedOwnershipManager").asCtor(sr).initialize(!1),jl.register("FramedOwnershipManager").asCtor(ur).initialize(!1),jl.register("StickinessManager").asCtor(lr).asSingleton().dependencies("TimerManager");var nd=function(){function e(e,t,n,r,i,o,a,s,u,l){this._mustache=e,this._commonUtils=t,this._positionHelper=n,this._commonEvents=r,this._uiUtils=o,this._siteConfigManager=a,this._timerManager=s,this._cdnServer=i(),this._getTopContainer=u,this._lib=l}return e.prototype.activate=function(e,t,n,r,i,o){this._activateContentInNewTab=o,this.createLightBox(e,t,n,r,i)},e.prototype.getElement=function(){return this._lightBoxDiv},e.prototype.getAjaxLoader=function(t){var n=wmjQuery("#"+e.AJAX_LOADER_DIV_ID,t);return n},e.prototype.remove=function(e){e||(e=this._getTopContainer(null,!1)),this.removeTakingLongMsg(!1),this.removeLightBox(e),this.removeOverlay(),this.unbindEscButton(e)},e.prototype.removeOverlay=function(){wmjQuery("#"+e.OVERLAY_ID).remove()},e.prototype.unbindEscButton=function(t){t.unbind(e.KEY_UP_EVENT)},e.prototype.removeLightBox=function(t){var n=wmjQuery("#"+e.LIGHTBOX_DIV_ID,t);n.exist()&&(n.find("iframe").attr("src",""),n.remove(),this._commonEvents.sendInternalEvent("ContentRemoved",{}))},e.prototype.createLightBox=function(t,n,r,i,o){var a=this._getTopContainer(null,!1),s=this.getHtml(t,n),u=wmjQuery(s);this._lightBoxDiv=u,this.addCssClasses(t,u,r),this._uiUtils.setLangAttribute(u);var l=this.createXButtonElement();u.append(l),this.handleCreatingOpenInNewTabButton(t,a,u,i),this.handleCreatingOverlay(),this.bindEscButton(a);var c=o(t);c.hide();var d=this.handleIosIframeScrolling(c);this.appendContent(d);var f=wmjQuery.proxy(function(){this.removeTakingLongMsg(!0),this.getAjaxLoader(u).remove(),c.show()},this);c.load(f),"VIDEO"==Al(c[0])&&c.bind("loadeddata",f),a.append(u);var p=wmjQuery("#"+e.RELOAD_LIGTHBOX_DIV_ID);return p.click(wmjQuery.proxy(function(){var e=c.get(0);e.src=e.src,this.getAjaxLoader(u).show(),this.removeTakingLongMsg(!1),this.setTakingLongTimers(u)},this)),this._positionHelper.centerElementInParent(p,u),p.css("left","0"),this.setTakingLongTimers(u),u},e.prototype.appendContent=function(e){this._lightBoxDiv.append(e)},e.prototype.reloadButtonTimerFunction=function(t){wmjQuery("#"+e.RELOAD_LIGTHBOX_DIV_ID).css("display","block"),this._reloadButtonTimer.clear(),this.getAjaxLoader(t).hide()},e.prototype.takingLongerTimerFunction=function(t){var n=wmjQuery("#"+e.WAITING_DIV_ID);this._positionHelper.centerElementInParent(n,t),n.css("left","0"),n.css("display","block"),this._takingLongerTimer.clear()},e.prototype.setTakingLongTimers=function(t){this._takingLongerTimer=this._timerManager.libSetTimeout(wmjQuery.proxy(function(){this.takingLongerTimerFunction(t)},this),e.TAKING_LONGER_MESSAGE_INTERVAL),this._reloadButtonTimer=this._timerManager.libSetTimeout(wmjQuery.proxy(function(){this.reloadButtonTimerFunction(t)},this),e.RELOAD_BUTTON_INTERVAL)},e.prototype.removeTakingLongMsg=function(t){this._reloadButtonTimer&&this._reloadButtonTimer.clear(),this._takingLongerTimer&&this._takingLongerTimer.clear();var n=wmjQuery("#"+e.RELOAD_LIGTHBOX_DIV_ID),r=wmjQuery("#"+e.WAITING_DIV_ID);t?(n.remove(),r.remove()):(n.css("display","none"),r.css("display","none"))},e.prototype.handleIosIframeScrolling=function(e){var t=/iPhone|iPod|iPad/.test(navigator.userAgent);return t?this.getIframeWrapperDiv(e):e},e.prototype.getIframeWrapperDiv=function(e){var t={width:e.attr("width")||e[0].style.width,height:e.attr("height")||e[0].style.height,overflow:"auto","-webkit-overflow-scrolling":"touch"},n=wmjQuery("<div />").css(t);return n.append(e),n},e.prototype.bindEscButton=function(t){t.bind(e.KEY_UP_EVENT,wmjQuery.proxy(function(e){27==e.keyCode&&this.remove()},this))},e.prototype.handleCreatingOverlay=function(){var t=this._uiUtils.canDisplayOverlay();if(t){var n=this._uiUtils.displayOverlay(cf,!1,e.OVERLAY_ID);n.click(wmjQuery.proxy(function(){this.remove()},this))}},e.prototype.handleCreatingOpenInNewTabButton=function(e,t,n,r){if(r){var i="walkme-open-in-new-tab-button",o=wmjQuery(this.newTabHtml(i));o.click(wmjQuery.proxy(function(){this.remove(t),this._activateContentInNewTab(e)},this)),o.mouseover(wmjQuery.proxy(function(){this.contentMouseOver(o,!0)},this)),o.mouseout(wmjQuery.proxy(function(){this.contentMouseOver(o,!1)},this)),n.append(o)}},e.prototype.newTabHtml=function(e){throw""},e.prototype.addCssClasses=function(e,t,n){var r=this._commonUtils.formatString("walkme-{0}-light-box-{1}",n,e.Id);t.addClass(r),t.addClass("walkme-to-remove"),t.addClass("walkme-to-destroy")},e.prototype.createXButtonElement=function(){var e="walkme-light-box-x-button",t=this._siteConfigManager.get().ContentCloseTooltip,n=wmjQuery(this.xButtonHtml(e,t));return n.click(wmjQuery.proxy(this.closeLightBoxClicked,this)),n.mouseover(wmjQuery.proxy(function(){this.contentMouseOver(n,!0)},this)),n.mouseout(wmjQuery.proxy(function(){this.contentMouseOver(n,!1)},this)),n},e.prototype.xButtonHtml=function(e,t){throw""},e.prototype.contentMouseOver=function(e,t){throw""},e.prototype.closeLightBoxClicked=function(){this.remove()},e.prototype.getHtml=function(e,t){return this._mustache.to_html(this.getTemplate(),this.getConfig(e,t))},e.prototype.getConfig=function(t,n){var r=this.getDimensionSize("width",t,n),i=this.getDimensionSize("height",t,n),o=this.getToolbarWidth(r);return{lightboxDivId:e.LIGHTBOX_DIV_ID,lightboxWidth:r,lightboxHeight:i,zIndex:cf,lightboxTopbarDivId:e.LIGHTBOX_TOPBAR_DIV_ID,topbarWidth:o,ajaxLoaderDivId:e.AJAX_LOADER_DIV_ID,waitingDivId:e.WAITING_DIV_ID,reloadDivId:e.RELOAD_LIGTHBOX_DIV_ID,cdnServer:this._cdnServer}},e.prototype.getTemplate=function(){throw""},e.prototype.getDimensionSize=function(e,t,n){throw""},e.prototype.getToolbarWidth=function(e){throw""},e.prototype.getSize=function(){throw""},e.LIGHTBOX_DIV_ID="walkme-content-light-box",e.LIGHTBOX_TOPBAR_DIV_ID="walkme-content-light-box-top-bar",e.AJAX_LOADER_DIV_ID="walkme-ajax-loader",e.WAITING_DIV_ID="walkme-ajax-taking-long",e.RELOAD_LIGTHBOX_DIV_ID="walkme-ligth-box-reload",e.OVERLAY_ID="walkme-content-background",e.KEY_UP_EVENT="keyup.walkme",e.TAKING_LONGER_MESSAGE_INTERVAL=8e3,e.RELOAD_BUTTON_INTERVAL=15e3,e}(),jc=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},rd=function(e){function t(){e.apply(this,arguments)}return jc(t,e),t.prototype.activate=function(t,n,r,i,o,a){e.prototype.activate.call(this,t,n,r,i,o,a),this._lib.centerElementInPage(this._lightBoxDiv,!1)},t.prototype.createLightBox=function(n,r,i,o,a){e.prototype.createLightBox.call(this,n,r,i,o,a);var s=this.getAjaxLoader(this._lightBoxDiv);this._positionHelper.centerElementInParent(s,this._lightBoxDiv),s.css("left","0"),this._positionHelper.registerResizeAndScrollEvents({element:this._lightBoxDiv,eventNameSuffix:t.WALKME_LIGHTBOX_EVENTS})},t.prototype.removeLightBox=function(n){e.prototype.removeLightBox.call(this,n),this._positionHelper.removeScrollAndResizeEvents(t.WALKME_LIGHTBOX_EVENTS)},t.prototype.getDimensionSize=function(e,t,n){var r=this.getSizeUnitSettingKey(e),i=this.getSizeUnit(t,r),o=this.getDimensionSettingKey(e),a=this._commonUtils.getSettingsValue(t.Settings,o,n[e]);if("%"==i){var s=this._positionHelper.getWindowSize();a=s[e]*a/100}return a+"px"},t.prototype.getSizeUnitSettingKey=function(e){return e+"Unit"},t.prototype.getSizeUnit=function(e,t){return this._commonUtils.getSettingsValue(e.Settings,t,"px")},t.prototype.getDimensionSettingKey=function(e){return"height"==e?t.LIGHTBOX_HEIGHT_KEY:t.LIGHTBOX_WIDTH_KEY},t.prototype.getToolbarWidth=function(e){return parseFloat(e)+4+"px"},t.prototype.getSize=function(){return{width:this._lightBoxDiv.css("width").replace("px","")+"px",height:this._lightBoxDiv.css("height").replace("px","")+"px"}},t.prototype.contentMouseOver=function(e,t){var n=t?"#404040":"#646464";e.css("backgroundColor",n)},t.prototype.xButtonHtml=function(e,t){return this._commonUtils.formatString("<div id={0} title='{1}' style='position:absolute; height: 17px; width: 17px; right: 5px; top: -19px; cursor: pointer; z-index: 2147483632; vertical-align: top;'><img src='{2}/player/resources/images/blue-x-button.png' style='margin: 4px;' /></div>",e,t,this._cdnServer)},t.prototype.newTabHtml=function(e){return this._commonUtils.formatString("<div id={0} title='Open in a new tab' style='position:absolute;height:17px; width:17px; right:25px; top:-19px; cursor:pointer; z-index:2147483632; vertical-align: top;'><img src='{1}/player/resources/images/open-in-new-tab.png' style='margin: 4px;'></div>",e,this._cdnServer)},t.prototype.getTemplate=function(){return"<div id='{{lightboxDivId}}' class='wm-lightbox-web' style='float:left; width:{{lightboxWidth}}; height:{{lightboxHeight}}; padding: 2px; z-index:{{zIndex}}; background-color:white; box-shadow:4px -4px 19px -1px #494949;'><div id='{{lightboxTopbarDivId}}' style='position: absolute; top: -23px; left: 0px; height: 25px; width: {{topbarWidth}}; background-color:#646464;'></div><div id='{{ajaxLoaderDivId}}' style='background:url({{{cdnServer}}}/player/resources/images/ajax-loader_v2.gif) no-repeat center; width:100%; height:100px; position:relative; text-align:center; vertical-align: bottom; margin-top: -30px;'><span style='display: inline-block; color: #99d3fe; font-size: 14px; font-family: Arial; font-weight: bold; margin-top: 108px;'>Loading</span></div><div id='{{reloadDivId}}' style='display: none; direction: ltr; cursor: pointer; position: relative; text-align: center; margin-top: -20px; color: #168dce; font-size: 14px; font-family: Arial;'><img style='vertical-align: -11px; margin-right: 3px' src='{{{cdnServer}}}/player/resources/images/reload.png' />Reload Page</div><div id='{{waitingDivId}}' style='display: none; font-size: 14px; font-family: Arial; color: #464646; text-align: center; position: relative; font-weight: bold;'>This is taking longer than expected</div></div>"},t.LIGHTBOX_WIDTH_KEY="LightboxWidth",t.LIGHTBOX_HEIGHT_KEY="LightboxHeight",t.WALKME_LIGHTBOX_EVENTS="walkmeLightBox",t}(nd),jc=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},id=function(e){function t(){e.apply(this,arguments)}return jc(t,e),t.prototype.createLightBox=function(t,n,r,i,o){e.prototype.createLightBox.call(this,t,n,r,i,o),this._lightBoxDiv.css({position:"fixed",top:0,left:0})},t.prototype.getDimensionSize=function(e,t,n){return"100%"},t.prototype.getToolbarWidth=function(e){return"100%"},t.prototype.getSize=function(){return{width:"100%",height:"100%"}},t.prototype.contentMouseOver=function(e,t){},t.prototype.getConfig=function(t,n){var r=e.prototype.getConfig.call(this,t,n);return r.padding="10px",r.title=t.Name,r},t.prototype.xButtonHtml=function(e,t){return this._commonUtils.formatString("<div id={0} title='{1}' style='position: absolute; right: 19px; top: 17px; cursor: pointer; z-index: 2147483632; vertical-align: top; height: 15px; width: 15px; background-image: url(\"{2}/player/resources/images/x-btn-resources.png\"); background-position: -5px -5px;'></div>",e,t,this._cdnServer)},t.prototype.newTabHtml=function(e){return this._commonUtils.formatString("<div id={0} title='Open in a new tab' style='position:absolute; height:11px; width:11px; right:50px; top:15px; cursor:pointer; z-index:2147483632; vertical-align: top;'><img src='{1}/player/resources/images/mobile_full_screen.png' style='margin: 4px;'></div>",e,this._cdnServer)},t.prototype.getTemplate=function(){return"<div id='{{lightboxDivId}}' class='wm-lightbox-web' style='width:{{lightboxWidth}}; height:{{lightboxHeight}}; box-sizing: border-box; z-index:{{zIndex}}; background-color: black; padding-top: 50px; padding-right: 10px;'><div style='width: 100%; box-sizing: border-box; padding: 0 15px; position: absolute; top: 0; left: 0px; line-height: 50px; background-color: #3393d1; color: white; text-align: left; font-size: 15px;'>{{title}}<div id='{{lightboxTopbarDivId}}' style='height: 100%; width: 100%;'></div></div><div id='{{ajaxLoaderDivId}}' style='background:url({{{cdnServer}}}/player/resources/images/ajax-loader_v3.gif) no-repeat center; width:100%; height:100px; position:absolute; text-align:center; vertical-align: bottom; top: 50%; margin-top: -50px;'><span style='display: inline-block; color: white; font-size: 14px; font-family: Arial; font-weight: bold; margin-top: 108px;'>Loading</span></div><div id='{{reloadDivId}}' style='display: none; direction: ltr; cursor: pointer; position: relative; text-align: center; margin-top: -20px; color: #168dce; font-size: 14px; font-family: Arial;'><img style='vertical-align: -11px; margin-right: 3px' src='{{{cdnServer}}}/player/resources/images/reload.png' />Reload Page</div><div id='{{waitingDivId}}' style='display: none; font-size: 14px; font-family: Arial; color: #464646; text-align: center; position: relative; font-weight: bold;'>This is taking longer than expected</div></div>"},t.LIGHTBOX_WIDTH_KEY="LightboxWidth",t.LIGHTBOX_HEIGHT_KEY="LightboxHeight",t}(nd);!function(){var e="Mustache,CommonUtils,PositionHelper,CommonEvents,getCdnServer,UiUtils,SiteConfigManager,TimerManager,getTopContainer,Lib";_c.register(kc.PLATFORM.Web,function(){jl.register("LightboxDisplayer").asProto().asCtor(rd).dependencies(e)}),_c.register(kc.PLATFORM.MobileWeb,function(){jl.register("LightboxDisplayer").asProto().asCtor(id).dependencies(e)})}(),jl.register("AbPermutationManager").asCtor(pr).dependencies("ClientStorageManager,EndUsersManager,Lib,AbPermutationManagerServerCaller, AbTestingEventCollectorCaller, AbCurrentPermutationProvider"),jl.register("AbCurrentPermutationProvider").asCtor(gr),jl.register("AbPermutationManagerServerCaller").asCtor(hr).dependencies("RecorderServerManager, WmAjax, HostData"),jl.register("AbTestingEventCollectorCaller").asCtor(mr).dependencies("Consts, EventCollectorEventSender, Logger"),jl.register("HostData").asFunction(vr).dependencies("win"),jl.register("PopupNotificationsService").asSingleton().asCtor(wr).dependencies("Lib, TimerManager, HostData, UiUtils, SiteConfigManager, CommonUtils, Consts, BalloonUtils"),jl.register("ClickAuditEventSender").asCtor(br).dependencies("Lib, EventSender,Logger, ReportInitiatorMapper");var od=function(){function e(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n}var t;!function(e){function t(r,i){i=i||[],r=r||document;for(var o=e.$("iframe,frame",r).toArray(),a=0;a<o.length;a++){var s=n(e.$(o[a]))[0];i.push(s),s&&(i=t(s,i))}return i}function n(t){if(void 0!=t){if(t=t[0],void 0==t)return e.$();var n;try{n=t.contentDocument?t.contentDocument:t.contentWindow?t.contentWindow.document:[],n=e.$(n)}catch(r){return ln.handleCrossDomainError(r),e.$()}return n}}e.$,e.p,e.setJQuery=function(t){e.$=t,e.p=t},e.Ua=function(e){return e=e.tagName,e.toUpperCase&&(e=e.toUpperCase()),e},e.aa=function(e,t){for(var n=e[0].parentNode,r=t&&t[0]&&t[0].parentNode,i=[];n&&1==n.nodeType&&n!=r;n=n.parentNode)i.push(n);return i},e.indexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n]==t)return n;return-1},e.reduce=function(e,t,n){for(var r=0;r<e.length;r++)n=t(n,e[r]);return n},e.Vb=function(e){var t={};e=e.prop("attributes");for(var n=0;n<e.length;n++){var r=e[n];t[r.name]=r.value}return t},e.map=function(e,t){for(var n=[],r=0;r<e.length;r++)n.push(t(e[r]));return n},e.filter=function(e,t){for(var n=[],r=0;r<e.length;r++)t(e[r])&&n.push(e[r]);return n},e.pa=function(t,n,r){t=e.filter(t.split(n),function(t){return e.$.trim(t)}),t=e.map(t,function(e){return e.split(r)}),n={};for(var i=0;i<t.length;i++){var o=t[i],a=e.$.trim(o[0]),s="";o[1]&&(s=e.$.trim(o[1])),n[a]=s}return n};var r=function(){function e(){this.start=this.now()}return e.prototype.now=function(){return(new Date).getTime()},e.prototype.Ib=function(){return this.now()-this.start},e}();e.Pb=r,e.Hb=function(){return new r},e.Wb=function(){for(var e=0;e<arguments.length;e++);for(var e=arguments[0],t=1;t<arguments.length;t++)e=e.replace(new RegExp("\\{"+(t-1)+"\\}","gm"),arguments[t]);return e},e.Yb=function(e){return void 0!=e&&0<e.length},e.getAllElements=function(n,r){n=n||document,r=r||"*";var i=t(n,[n]);return e.$(r,i)},e.Xb=t,e.r=n,e.inArray=function(e,t,n){var r;if(t)for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n;return-1},e.min=function(e,t){var n=null;if(0<e.length)for(var r=t(e[0]),n=e[0],i=1;i<e.length;i++){var o=t(e[i]);r>o&&(r=o,n=e[i])}return n},e.fa=function(){return(new Date).getTime()%1e9}}(t||(t={}));var n,r=function(){function e(e,t){this.vb=t,this.hasData=!1,this.context=e}return e.prototype.get=function(){return this.hasData||(this.data=this.vb.apply(this.context),this.hasData=!0),this.data},e.prototype.clear=function(){this.hasData=!1},e}(),i=function(){function e(){}return e.prototype.u=function(e,t){return g.H(e,t,g.l)},e.prototype.K=function(e){return new a.ScoredElement(e,this.c)},e.prototype.n=function(e){this.c=e},e.prototype.J=function(e,t){return t(e)},e.prototype.Cb=function(e){e.B=this.c&&e&&this.c.ignoreWalkmeElementsSelector===e.ignoreWalkmeElementsSelector?this.c.B:e&&e.ignoreWalkmeElementsSelector?t.getAllElements(document,e.ignoreWalkmeElementsSelector).toArray():[]},e}(),o=function(n){function r(){n.apply(this,arguments),this.O={},this.A=[],this.ca={},this.h={}}return e(r,n),r.prototype.n=function(e){this.Ma(e),n.prototype.n.call(this,e)},r.prototype.ob=function(e,t){return(e&&e[0]||null)===(t&&t[0]||null)},r.prototype.Ma=function(e){if(this.h={},0<this.A.length){var t=!1;this.c&&(t=!this.ob(this.c.m,e.m));for(var n=0;n<this.A.length;n++){var r=this.O[this.A[n]];r.totalScore=0,r.details=[],r.Z=!1,r.n(e,t)}}},r.prototype.t=function(e){return e&&e[0]&&e[0][r.S]||null},r.prototype.w=function(e,t){e&&e[0]&&(e[0][r.S]=t)},r.prototype.v=function(){return++r.N},r.prototype.K=function(e){var t=null,r=this.t(e);return void 0!==r&&(t=this.O[r]),t||(t=n.prototype.K.call(this,e),r=this.v(),this.w(e,r),this.O[r]=t,this.A.push(r)),t},r.prototype.u=function(e,t){var r,i=g.Lb(e);return this.h.hasOwnProperty(i)||(r=n.prototype.u.call(this,e,t),this.h[i]=r),this.h[i]},r.prototype.cb=function(e){var t=this.c.m;if(t&&0<t.length){var n=this.t(t);n||(n=this.v(),this.w(t,n)),n&&(e+="__"+n)}return e},r.prototype.J=function(e,t){var r=this.cb(e),i=this.ca[r]||null;return i||(i=n.prototype.J.call(this,e,t),this.ca[r]=i),i},r.N=t.fa(),r.S="__WM_SUSPECT_KEY__",r}(i);!function(e){function n(){for(var e=0;e<arguments.length;e++);return a.$.apply(a.$,arguments)}function r(e){if(1==e.count())return e;var t=g.L(e,1,i,!0);return-1==t?e:e.slice(t+1)}function i(e){return-1!=t.inArray(e,s);
}function o(r,a,s,u,l,c){var d=g.L(r,0,i,!1);if(0>d)return s;var f=r.slice(0,d+1);return r=r.slice(d+1),d=n(e.Kb,l||s),0==d.length?null:(d=1==d.length?d[0]:t.min(d,function(e){return e=g.Ka(n(e),a,n(s),u),g.H(e,f,g.l).o()}),(c||s&&0<s.length&&l&&0<l.length)&&n(d).data("iframe",c||s),o(r,a,n(d),u,t.r(n(d))))}var s=["IFRAME","FRAME"];e.Kb=s.join(":mt_visible,")+":mt_visible",e.ea=s.join(","),e.getXpathUpToIframe=r,e.ub=function(a){var s,u=a.a,l=g.Ia(u.customContext,u.h,u.B),c=g.Eb(u.xpathArrayOriginal,l),d=u.xpathArrayOriginal.slice(c);s=u.h;var f=u.customContext,p=u.B,h=u.ignoreWalkmeElementsSelector;if(1==d.count())s=f;else{var m=g.L(d,1,i,!0);if(-1==m)s=f;else{var v=t.r(f),y=(v=v&&0<v.length?v:null)?f:f?f.data("iframe"):null,m=d.slice(0,m+1);(h=g.ba(m,v||f,y,h))&&h.is(":mt_visible")||(h=null),h||(h=o(d,s,f,p,v,y)),s=h}}p=(f=(s=s||u.customContext)&&s.is(e.ea))?t.r(s):s&&0<s.length?s:void 0,s={context:s,nb:f,contents:p},u.m=s.contents,a.setSearchOptions(-257&a.f),l&&l.count()&&u.m==u.customContext&&(0>=c&&a.setSearchOptions(256|a.f),u.xpathArrayToIframe=g.removeHtmlAndBodyFromXpathArray(r(d)));var w;return s&&(w=s.nb?s.context:n(s.context).data("iframe")),w}}(n||(n={}));var a;!function(e){function a(){}e.$,e.p,e.setJQuery=function(n){e.$=n,e.p=n,t.setJQuery(n),l.setJQuery(n)},e.setLogFunc=function(e){a=e};var p=function(){function e(e,n){var i=this;this.totalScore=0,this.width=new r(this,function(){return i.element.width()}),this.height=new r(this,function(){return i.element.height()}),this.parents=new r(this,function(){return t.aa(i.element,i.c.m)}),this.Fa=new r(this,function(){return t.aa(i.element)}),this.text=new r(this,function(){return f.extractFirstOccuringText(i.element)}),this.C=function(e){return this.D.hasOwnProperty(e)||(this.D[e]=this.element.attr(e)),this.D[e]},this.Q=new r(this,function(){return g.La(i.element,i.parents.get(),i.c.h,i.c.B)}),this.element=e,this.details=[],this.D={},this.n(n)}return e.prototype.n=function(e,t){this.c&&t&&(this.parents.clear(),this.Q.clear()),this.c=e},e}();e.ScoredElement=p;var h=function(){return function(){this.elements=[],this.losers=void 0}}();e.RecognitionResult=h,p=function(){function e(e){this.attributes={},this.complexAttributes={},this.W("style",";",":"),this.W("class"," ",null),e&&(this.h=new g.Ca)}return e.prototype.W=function(e,n,i){var o=this;this.complexAttributes[e]=new r(this,function(){return t.pa(o.attributes[e],n,i)})},e}(),e.ElementDescription=p,function(e){e[e.Efficient=0]="Efficient",e[e.Verbouse=1]="Verbouse",e[e.Fast=2]="Fast"}(e.ra||(e.ra={})),function(e){e[e.High=0]="High",e[e.Medium=1]="Medium",e[e.Low=2]="Low"}(e.AlgorithmSensitivity||(e.AlgorithmSensitivity={})),function(e){e[e.IGNORE_ALL=4294967295]="IGNORE_ALL",e[e.IGNORE_NOTHING=0]="IGNORE_NOTHING",e[e.IGNORE_ID=1]="IGNORE_ID",e[e.IGNORE_POSITION=2]="IGNORE_POSITION",e[e.IGNORE_NAME=4]="IGNORE_NAME",e[e.IGNORE_TEXT=8]="IGNORE_TEXT",e[e.IDENTIFY_TEXT=32]="IDENTIFY_TEXT",e[e.IDENTIFY_ID_AND_NAME=64]="IDENTIFY_ID_AND_NAME",e[e.IDENTIFY_WALKME_ID=128]="IDENTIFY_WALKME_ID",e[e.IGNORE_XPATH=256]="IGNORE_XPATH",e[e.IGNORE_SHAPE_PROPORTION=512]="IGNORE_SHAPE_PROPORTION",e[e.IGNORE_CLASS=1024]="IGNORE_CLASS",e[e.IGNORE_STYLE=2048]="IGNORE_STYLE",e[e.IGNORE_HREF=4096]="IGNORE_HREF",e[e.USE_AUTO_SELECTOR=8192]="USE_AUTO_SELECTOR"}(e.SearchOptions||(e.SearchOptions={}));var m=function(){function e(e){this.list=[],this.f=e}return e.prototype.Ga=function(e){return this.list.push(e),this},e.prototype.i=function(e,t,n){var r=!1;return void 0!==n&&(r=0<(this.f&n)),r||this.list.push(new c.Ba(e,t)),this},e.prototype.eb=function(){return this.list.sort(function(e,t){return t.weight-e.weight}),this.list},e}(),p=function(){function r(e,t){this.f=0,this.X=1,this.mode=e,this.g=t?new o:new i}return r.prototype.Bb=function(e){this.a=e},r.prototype.setSearchOptions=function(e){this.f=e},r.prototype.setAlgorithmSensitivity=function(e){this.X=e},r.prototype.recognize=function(e){this.Bb(e),this.g.Cb(e);var t=n.ub(this);this.g.n(e),e=this.Sa(),e=this.Ab(e),e=this.wb(e);var r=this.Ra(e),i=new h;return i.elements=r,i.losers=this.Qa(i,e),i.context=t,i},r.prototype.Sa=function(){var t,n=this;return t=this.a.customSelector?this.a.customSelector:this.e(8192)&&this.a.autoQuery?this.a.autoQuery:this.a.elementType.replace(":","\\:"),this.a.visibilityFilter&&(t+=this.a.visibilityFilter),this.a.ignoreWalkmeElementsSelector&&(t+=":not("+this.a.ignoreWalkmeElementsSelector+")"),a("Finding suspects using : "+t),this.g.J(t,function(t){return e.$(t,n.a.m)})},r.prototype.Oa=function(t){for(var n=new u(t.length),r=0;r<t.length;r++){var i=e.$(t[r]),i=this.g.K(i);n.push(i)}return n},r.prototype.Ab=function(e){var t=this.Oa(e),n=this.bb(e.length);e=new u(e.length);for(var r=0;r<t.count;r++){var i=t.getItem(r),o=this.zb(i,n),a=1&o;2&o||!a||e.push(i)}return e},r.prototype.fb=function(){var e,t={32:function(){return[new d.T(1,2)]},64:function(){return[new d.q("id",1,0),new d.q("name",1,0)]},128:function(){return[new d.q("data-walkmeid",1,0)]}};for(e in t)if(this.e(e))return t[e]();return null},r.prototype.Xa=function(e){var t=[],n=new d.q("src",1,0);return t.push(n),n=new d.T(1,0),!this.e(8)&&t.push(n),void 0!=this.a.attributes.id&&(n=new d.ua(!this.e(1)&&0<this.a.attributes.id.length,!this.e(161)),t.push(n)),n=new d.q("name",1,0),!this.e(4)&&t.push(n),n=new d.Ea(1,0,this.g),2e3>e&&!this.e(256)&&t.push(n),n=new d.ta(this.a,1,0),e>=2e3&&!this.e(256)&&t.push(n),t},r.prototype.bb=function(e){var t=this.fb();return t||(t=this.Xa(e)),t},r.prototype.zb=function(e,t){for(var n=0,r=0;r<t.length;r++){var i=t[r].screen(e,this.a),n=n|i;if(2==i)break}return n},r.prototype.wb=function(e){var n=this.ab(),r=t.reduce(n,function(e,t){return e+t.weight},0),i=e,o=new u(e.count);e=new u(e.count);for(var a=0,s=this.ga(),l=0;l<n.length&&!(2==this.mode&&1==i.count&&a>s);l++){for(var c=n[l],d=0;d<i.count;d++){var f=i.getItem(d);if(r+f.totalScore<a&&0==this.mode?(f.Z=!0,o.push(f)):e.push(f),!f.Z||0!=this.mode){var p=t.Hb(),g=c.d(f,this.a),p=p.Ib();f.totalScore+=g,f.details.push({scorerName:c.name,scorerWeight:c.weight,relativeScore:g/c.weight,absoluteScore:g,timeTaken:p}),f.totalScore>a&&(a=f.totalScore)}}r-=c.weight,r=Math.max(r,0),c=i,i=e,e=c,e.clear()}return i.Za()},r.prototype.e=function(e){return!!(this.f&e)},r.prototype.ab=function(){var e=new m(this.f);return e.Ga(new s.xa(this.a,this.f)).i(new c.Aa,3,8).i(new l.wa,1,2).i(new c.Da(this.g),1,256).i(new c.za,.7,512).i(new c.R("class"," ",null),.7,1024).i(new c.R("style",";",":"),.5,2048).i(new c.sa("href","#"),3,4096),e.eb()},r.prototype.Ra=function(e){for(var t=0,n=0;n<e.length;n++)var r=e[n].totalScore,t=t>=r?t:r;if(r=[],t>this.ga())for(n=0;n<e.length;n++)e[n].totalScore==t&&r.push(e[n]);return r},r.prototype.Qa=function(e,t){if(1==this.mode){var n=[];if(0<e.elements.length)for(var r=e.elements[0].totalScore,i=0;i<t.length;i++)t[i].totalScore<r&&n.push(t[i]);else n=t;return n}},r.prototype.ga=function(){var e={2:0,1:1.45,0:3},t=e[this.X];return void 0==t&&(t=e[1]),t},r}();e.ElementRecognizerSession=p}(a||(a={}));var s,u=function(){function e(e){this.data=Array(e),this.size=e,this.count=0}return e.prototype.getItem=function(e){if(0>e||e>=this.count)throw"Out of range exception";return this.data[e]},e.prototype.clear=function(){this.count=0},e.prototype.push=function(e){if(this.count==this.size)throw"FastArray exceeded it's limits";this.data[this.count]=e,this.count++},e.prototype.Za=function(){return this.data.splice(0,this.count)},e}();!function(e){var t={value:10,src:3,title:3,colspan:.3,cellpadding:.3,cellspacing:.3,border:.3,dir:.3,width:.3,placeholder:3,"data-walkmeid":1e3,id:10,name:8,alt:1},n={id:1,name:4,title:8},r=function(){function e(e,t){this.P=[],this.name="Multiple attributes",this.options=t,this.description=e,this.weight=this.Ja()}return e.prototype.Ja=function(){var e,t=0;for(e in this.description.attributes)this.description.attributes.hasOwnProperty(e)&&this.Db(e)&&this.M(this.description.attributes[e])&&(t+=this.I(e),this.P.push(e));return t},e.prototype.Db=function(e){var t=0!==this.I(e);return!(n.hasOwnProperty(e)&&n[e]&this.options)&&t},e.prototype.d=function(e,t){for(var n=0,r=0;r<this.P.length;r++){var i=this.P[r],o=t.attributes[i],a=e.C(i);this.M(a)&&this.M(o)&&a==o&&(n+=this.I(i))}return n},e.prototype.M=function(e){return void 0!=e&&null!=e&&""!=e},e.prototype.I=function(e){return t.hasOwnProperty(e)?t[e]:0},e}();e.xa=r}(s||(s={}));var l;!function(e){e.$,e.p,e.setJQuery=function(t){e.$=t,e.p=t};var t=function(){function t(){this.name="PositionScorer"}return t.prototype.d=function(e,t){return this.xb(e,t)},t.prototype.xb=function(e,t){var n=t.centeredElementWidth,r=0;if(n){var r=t.relativeLeft,i=this.$a(e),r=Math.abs(r-i),n=n/5;if(r>(30>n?30:n))return 0;n=1-r/20,r=t.absY,i=e.element.offset().top,r=1-Math.abs(r-i)/20,i=.3,n>.9&&(i=.9),r=n*(1-i)+r*i,r=0>r?0:r}return r},t.prototype.$a=function(e){var t=this.Ta(e),t=t?t.offset().left:0;return e.element.offset().left-t},t.prototype.Ta=function(t){t=t.Fa.get();for(var n=null,r=t.length-1;r>=0;r--)try{if(this.jb(t[r])){var i=e.$(t[r]),o=e.$(window).width(),a=i.width(),s=i.offset().left,u=o-a;if(u>0&&u/2==s){n=i;break}if(0>u&&u==s){n=i;break}if(this.lb(i)){n=e.$(i);break}}}catch(l){}return n},t.prototype.jb=function(t){var n=e.$(t),r=n.data("mt_isElementFixedWidth");return 1==r?!0:0==r?!1:(t=this.ib(t),n.data("mt_isElementFixedWidth",t),t)},t.prototype.lb=function(t){var n=e.$(t),r=n.data("mt_isElementMarginAuto");return 1==r?!0:0==r?!1:(t=this.kb(t),n.data("mt_isElementMarginAuto",t),t)},t.prototype.ia=function(t,n){for(var r=!1,i=0;i<n.length&&(r=n[i],!(r=e.$(t).is(e.$(r))));i++);return r},t.prototype.ib=function(e){return this.ja(e.style)?!0:this.ia(e,this.Wa())},t.prototype.Fb=function(e){return 0==e.indexOf("0")},t.prototype.Pa=function(e){return 4<=e.length&&e.lastIndexOf("auto")+4==e.length},t.prototype.ka=function(t){if(t){var n=e.$.trim(t.margin),r=e.$.trim(t.marginLeft);if(t=e.$.trim(t.marginRight),(n=this.Fb(n)&&this.Pa(n))||"auto"==r&&"auto"==t)return!0}return!1},t.prototype.kb=function(e){return this.ka(e.style)?!0:this.ia(e,this.Ya())},t.prototype.Ya=function(){return void 0==this.F&&(this.F=[],this.da(this.oa)),this.F},t.prototype.oa=function(e){try{var t=e.cssRules||e.rules;for(e=0;e<t.length;e++){var n=t[e];n.type&&n.type==window.CSSRule.IMPORT_RULE?this.oa(n.styleSheet):this.ka(n.style)&&this.F.push(n.selectorText)}}catch(r){}},t.prototype.da=function(e){for(var t=document.styleSheets,n=0;n<t.length;n++)e.call(this,t[n])},t.prototype.na=function(e){try{var t=e.cssRules||e.rules;for(e=0;e<t.length;e++){var n=t[e];n.type&&n.type==window.CSSRule.IMPORT_RULE?this.na(n.styleSheet):this.ja(n.style)&&this.G.push(n.selectorText)}}catch(r){}},t.prototype.Wa=function(){return void 0==this.G&&(this.G=[],this.da(this.na)),this.G},t.prototype.ja=function(e){if(e=e.width){for(var t="",n=0;n<e.length;n++)isNaN(e[n])||(t+=e[n]);if(t&&700<parseInt(t)&&(-1!=e.indexOf("p")||-1!=e.indexOf("e")||-1!=e.indexOf("m")||-1!=e.indexOf("i")))return!0}},t}();e.wa=t}(l||(l={}));var c;!function(n){var r=function(){function e(e,t){this.yb=e,this.weight=t,this.name=e.name}return e.prototype.d=function(e,t){var n=this.yb.d(e,t);return this.weight*n},e}();n.Ba=r,r=function(){function e(e){this.attributeName=e,this.name="Attribute Scorer : "+e}return e.prototype.d=function(e,t){var n=e.element.attr(this.attributeName),r=t.attributes[this.attributeName];return n&&r&&n.toLowerCase()===r.toLowerCase()?1:0},e}(),n.Mb=r,r=function(t){function n(e,n){t.call(this,e),this.Jb=n}return e(n,t),n.prototype.d=function(e,n){return n.attributes[this.attributeName]==this.Jb?0:t.prototype.d.call(this,e,n)},n}(r),n.sa=r,r=function(){function e(e){this.name="XpathScorer",this.g=e}return e.prototype.d=function(e,t){var n=e.Q.get(),n=this.g.u(n,t.xpathArrayToIframe);return n.b>g.l?0:(n=1-.1*(n.b+n.k/10),0>n?0:n)},e}(),n.Da=r,r=function(){function e(){this.name="ShapeProportionScorer"}return e.prototype.d=function(e,t){if(!this.mb(e.element))return 0;var n=e.width.get(),r=e.height.get();return 0!=n*r?(n=this.ha(n,t.width)/2+this.ha(r,t.height)/2,n>=.6?n:0):0},e.prototype.ha=function(e,t){var n=e/t;return n>1&&(n=1/n),Math.pow(n,4)},e.prototype.mb=function(n){return n=n.prop("tagName"),-1!==t.indexOf(e.Gb,n)},e.Gb="DIV TABLE TR TD TBODY TH".split(" "),e}(),n.za=r,r=function(){function e(e,t,n){this.name="ComplexAttributeScorer",this.name=this.name+" : "+e,this.attributeName=e,this.tb=t,this.gb=n}return e.prototype.d=function(e,n){if(!n.attributes[this.attributeName]||!e.element.attr(this.attributeName))return 0;var r=n.complexAttributes[this.attributeName].get(),i=t.pa(e.element.attr(this.attributeName),this.tb,this.gb);return 1==this.Na(r,i)?1:0},e.prototype.Na=function(e,t){var n,r=0,i=0;for(n in e)e.hasOwnProperty(n)&&(i++,e[n]==t[n]&&r++);return n=0,i>0&&(n=r/i),n},e}(),n.R=r,r=function(){function e(){this.name="TextScorer"}return e.prototype.d=function(e,t){return t.text&&e.text.get()==t.text?1:0},e}(),n.Aa=r}(c||(c={}));var d;!function(t){!function(e){e[e.Indifferent=0]="Indifferent",e[e.Accepted=1]="Accepted",e[e.Rejected=2]="Rejected"}(t.ya||(t.ya={}));var n=function(){function e(e,t){this.la=e,this.sb=t,this.isEqual=e===t}return e.prototype.j=function(){throw"childScreen must be overriden by subclass"},e.prototype.screen=function(e,t){return this.isEqual?this.la:this.j(e,t)?this.la:this.sb},e}();t.Ob=n;var i=function(){function e(){}return e.prototype.ma=function(){throw"rejectFn must be overriden by subclass"},e.prototype.V=function(){throw"acceptFn must be overriden by subclass"},e.prototype.screen=function(e,t){return this.ma(e,t)?2:this.V(e,t)?1:0},e}();t.Nb=i,i=function(t){function n(e,n){t.call(this),this.hb=e,this.pb=n,this.Y=new o("id",0,0)}return e(n,t),n.prototype.ma=function(e,t){if(this.pb){var n=e.C("id");return!n||30<=n.length?!1:!this.Y.j(e,t)}},n.prototype.V=function(e,t){return this.hb?this.Y.j(e,t):void 0},n}(i),t.ua=i;var o=function(t){function n(e,n,r){t.call(this,n,r),this.attrName=e}return e(n,t),n.prototype.j=function(e,t){var n=e.C(this.attrName),r=t.attributes[this.attrName];return!(!r||!n)&&n===r},n}(n);t.q=o,i=function(t){function n(e,n,r){t.call(this,e,n),this.Ha=r}return e(n,t),n.prototype.j=function(e,t){var n=e.Q.get(),r=g.l;return this.Ha.u(n,t.xpathArrayToIframe).b<=r},n}(n),t.Ea=i,i=function(t){function n(e,n,i){t.call(this,n,i);var o=e.xpathArrayOriginal;this.qb=new r(this,function(){return g.ba(o,void 0,void 0,e.ignoreWalkmeElementsSelector)})}return e(n,t),n.prototype.j=function(e){var t=this.qb.get();return t&&t[0]==e.element[0]},n}(n),t.ta=i,n=function(t){function n(e,n){t.call(this,e,n)}return e(n,t),n.prototype.j=function(e,t){return t.text&&0!==t.text.length?e.text.get()===t.text:!1},n}(n),t.T=n}(d||(d={}));var f,p=function(){function e(){this.buffer=[]}return e.prototype.append=function(e){this.buffer.push(e)},e.prototype.toString=function(){return this.buffer.join("")},e}();!function(e){function n(i){var o="";if(3===i.nodeType||4===i.nodeType){o=i.nodeValue,i=[160,10,13,9];for(var s=new p,u=0;u<o.length;u++)0>t.indexOf(i,o.charCodeAt(u))&&s.append(o.charAt(u).toLowerCase());if(o=s.toString().replace(/ /g,""),o=a.$.trim(o),o=o.substring(0,e.rb),null!=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.exec(o)){for(i=-1,s=o.length,u=new p;++i<s;){var l=o.charAt(i);/[\uD800-\uDBFF]/.test(l)||/[\uDC00-\uDFFF]/.test(l)?u.append(r(l)):u.append(l)}o=u}}else if(1===i.nodeType&&!i.tagName.match(/^(script|style)$/i))for(i=i.childNodes,s=0,u=i.length;u>s&&!(o=n(i[s]));s++);return o}function r(e){e=e.charCodeAt(0).toString(16).toUpperCase();var t=2<e.length;return"\\"+(t?"u":"x")+("0000"+e).slice(t?-4:-2)}e.rb=70;var i;!function(e){e[e.ElementNode=1]="ElementNode",e[e.Text=3]="Text",e[e.CDATASection=4]="CDATASection"}(i||(i={})),e.extractFirstOccuringText=function(e){return n(e[0])},e.Ub=n}(f||(f={}));var g;return function(e){function i(e,t){function n(n){return o(t,n,function(t){return t==e},!1)}for(var r=n(0),i=[];r>=0&&r<t.count()-1;)i.push(t.slice(0,r+1)),r=n(r+1);return i}function o(e,t,n,r){var i=e.count();if(r){for(t=i-1-t;t>=0;t--)if(n(e.get(t).tag))return t}else for(;i-1>=t;t++)if(n(e.get(t).tag))return t;return-1}function s(e,t,n,r){for(var i,o=[],a=0;a<t.length;a++)i=t[a],o.push(c(e,i,n,r)),e=i;return o=o.reverse(),l(o,n)}function u(e,t,n,r){e=e[0],n=n&&n[0];for(var i=[];e&&1==e.nodeType&&e!=n;e=e.parentNode)i.push(c(e,e.parentNode,t,r));return i=i.reverse(),l(i,t)}function l(e,t){return t?new y(e):new v(e)}function c(e,t,n,r){return n?n.Va(e,t,r):f(e,t,r)}function d(e,t,n){return new r(null,function(){return f(e,t,n)})}function f(e,n,r){var i=1;if("HTML"!=t.Ua(e)){n=n.childNodes;for(var o=0;o<n.length&&n[o]!=e;o++){var a=n[o];a.tagName==e.tagName&&0>t.inArray(a,r)&&i++}}return{tag:e.tagName.toUpperCase(),index:i}}function g(e){return!e||0>=e.length?null:1==e.get(0).nodeType?e:(e=e.find(":first"))&&e.length&&1==e.get(0).nodeType?e:null}function h(e,r,i,o){if(o=o||[],r=r||a.$(document),0<r.find(e).length)e.data("iframe",i),o.unshift(r);else{i=o.length,r=r.find(n.ea);for(var s=0;s<r.length;s++){var u=r.eq(s);if(o=h(e,t.r(u),u,o),o.length>i){a.$(o[0]).data("iframe",u),o.unshift(u);break}}}return o}function m(e){for(var n=["HTML","BODY"],r=0;r<e.count()&&-1<t.inArray(e.get(r).tag,n);r++);return e.slice(r)}var v=function(){function e(e){this.xpathArray=e}return e.prototype.count=function(){return this.xpathArray.length},e.prototype.get=function(e){return this.xpathArray[e]},e.prototype.slice=function(t,n){return new e(this.xpathArray.slice.apply(this.xpathArray,arguments))},e}();e.Qb=v;var y=function(){function e(e){this.xpathArray=e}return e.prototype.count=function(){return this.xpathArray.length},e.prototype.get=function(e){return this.xpathArray[e].get()},e.prototype.slice=function(t,n){return new e(this.xpathArray.slice.apply(this.xpathArray,arguments))},e}();e.Rb=y,e.l=1,e.va=1;var w=function(){function e(e,t,n){this.k=this.s=this.b=0,this.b=e,this.s=t,this.k=n}return e.prototype.clone=function(){return new e(this.b,this.s,this.k)},e.prototype.o=function(){return this.b+this.s/4+this.k/10},e.max=function(){return new e(1e4,0,0)},e.o=function(e){return e.o()},e}();e.Sb=w,e.H=function(n,r,i){function o(n,r,a,s,u){if(Math.abs(r-s)>i||u.b>i)return w.max();if(0==r||0==s)return u=u.clone(),u.b+=Math.max(r,s,0),u.b>i?w.max():u;var l,c=n.get(r-1),d=a.get(s-1),f=0;if(c.tag!==d.tag)f=e.l,l=w.max();else{if(c.index===d.index)return o(n,r-1,a,s-1,u);f=e.va}var p=u.clone();p.b+=f;var f=o(n,r-1,a,s,p),g=o(n,r,a,s-1,p);return l||(c=Math.abs(c.index-d.index),p=u.clone(),c>0&&(p.s++,p.k+=c),l=o(n,r-1,a,s-1,p)),t.min([f,g,l],w.o)}return o(n,n.count(),r,r.count(),new w(0,0,0))},e.ba=function(e,n,r,i){var o=e.count();if(0>=o)return null;n=a.$(n||document),i=i?":not("+i+")":"";for(var s=0;o>s;s++){var u=e.get(s);if(n=n.children(u.tag+i).eq(u.index-1),-1!=t.inArray(u.tag,["IFRAME","FRAME"])&&o>s+1&&(0<n.length&&(r&&n.data("iframe",r),r=n),n=t.r(n)),!n||0==n.length||!n.get(0)){n=null;break}}return n&&0<n.length&&r&&n.data("iframe",r),n},e.Eb=function(n,r){if(!r||0>=r.count())return 0;for(var o=r.get(r.count()-1).tag,a=i(o,n),o=w.max().o(),s=2*e.l,u=o,l=[],c=0;c<a.length;c++){var d=a[c],f=e.H(d,r,s).o();u>f?(u=f,l=[d]):f==u&&l.push(d)}return a=0,o>u&&(a=t.min(l,function(e){return Math.abs(r.count()-e.count())}).count()),a},e.L=o,e.Tb=s,e.Ka=u;var b=function(){function e(){this.qa={}}return e.prototype.Va=function(e,t,n){var r=null,i=this.t(e);return void 0!==i&&(r=this.qa[i]),r||(r=d(e,t,n),t=this.v(),this.w(e,t),this.qa[t]=r),r},e.prototype.t=function(t){return t&&t[e.U]||void 0},e.prototype.w=function(t,n){t&&(t[e.U]=n)},e.prototype.v=function(){return++e.N},e.N=t.fa(),e.U="__WM_XPATH_ENTRY_KEY__",e}();e.Ca=b,e.La=function(e,t,n,r){return e=s(e[0],t,n,r),e=m(e)},e.Ia=function(e,n,r){var i=g(e);return!i||0>=i.length?new v([]):(i=h(i),i=t.reduce(i,function(e,t){return e.concat(u(t,n,null,r).xpathArray)},[]),l(i.concat(u(e,n,null,r).xpathArray),n))},e.removeHtmlAndBodyFromXpathArray=m,e.Lb=function(e){for(var t=new p,n=0;n<e.count();n++){var r=e.get(n);t.append(r.tag),t.append(r.index)}return t.toString()},e.xpathStringToArray=function(e){var t=[];return a.$.each(e.split("/"),function(e,n){if(0!=e){var r=n.indexOf("[");t[e-1]={tag:n.substring(0,r),index:parseInt(n.substring(r+1,n.length-1))}}}),new v(t)}}(g||(g={})),{GitCommit:"87646b5",GitTag:"v1.0.1",GitNumber:"95",ElementRecognition:a,TempUtils:t,ContextUtils:n,TextUtils:f,XpathLib:g}}();jl.register("ElementFinder").asCtor(Sr).dependencies("JQueryElementFinder, StepUtils, PositionHelper, DecodeHtmlFunction, FindElementPluginManager,FESessionManager"),jl.register("FindElementPlugins").asFunction(function(){return[]}),jl.register("FindElementPluginManager").asCtor(Tr).dependencies("FindElementPlugins"),jl.register("FESessionManager").asCtor(Ir).dependencies("TimerManager,FeaturesManager"),jl.register("ElementTextExtractor").asCtor(Cr),jl.register("ElementLastKeeper").asCtor(Er).asSingleton().dependencies("TimerManager"),jl.register("AnalyticsManager").asCtor(kr).dependencies("ClientStorageManager, GenerateGuidFunc, Logger, WmAjax, EventSender"),jl.register("ClickAuditManager").asCtor(_r).dependencies("Lib, ServerDataSenderManager, Logger, HostData, GenerateGuidFunc, DeployableTypes, EventSender, WalkMeInfo, ClickAuditEventSender, ReportInitiatorMapper, AuditingEnabledIndicator"),jl.register("DebuggerAuditManager").asCtor(xr).dependencies("Lib,ServerDataSenderManager,HostData,AbCurrentPermutationProvider"),jl.register("JQueryElementFinder").asCtor(Pr).dependencies("CommonUtils, PositionHelper"),jl.register("AbTasksValidator").asCtor(Dr).dependencies("Lib, HostData"),jl.register("ResourceManager").asCtor(Ar).dependencies("Logger, CommonUtils, HostData, win, Lib"),jl.register("IFramesManager").asCtor(Or).asSingleton().dependencies("Logger"),jl.register("UIChangeTracker").asCtor(Nr).injectToReady().dependencies("Lib,SiteConfigManager,HashChangeNotifier,HistoryChangeNotifier,IFrameLoadChangeNotifier,ClickChangeNotifier,AjaxCallsChangeNotifier,UserInputChangeNotifier,ElementsRedrawer,ElementsRedrawerLegacy,Logger,IFramesManager,TimerManager"),jl.register("UICT_DEFAULT_THROTTLE_TIME_WINDOW").asInstance(2e3),jl.register("UICT_THROTTLE_FIRST_EVENT_BLOCK_TIME_WINDOW").asInstance(250),jl.register("HashChangeNotifier").asCtor(Mr).injectToReady().dependencies("UIChangeTracker"),jl.register("HistoryChangeNotifier").asCtor(Lr).injectToReady().dependencies("UIChangeTracker"),jl.register("IFrameLoadChangeNotifier").asCtor(Br).injectToReady().dependencies("UIChangeTracker,IFramesManager"),jl.register("ClickChangeNotifier").asCtor(Fr).injectToReady().dependencies("UIChangeTracker"),jl.register("UserInputChangeNotifier").asCtor(jr).injectToReady().dependencies("UIChangeTracker,IFramesManager"),jl.register("AjaxCallsChangeNotifier").asCtor(Rr).injectToReady().dependencies("UIChangeTracker,IFramesManager, TimerManager"),jl.register("ElementsRedrawer").asCtor(Ur).injectToReady().dependencies("Lib,TimerManager,UIChangeTracker, CommonUtils, Logger,IFramesManager"),jl.register("ElementsRedrawerLegacy").asCtor(Gr).injectToReady().dependencies("Lib,TimerManager,UIChangeTracker,CommonUtils"),jl.register("AutoStartHelper").dependencies("DeployableTypes,Logger,CrossDomainManager").asFunction(function(e,t,n){var r=n.enabled()?Vr:Wr;return new r(e,t,n)}),jl.register("AutoStartManager").asCtor(Qr).dependencies("ServerStorageManager, Logger, AutoStartHelper, DeployablesManagerFactory, DeployableTypes, ClientStorageManager, TimerManager, CommonUtils,ProfilerAPI,ElementFinder, Consts"),jl.register("PermalinkManager").asCtor(Hr).dependencies("CrossDomainManager, DeployablesManagerFactory, Lib, DeployableTypes, CommonUtils, Consts"),jl.register("SiteConfigManager").asCtor(zr).args([[]]),jl.register("RecorderServerManager").asCtor(zr).args([""]),jl.register("EventServerBaseUrl").asCtor(zr).args([""]),jl.register("AuditSourceManager").asCtor(zr).args(jl.get("Consts").SOURCES.production),jl.register("FeaturesManager").asCtor(Yr).dependencies("SiteConfigManager"),jl.register("LanguageManager").asCtor(qr).dependencies("win, Lib, ServerStorageManager"),jl.register("OverlayManager").asCtor(Kr).asSingleton().dependencies(),jl.register("ServerStorageAjaxCaller").asCtor(Xr).dependencies("Lib, AuditSourceManager, RecorderServerManager, Logger, WmAjax"),jl.register("ServerStorageManager").asCtor(Jr).dependencies("Consts, Lib,EndUserStorageDataSender, ClientStorageManager, AuditSourceManager, ServerStorageAjaxCaller, CommonUtils, SettingsFile"),jl.register("EndUserStorageDataSender").asCtor($r).dependencies("Lib, CommonUtils, AuditSourceManager, ServerDataSenderManager, Logger"),jl.register("SettingsCacheManager").asCtor(Zr).asSingleton().dependencies("Lib,SettingsFile,Logger,CommonUtils,WmAjax"),jl.register("EndUserDataConverter").asCtor(ei).dependencies("Lib, ServerStorageManager, DeployablesManagerFactory, CommonUtils, StepUtils"),jl.register("WalkmeConfigManager").asCtor(ti).dependencies("WmAjax, SettingsFile"),jl.register("ShoutOutActionDataProvider").asCtor(ni).dependencies("Consts, DeployablesDataProvider, CommonUtils"),jl.register("LauncherActionDataProvider").asCtor(ri).dependencies("Consts, DeployablesDataProvider"),jl.register("DeployablesDataProvider").asCtor(ii).dependencies("Lib"),jl.register("AnalyticsPropertiesManager").asCtor(oi).dependencies("SiteConfigManager, ValueProviderFactory"),jl.register("ValueProviderFactory").asCtor(ai).dependencies("FeaturesManager, Consts, ValueCalculatorFactory"),jl.register("StickyValueProvider").asCtor(si).asProto(),jl.register("PredefinedValueProvider").asCtor(ui).asProto();var ad=function(){function e(e){this.PLACE_HOLDER="%@",this._win=e,_walkmeInternals.callbacks=_walkmeInternals.callbacks||{},_walkmeInternals.callbacks.log=wmjQuery.proxy(function(e){this.postMessage({actionId:-1,data:{log:e}})},this)}return e.prototype.message=function(e,t,n,r,i){this.registerHandler(n,e,t,r,i)},e.prototype.getCallbackWrapper=function(e,t,n,r){return{success:function(r){delete _walkmeInternals.callbacks[t][e+""],n(r)},fail:function(n){delete _walkmeInternals.callbacks[t][e+""],r(n)}}},e.prototype.getParams=function(e,t,n){var r='_walkmeInternals.callbacks["'+e+'"]["'+t+'"].success('+this.PLACE_HOLDER+")",i='_walkmeInternals.callbacks["'+e+'"]["'+t+'"].fail('+this.PLACE_HOLDER+")",o='if (_walkmeInternals.callbacks["'+e+'"] && _walkmeInternals.callbacks["'+e+'"]["'+t+'"]) {'+r+'}else {_walkmeInternals.callbacks.log("callback does not exist in _walkmeInternals.callbacks. cannot perform '+t+" on "+e+'")}',a='if (_walkmeInternals.callbacks["'+e+'"] && _walkmeInternals.callbacks["'+e+'"]["'+t+'"]) {'+i+'}else {_walkmeInternals.callbacks.log("callback does not exist in _walkmeInternals.callbacks. cannot perform '+t+" on "+e+'")}',s={actionId:t,success:o,fail:a};return n&&(s.data=n),s},e.prototype.registerHandler=function(e,t,n,r,i){var o=_walkmeInternals.callbacks[t]=_walkmeInternals.callbacks[t]||{};o[e]=this.getCallbackWrapper(e,t,r,i),this.postMessage(this.getParams(t,e,n))},e}(),jc=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},sd=function(e){function t(){e.apply(this,arguments)}return jc(t,e),t.prototype.getSdkVersion=function(){return this._win.iOS&&this._win.iOS.SDKVersion},t.prototype.postMessage=function(e){this._win.webkit&&this._win.webkit.messageHandlers[kc.MOBILE_COMMAND_NAME].postMessage(e)},t}(ad);_c.register(kc.PLATFORM.iOS,function(){jl.register("MobileUtils").asCtor(sd).dependencies("win")});var jc=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ud=function(e){function t(){e.apply(this,arguments)}return jc(t,e),t.prototype.getSdkVersion=function(){return this._win.android&&this._win.android.SDKVersion},t.prototype.postMessage=function(e){this._win.NativeBridge&&this._win.NativeBridge.call(kc.MOBILE_COMMAND_NAME,u(e))},t}(ad);_c.register(kc.PLATFORM.Android,function(){jl.register("MobileUtils").asCtor(ud).dependencies("win")}),jl.register("InputGenerator").asCtor(li).dependencies("SimulatedCssHoverManager, Logger, TimerManager, EventsTrigger"),jl.register("SimulatedCssHoverManager").asCtor(ci).dependencies("Logger,CommonUtils,ResourceManager");var ld=function(){function e(){this._overlayManager=jl.get("OverlayManager"),this._uiUtils=jl.get("UiUtils"),this._canDisplayOverlay=this._uiUtils.canDisplayOverlay()}return e.prototype.setUiObject=function(e){this._uiObject=e},e.prototype.setSettings=function(e){this._settings=e},e.prototype.getOverlay=function(){if(this._canDisplayOverlay&&this._settings.overlay){var e=this._settings.overlay.opct,t=this._settings.overlay.color;return this._overlay=this._overlay||this._overlayManager.create(this._uiObject,e,t),this._overlay}},e.prototype.removeOverlay=function(){this._canDisplayOverlay&&this._overlay&&this._overlay.remove()},e}();jl.register("PopupUIUtil").asCtor(ld).asProto();var cd=function(){function e(){this._methods={},this.fadeOutFunc=function(e){var t="";return t+='wmjQuery("body").bind("transitionend webkitTransitionEnd", '+e+'); wmjQuery("body").removeClass("shown");'}}return e.prototype.createEventFunction=function(e){var t="",n=wmjQuery.proxy(function(n,r){var i=this._methods[r.funcName];i=i.slice(0,-2),t+=i;var o=wmjQuery.extend(!0,{},r.data),a=u(o)||"",s="";if(r.data&&r.data.libAction){var l="_walkmeInternals.callbacks['"+e+"']['"+kc.MOBILE_COMMAND_NAME+"']['"+n+"']['"+r.eventName+"']()";o.action=l,delete o.libAction,a=u(o)}var c='{ "actionId": '+r.actionId+(a&&', "data": '+a)+"}";s+=this.createCallString(c),t+=this.fadeOutFunc("function() { "+s+" }")+"};"},this);return wmjQuery.safeEach(this._events,n),t},e.prototype.bindEventsToUI=function(e){wmjQuery.safeEach(this._events,wmjQuery.proxy(function(t,n){e.find(t).add(e).filter(t).attr("on"+n.eventName,n.funcName+"()")},this))},e.prototype.registerEvent=function(e,t,n,r,i){this._events=this._events||{},this._events[e]={funcName:i,actionId:n,eventName:t,data:r},this._methods[i]=this._methods[i]||"\nvar "+i+"= function(){ };"},e.prototype.registerScripts=function(e){var t=this;wmjQuery.safeEach(this._events,function(n,r){r.data.libAction&&t.createEventInLib(e,n,r.eventName,r.data.libAction)})},e.prototype.createEventInLib=function(e,t,n,r){var i=_walkmeInternals.callbacks[e]=_walkmeInternals.callbacks[e]||{},o=i[kc.MOBILE_COMMAND_NAME]=i[kc.MOBILE_COMMAND_NAME]||{},a=o[t]=o[t]||{};a[n]=r},e}(),jc=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},dd=function(e){function t(){e.apply(this,arguments)}return jc(t,e),t.prototype.createCallString=function(e){var t='window.webkit && webkit.messageHandlers["'+kc.MOBILE_COMMAND_NAME+'"].postMessage('+e+");";return t},t}(cd);_c.register(kc.PLATFORM.iOS,function(){jl.register("MobileEventsRegistrationsHandler").asCtor(dd).asProto()});var jc=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},fd=function(e){function t(){e.apply(this,arguments)}return jc(t,e),t.prototype.createCallString=function(e){var t='window.NativeBridge && NativeBridge.call("'+kc.MOBILE_COMMAND_NAME+'", '+u(e)+");";return t},t}(cd);_c.register(kc.PLATFORM.Android,function(){jl.register("MobileEventsRegistrationsHandler").asCtor(fd).asProto()}),jl.register("GuidGenerator").asCtor(di),jl.register("BalloonUtils").asCtor(fi).dependencies("Consts, HostData, CommonUtils"),jl.register("CookieValueCalculator").asCtor(pi).dependencies("CookiesManager"),jl.register("JQueryValueCalculator").asCtor(gi).dependencies("JQueryElementFinder"),jl.register("VariableValueCalculator").asCtor(hi).dependencies("CommonUtils"),
jl.register("ValueCalculatorFactory").asCtor(mi).dependencies("Logger, Consts, CookieValueCalculator, JQueryValueCalculator, VariableValueCalculator"),jl.register("CssClassesAppender").asCtor(vi),jl.register("ImageLoader").asCtor(yi),jl.register("jawsAccessibilityUtil").asCtor(wi);var pd="alt";jl.register("Mapper").asCtor(bi),jl.register("ActionsFactory").asCtor(Si).dependencies("Lib, ServerStorageManager,Consts, ClientStorageManager"),jl.register("SfVarsRetrieverFactory").asCtor(Ti).dependencies("Lib, CommonUtils").factory(Fl.factory.func),jl.register("LegacySfVarsRetriever").asCtor(Ii).dependencies("Lib, SiteConfigManager, SalesForceConnectionUtils"),jl.register("LightningSfVarsRetriever").asCtor(Ci).dependencies("Lib, CommonUtils, SiteConfigManager, TimerManager, ClientStorageManager, SfVarsMapper, LightningSfVarsUrlBuilder"),jl.register("LightningSfVarsUrlBuilder").asCtor(Ei).dependencies("Lib, CommonUtils, TimerManager"),jl.register("SalesForceManager").asCtor(ki).dependencies("SalesForceVarsExtractor,SalesForceSearcher,FeaturesManager"),jl.register("SalesForceConnectionUtils").asCtor(_i).dependencies("Logger,CookiesManager"),jl.register("SalesForceVarsExtractor").asCtor(xi).dependencies("Lib, ClientStorageManager, CommonEvents, SfVarsRetrieverFactory"),jl.register("SalesForceSearcher").asCtor(Pi).dependencies("Lib,SiteConfigManager,SalesForceConnectionUtils"),jl.register("SfVarsMapper").asCtor(Di).dependencies("CommonUtils");var Oi=new Oi(Ml),jc=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},gd=function(){function e(e){this.logger=null,this.lib=null,this.deployable=null,this.isLoaded=!1,this.properties=[],this.propertyNames=[],this.utils=null,this.children=[],this.lib=e.lib,this.deployable=e.deployable,this.utils=e.utils,this.children=e.children}return e.prototype.prop=function(e){return e.toLowerCase()},e.prototype.getAll=function(){return this.isLoaded||this.load(),this.properties},e.prototype.hasProperty=function(e,t){return(t||!this.isLoaded)&&this.load(),-1!=wmjQuery.inArray(e,this.properties)},e.prototype.load=function(){this.isLoaded=!0},e.prototype.clear=function(){this.properties=[],this.isLoaded=!1},e.prototype.generateSingle=function(e,t){var n=t?[e]:[];this.properties=n},e.prototype.canGenerate=function(e){return-1!=wmjQuery.inArray(e,this.propertyNames)},e}(),hd=function(e){function t(t){e.call(this,t),this.propertyNames=[]}return jc(t,e),t.prototype.load=function(){var t=this.deployable.Settings;if(this.properties=[],t&&t.DeployableTypes){for(var n=0;n<t.DeployableTypes.length;n++){var r=this.lib.getDeployablesManager(t.DeployableTypes[n]).name();this.properties.push(this.prop("contains-"+r))}e.prototype.load.call(this)}},t}(gd),md=function(e){function t(t){e.call(this,t),this._featuresManager=jl.get("FeaturesManager"),this._visiblePropertyName=this.prop(Ic.Visible),this._invisiblePropertyName=this.prop(Ic.Invisible),this.propertyNames=[this._visiblePropertyName,this._invisiblePropertyName],this._tasksManager=this.lib.getDeployablesManager(Qd.Task),this.customerLog=this.lib.Logger.wrapCustomerLog("showWidget")}return jc(t,e),t.prototype.load=function(){var t=!0;if(this.utils.isGroup(this.deployable)){var n=this.doesSupportSearchProviders(this.deployable),r=this.utils.hasChildren(this.deployable);t=r||n;var i=this._featuresManager.isFeatureEnabled("dontShowTabsWithNoVisibleChildren");i&&(t=t&&this.utils.hasVisibleChildren(this.deployable,this.children)),t||(this.utils.isTasksTab(this.deployable)&&this.customerLog("Show widget - not showing tasks tab because there are no tasks and the tab doesn't support search.",2),this.utils.isHelpTab(this.deployable)&&this.customerLog(ln.formatString("Show widget - not showing tab named {0} because there are no children and the tab doesn't support search.",this.deployable.Name),2))}t=t&&this.checkTasksCondition(this.deployable),t=t&&this.checkDisplayCondition(this.deployable),t?this.generateSingle(this._visiblePropertyName,!0):this.generateSingle(this._invisiblePropertyName,!0),e.prototype.load.call(this)},t.prototype.doesSupportSearchProviders=function(e){var t=!1,n=this.utils.supportsDeployableType(e,Qd.Tutorial);return n&&this.utils.isSearchEnabled()&&(t=!0),t},t.prototype.checkTasksCondition=function(e){var t=!0,n=this.lib.getSiteConfig().TodoListSettings,r=this.utils.supportsDeployableType(e,Qd.Task);if(r&&n){var i=n.hideComplete&&parseInt(n.hideComplete);if(i){var o=this.utils.hasUncompletedChildren(this.children);o||this.customerLog("Show widget - not showing tasks tab because all tasks are completed",2),t=o}if(t){var a=n.activateCondition;a&&(t=this.lib.evaluateConditionTree(a),t||this.customerLog("Show widget - not showing tasks tab because it was segmented out by a condition in todo list settings.",2),Hp("TasksConditionEvaluated",this.lib.getSiteConfig()))}}return t},t.prototype.checkDisplayCondition=function(e){var t=!0;if(e.deployableType==Qd.Task&&(t=this._tasksManager.isTaskDisplayed(e)),e.deployableType==Qd.Tutorial&&(t=this.lib.canShowTutorial(e)),(e.deployableType==Qd.Content||e.deployableType==Qd.Shuttle)&&e.Settings&&e.Settings.DisplayCondition){var n=jl.create("ConditionChecker",{featureName:Ul,elementName:e.Name,trackEvent:ia(e.deployableType)+" - Segmentation",trackData:ln.getTrackData(e)});n.evaluateAsync(e.Settings.DisplayCondition),t=n.getValue(!0)}return t},t}(gd),vd=function(e){function t(t){e.call(this,t),this.propertyNames=[Ic.Completed,Ic.StrikedOut,Ic.Uncompleted,Ic.Active,Ic.Inactive,Ic.Phantom,Ic.ProgressBar],this._tasksManager=this.lib.getDeployablesManager(Qd.Task)}return jc(t,e),t.prototype.load=function(){var t=[];if(this.deployable.deployableType==Qd.Task){var n=this._tasksManager.isTaskCompleted(this.deployable);this.handleCompletionProperties(t,n),this.handleActiveProperties(t,n),this.handlePhantomTask(t,this.deployable.Settings)}else this.utils.isTasksTab(this.deployable)&&t.push(this.prop(Ic.ProgressBar));this.properties=t,e.prototype.load.call(this)},t.prototype.handleCompletionProperties=function(e,t){if(t){e.push(this.prop(Ic.Completed));var n=this.lib.getSiteConfig();Number(n.TodoListSettings.strikeOutCompletedTasks)&&e.push(this.prop(Ic.StrikedOut))}else e.push(this.prop(Ic.Uncompleted))},t.prototype.handleActiveProperties=function(e,t){this.isActive(t)?e.push(this.prop(Ic.Active)):e.push(this.prop(Ic.Inactive))},t.prototype.isActive=function(e){var t=this._tasksManager.isTaskActive(this.deployable);return e&&!this.shouldPlayAfterCompletion()&&(t=!1),t},t.prototype.shouldPlayAfterCompletion=function(){var e=this.lib.getSiteConfig(!0),t=Number(e.TodoListSettings.allowPlayAfterCompletion);return t},t.prototype.handlePhantomTask=function(e,t){t.Phantom&&e.push(this.prop(Ic.Phantom))},t}(gd),yd=function(e){function t(t){e.call(this,t),this.propertyNames=[Ic.Search,Ic.SearchProviders]}return jc(t,e),t.prototype.load=function(){var t=[];this.utils.isTab(this.deployable)&&this.utils.supportsDeployableType(this.deployable,Qd.Tutorial)&&(t.push(this.prop(Ic.Search)),this.isSearchEnabled()&&t.push(this.prop(Ic.SearchProviders))),this.properties=t,e.prototype.load.call(this)},t.prototype.isSearchEnabled=function(){var e=this.lib.getSiteConfig();return e.Settings&&Number(e.Settings.search)},t}(gd),wd=function(e){function t(t){e.call(this,t),this.propertyNames=[Ic.Default]}return jc(t,e),t.prototype.load=function(){var t=ln.isTrue(this.deployable.Settings,Ic.Default,!1);t&&this.utils.hasUncompletedChildren(this.children)&&this.generateSingle(Ic.Default,!0),e.prototype.load.call(this)},t}(gd),bd=function(e){function t(t){e.call(this,t),this._videoProperty=this.prop(Ic.Video),this._articleProperty=this.prop(Ic.Article),this.propertyNames=[this._videoProperty,this._articleProperty]}return jc(t,e),t.prototype.load=function(){if(this.deployable.deployableType==Qd.Content){var t=this.lib.getDeployablesManager(Qd.Content).types(),n=this.deployable.Type;switch(n){case t.Video:this.generateSingle(this._videoProperty,!0);break;case t.Article:this.generateSingle(this._articleProperty,!0)}}e.prototype.load.call(this)},t}(gd),Sd=function(e){function t(t){e.call(this,t),this.propertyNames=[Ic.Accessible]}return jc(t,e),t.prototype.load=function(){var t=!this.utils.isTab(this.deployable);this.generateSingle(Ic.Accessible,t),e.prototype.load.call(this)},t}(gd);jl.register("UiDataProvider").asCtor(Li).dependencies("Lib");var Li;jl.register("ShuttlesManager").asCtor(Gi).asProto().dependencies("win, TimerManager, WalkMeGoalsManager, ClickAuditManager, CommonUtils, Lib, Consts"),jl.register("ShoutOutsManager").asCtor(Hi).asProto().dependencies("Lib, UIComponentsFactory, WalkMeGoalsManager, ClickAuditManager, ServerStorageManager, ShoutOutActionDataProvider"),jl.register("BBCodeParser").asCtor(qi).dependencies("CommonUtils,SiteConfigManager,RecorderServerManager, JQueryElementFinder"),jl.register("Positions").asInstance({Top:0,Right:1,Bottom:2,Left:3,TopLeft:4,TopRight:5,BottomRight:6,BottomLeft:7,Center:8}),jl.register("FontsData").asFunction(function(){var e=new Ki;return e.concat({"walkme-opensans":{id:"opensans",name:"opensans",url:"/player/resources/fonts/opensans"}}),e}),jl.register("UIVariationsAdapter").asCtor(Ji).dependencies("ResourceManager"),jl.register("UITemplatesAdapter").asCtor($i).dependencies("ResourceManager"),jl.register("UITemplates").asCtor(Ki).dependencies("UITemplatesAdapter"),jl.register("UIVariations").asCtor(Ki).dependencies("UIVariationsAdapter"),jl.register("UIDisplayers").asFunction(function(){var e=new Ki;return e.concat({1:"PopupDisplayer",2:"BarDisplayer"}),e}).asSingleton(),jl.register("UIComponents").asFunction(function(){var e=new Ki;return e.concat({1:"ShoutOut",2:"ShoutOut",4:"ShoutOut"}),e}).asSingleton();var Td=function(){function e(){this.eventBase=wmjQuery({})}return e.prototype.once=function(e,t){this.eventBase.one(e,t)},e.prototype.bind=function(e,t){this.eventBase.bind(e,t)},e.prototype.unbind=function(e,t){this.eventBase.unbind(e,t)},e.prototype.trigger=function(e,t){this.eventBase.trigger(e,t)},e}(),jc=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Id=function(e){function t(t){e.call(this),this._uiComponent=t,this._settings=t.Settings||{},this._variations=this.createVariations(),this._uiCreator=jl.get("UICreator"),this.createUi()}return jc(t,e),t.prototype.getComponent=function(){return this._uiComponent},t.prototype.createUi=function(){this._displayer=jl.get("DisplayersFactory").get(this._uiComponent.DisplayerId,[this._uiComponent.Settings]);var e=this._displayer.getContainer(),t=e?e[0].document:document;this._uiCreator.setUI(this._uiComponent,this._variations,this.createConfig(),t),this.registerEvents(),this._displayer.setUiObject(this._uiCreator.getUI())},t.prototype.registerEvents=function(){},t.prototype.createVariations=function(){for(var e=jl.get("UIVariations"),t=[],n=this._uiComponent.UIVariationsIds||[],r=0;r<n.length;r++)t.push(e.get(n[r]));return this._settings.variation&&t.push(this._settings.variation),t},t.prototype.createConfig=function(){return{}},t.prototype.append=function(){var e=this;this.trigger("append-begin"),jl.get("TemplatesFactory").addResources(this._uiComponent.UITemplateId,this._uiComponent.UITemplateVersion,this._variations,wmjQuery.proxy(function(){e._displayer.append(wmjQuery.proxy(function(){return e.trigger("append-end")},e))},this))},t.prototype.destroy=function(){var e=this;this._isDead||(this.trigger("destroy-begin"),this._displayer.remove(wmjQuery.proxy(function(){e._isDead=!0,e.trigger("destroy-end")},this)))},t.prototype.show=function(){this.trigger("show-begin"),this._displayer.show(wmjQuery.proxy(function(){this.trigger("show-end")},this))},t.prototype.hide=function(){this.trigger("hide-begin"),this._displayer.hide(wmjQuery.proxy(function(){this.trigger("hide-end")},this))},t.prototype.toggle=function(){this._displayer.isVisible()?this.hide():this.show()},t}(Td),jc=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Cd=function(e){function t(t,n,r,i,o,a){this.CLASS_X_BUTTON="walkme-x-button",this.CLASS_ACTION_PREFIX="walkme-action-",this._actionsFactory=t,this._commonUtils=n,this._bbCodeParser=r,this._position=0==a.Settings.position?"top":"bottom",this._actions=this.getActions(a),this._lib=i,this._consts=o,e.call(this,a)}return jc(t,e),t.prototype.getActions=function(e){var t=[];if(!e.Actions)return t;for(var n=0,r=e.Actions.length;r>n;n++){var i=e.Actions[n];i.IsActive&&(i[i.Type]=!0,i.CssClass=this.generateActionClass(t.length,e.Actions[n]),t.push(e.Actions[n]))}return t},t.prototype.registerEvents=function(){e.prototype.registerEvents.call(this),this.registerXButton(),this.registerActions();var t=wmjQuery.proxy(function(){this.destroy()},this),n={objectId:this._uiComponent.Id,type:kc.STEP_PLAY_INITIATOR_ENUM.SHOUTOUT};this._lib.bindBBCodeEvents(this._uiCreator.ui,t,n)},t.prototype.registerXButton=function(){var e=wmjQuery.proxy(function(){this.trigger("x-clicked"),this.destroy()},this);this._uiCreator.registerEvents("."+this.CLASS_X_BUTTON,"click",kc.MOBILE_COMMANDS.ACTION.libAction,{libAction:e},"Close")},t.prototype.registerActions=function(){for(var e=0,t=this._actions.length;t>e;e++){var n=this._actions[e];n.Args=n.Args||{},n.Args.uiComponent=this;var r,i=this._actionsFactory.get(n.Type,n.Args,Rd.SHOUTOUT,this._uiComponent),o=this.generateActionClass(e,this._actions[e]),a=o.replace(/-/gi,"_"),s=i.args||{};r=i.mobileAction?wmjQuery.proxy(function(e){this.trigger("action-start",e),this.destroy()},this,n.Type):wmjQuery.proxy(function(e,t){this.trigger("action-start",e),t.doAction(),"destroy"!=e&&this.destroy()},this,n.Type,i),s.libAction=r,this._uiCreator.registerEvents("."+o,"click",i.mobileAction||kc.MOBILE_COMMANDS.ACTION.libAction,s,a||"")}},t.prototype.generateActionClass=function(e,t){return this.CLASS_ACTION_PREFIX+t.Type+"-"+e},t.prototype.createConfig=function(){return{Id:this._uiComponent.Id,Name:this._uiComponent.Name,Title:this.handleText(this._uiComponent.Title),Description:this.handleText(this._uiComponent.Description),XButtonClass:this.CLASS_X_BUTTON,Actions:this._actions,Position:this._position}},t.prototype.handleText=function(e){return this._bbCodeParser.parse(this._commonUtils.nl2br(e))},t}(Id);jl.register("ShoutOut").asCtor(Cd).asProto().dependencies("ActionsFactory, CommonUtils, BBCodeParser, Lib, Consts");var Ed=function(){function e(){this.events={}}return e.prototype.setUI=function(e,t,n,r){var i=e.Actions?wmjQuery(e.Actions).filter(function(e,t){return t.IsActive}).length:0,o="wm-one-button";2==i?o="wm-two-buttons":0==i&&(o="wm-no-buttons"),n.ButtonsClass=o,this.ui=jl.get("TemplatesFactory").get(e.UITemplateId,e.UITemplateVersion,t,n,r)},e.prototype.registerEvents=function(e,t,n,r,i){this.events[e]={name:t,actionId:n,body:r.libAction}},e.prototype.getUI=function(){return this.bindEvents(),this.ui},e.prototype.bindEvents=function(){},e}(),jc=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},kd=function(e){function t(){e.apply(this,arguments)}return jc(t,e),t.prototype.bindEvents=function(){var e=this;wmjQuery.safeEach(this.events,function(t,n){e.ui.find(t).on(n.name,n.body)})},t}(Ed);_c.register(kc.PLATFORM.Web,function(){jl.register("UICreator").asCtor(kd).asProto()}),_c.register(kc.PLATFORM.MobileWeb,function(){jl.register("UICreator").asCtor(kd).asProto()});var jc=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},_d=function(e){function t(){e.apply(this,arguments),this._lib=jl.get("Lib"),this._resourceManager=jl.get("ResourceManager"),this._eventsRegistrator=jl.get("MobileEventsRegistrationsHandler")}return jc(t,e),t.prototype.getUI=function(){e.prototype.getUI.call(this),this.buildHTML(),this.setID();var t=wmjQuery("head",this._uiHTML);return this.appendCustomCSS(t),this.appendFadeoutEffect(t),this.appendScriptTag(),this.appendUIObjectToBody(),this.registerScripts(),this._uiHTML},t.prototype.registerEvents=function(e,t,n,r,i){this._eventsRegistrator.registerEvent(e,t,n,r,i)},t.prototype.bindEvents=function(){this._eventsRegistrator.bindEventsToUI(this.ui)},t.prototype.registerScripts=function(){this._eventsRegistrator.registerScripts(this.ui.attr("id"))},t.prototype.buildHTML=function(){this._uiHTML=wmjQuery("<html>"),this._head=wmjQuery("<head>"),this._body=wmjQuery("<body>"),this._body.css("display","none"),this._uiHTML.append(this._head),this._uiHTML.append(this._body)},t.prototype.setID=function(){this._uiHTML.attr("id",this.ui.attr("id"))},t.prototype.appendCustomCSS=function(e){var t=this._lib.getCustomCssProp();this._resourceManager.injectCss(t,"walkme-custom-css",e)},t.prototype.appendFadeoutEffect=function(e){this._resourceManager.injectCss("body { opacity: 0; transition: opacity 0.3s linear; } body.shown { opacity: 1; }","walkme-fadeout-effect",e)},t.prototype.appendUIObjectToBody=function(){this.ui.show(),this._body.append(this.ui)},t.prototype.getScriptContent=function(){return this._eventsRegistrator.createEventFunction(this.ui.attr("id"))},t.prototype.appendScriptTag=function(){var e=this.getScriptContent();this.addScriptTagWithContent(e);var t='function fadeIn() {wmjQuery("body").show().addClass("shown");}';this.addScriptTagWithContent(t);var n="(function(){ var jQueryScript = document.createElement('script');jQueryScript.src = '"+jl.get("win").wmSnippet.getSettingsFile().jQueryFile+"';jQueryScript.setAttribute('onload', 'fadeIn()');jQueryScript.async = true;document.getElementsByTagName('head')[0].appendChild(jQueryScript);})();";this.addScriptTagWithContent(n)},t.prototype.addScriptTagWithContent=function(e){var t=document.createElement("script");t.type="text/javascript",t.appendChild(document.createTextNode(e)),this._head[0].appendChild(t)},t}(Ed);_c.register(kc.PLATFORM.iOS,function(){jl.register("UICreator").asCtor(_d).asProto()}),_c.register(kc.PLATFORM.Android,function(){jl.register("UICreator").asCtor(_d).asProto()});var jc=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},xd=function(e){function t(t){e.call(this),this._isVisible=!1;var n=jl.get("Lib"),r=n.shouldHandlePageAsFramesets()?n.getBiggestFrame().contentWindow:window;this._lib=n,this._topWindow=wmjQuery(r),this._topContainer=wmjQuery(n.getCommonUtils().getBody(r.document)),this._settings=t}return jc(t,e),t.prototype.setUiObject=function(e){this._uiObject=e},t.prototype.getContainer=function(){return this._topWindow},t.prototype.append=function(e){this._topContainer.append(this._uiObject),e&&e()},t.prototype.remove=function(e){this._uiObject.remove(),this._isVisible=!1,e&&e()},t.prototype.show=function(e){this._uiObject.show(),this._isVisible=!0,e&&e()},t.prototype.hide=function(e){this._uiObject.hide(),this._isVisible=!1,e&&e()},t.prototype.isVisible=function(){return this._isVisible},t}(Td),jc=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Pd=function(e){function t(t){e.call(this,t),this.DEFAULT_Z_INDEX=2147483631,this._positions=jl.get("Positions"),this._popupUtil=jl.get("PopupUIUtil"),this._popupUtil.setSettings(t)}return jc(t,e),t.prototype.setUiObject=function(t){e.prototype.setUiObject.call(this,t),this._popupUtil.setUiObject(this._uiObject)},t.prototype.show=function(e){if(this._isVisible)return void(e&&e());this.unbindEvents();var t;t=this._settings["z-index"]?this._settings["z-index"]:this.DEFAULT_Z_INDEX,this._uiObject.css("z-index",t);var n=wmjQuery.proxy(function(){this._isVisible=!0,e&&e()},this);this.pop(n)},t.prototype.pop=function(e){var t=parseInt(this._settings.position,10),n=t==this._positions.Center;n?this.popCenter(e):this.popCorner(t,e)},t.prototype.handleOverlay=function(){var e=Number(this._uiObject[0].style.zIndex),t=this._popupUtil.getOverlay();t&&(e==this.DEFAULT_Z_INDEX&&this._uiObject.css("z-index",e+1),t.show())},t.prototype.popCorner=function(e,n){this._uiObject.css({position:"fixed"}),this.handleOverlay();var r=(this._settings.marginV||0)+"px",i=(this._settings.marginH||0)+"px";switch(e){case this._positions.Top:this._uiObject.addClass(t.POSITION_PREFIX+"top"),this._uiObject.css({top:0,left:"50%",marginLeft:-(this._uiObject.outerWidth()/2),marginTop:r});break;case this._positions.Right:this._uiObject.addClass(t.POSITION_PREFIX+"right"),this._uiObject.css({right:0,top:"50%",marginTop:-(this._uiObject.outerHeight()/2),marginRight:i});break;case this._positions.Bottom:this._uiObject.addClass(t.POSITION_PREFIX+"bottom"),this._uiObject.css({bottom:0,left:"50%",marginLeft:-(this._uiObject.outerWidth()/2),marginBottom:r});break;case this._positions.Left:this._uiObject.addClass(t.POSITION_PREFIX+"left"),this._uiObject.css({left:0,top:"50%",marginTop:-(this._uiObject.outerHeight()/2),marginLeft:i});break;case this._positions.TopLeft:this._uiObject.addClass(t.POSITION_PREFIX+"top-left"),this._uiObject.css({left:0,top:0,marginTop:r,marginLeft:i});break;case this._positions.TopRight:this._uiObject.addClass(t.POSITION_PREFIX+"top-right"),this._uiObject.css({right:0,top:0,marginTop:r,marginRight:i});break;case this._positions.BottomRight:this._uiObject.addClass(t.POSITION_PREFIX+"bottom-right"),this._uiObject.css({right:0,bottom:0,marginBottom:r,marginRight:i});break;case this._positions.BottomLeft:this._uiObject.addClass(t.POSITION_PREFIX+"bottom-left"),this._uiObject.css({left:0,bottom:0,marginBottom:r,marginLeft:i})}this.fadeIn(n)},t.prototype.popCenter=function(e){this._uiObject.addClass("wm-position-center"),this._lib.centerElementInPage(this._uiObject,!1),this.handleOverlay(),this.fadeIn(e),this._resizeHandler=wmjQuery.proxy(function(){this._uiObject.stop(!1,!0),this._lib.centerElementInPage(this._uiObject,!0)},this),this._topWindow.bind(t.MOVEMENT_EVENTS,this._resizeHandler)},t.prototype.fadeIn=function(e){this._uiObject.stop(!0,!1).css("opacity",1).hide().fadeIn(400,e)},t.prototype.hide=function(e){return this._isVisible?(this.unbindEvents(),this._popupUtil.removeOverlay(),void this._uiObject.stop(!0,!1).css("opacity",1).show().fadeOut(200,wmjQuery.proxy(function(){this._isVisible=!1,e&&e()},this))):void(e&&e())},t.prototype.remove=function(e){this.hide(wmjQuery.proxy(function(){this._uiObject.remove(),e&&e()},this))},t.prototype.unbindEvents=function(){this._resizeHandler&&this._topWindow.unbind(t.MOVEMENT_EVENTS,this._resizeHandler),this._resizeHandler=null},t.EVENT_SUFFIX="walkmeDisplayer",t.MOVEMENT_EVENTS="scroll."+t.EVENT_SUFFIX+", resize."+t.EVENT_SUFFIX,t.POSITION_PREFIX="wm-position-",t}(xd);_c.register(kc.PLATFORM.Web,function(){jl.register("PopupDisplayer").asCtor(Pd).asProto()});var jc=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Dd=function(e){function t(){e.apply(this,arguments),this._css="/* Template 4.3 Only Fallbacks */ /* Light */ @media only screen and (max-height: 400px) { 	.wm-template-light .wm-template-text{	 		max-height: 100px; 	} }  @media only screen and (min-height: 401px) and (max-height: 500px) { 	.wm-template-light .wm-template-text{	 		max-height: 200px; 	} }  @media only screen and (min-height: 501px) and (max-height: 600px) { 	.wm-template-light .wm-template-text{	 		max-height: 300px; 	} }  @media only screen and (min-height: 601px) { 	.wm-template-light .wm-template-text{	 		max-height: 400px; 	} }  /* Standout Title */ @media only screen and (max-height: 400px) { 	.wm-template-standout-title .wm-template-text{	 		max-height: 75px; 	}  	.wm-template-standout-title.wm-two-buttons .wm-template-text{ 		max-height: 50px; 	}  	.wm-template-standout-title.wm-no-buttons .wm-template-text{ 		max-height: 100px; 	} }  @media only screen and (min-height: 401px) and (max-height: 500px) { 	.wm-template-standout-title .wm-template-text{	 		max-height: 175px; 	}  	.wm-template-standout-title.wm-two-buttons .wm-template-text{ 		max-height: 150px; 	}  	.wm-template-standout-title.wm-no-buttons .wm-template-text{ 		max-height: 200px; 	} }  @media only screen and (min-height: 501px) and (max-height: 600px) { 	.wm-template-standout-title .wm-template-text{	 		max-height: 275px; 	}  	.wm-template-standout-title.wm-two-buttons .wm-template-text{ 		max-height: 250px; 	}  	.wm-template-standout-title.wm-no-buttons .wm-template-text{ 		max-height: 300px; 	} }  @media only screen and (min-height: 601px) { 	.wm-template-standout-title .wm-template-text{	 		max-height: 375px; 	}  	.wm-template-standout-title.wm-two-buttons .wm-template-text{ 		max-height: 350px; 	}  	.wm-template-standout-title.wm-no-buttons .wm-template-text{ 		max-height: 400px; 	} }  /* Standout Action */ @media only screen and (max-height: 400px) { 	.wm-template-standout-actions .wm-template-text{ 		max-height: 75px; 	}  	.wm-template-standout-actions.wm-two-buttons .wm-template-text{ 		max-height: 50px; 	}  	.wm-template-standout-actions.wm-two-buttons .wm-button { 		padding-top: 8px; 		padding-bottom: 8px; 	}  	.wm-template-standout-actions.wm-no-buttons .wm-template-text{ 		max-height: 100px; 	} }  @media only screen and (min-height: 401px) and (max-height: 500px) { 	.wm-template-standout-actions .wm-template-text{	 		max-height: 175px; 	}  	.wm-template-standout-actions.wm-two-buttons .wm-template-text{ 		max-height: 150px; 	}  	.wm-template-standout-actions.wm-no-buttons .wm-template-text{ 		max-height: 200px; 	} }  @media only screen and (min-height: 501px) and (max-height: 600px) { 	.wm-template-standout-actions .wm-template-text{	 		max-height: 275px; 	}  	.wm-template-standout-actions.wm-two-buttons .wm-template-text{ 		max-height: 250px; 	}  	.wm-template-standout-actions.wm-no-buttons .wm-template-text{ 		max-height: 300px; 	} }  @media only screen and (min-height: 601px) { 	.wm-template-standout-actions .wm-template-text{	 		max-height: 375px; 	}  	.wm-template-standout-actions.wm-two-buttons .wm-template-text{ 		max-height: 350px; 	}  	.wm-template-standout-actions.wm-no-buttons .wm-template-text{ 		max-height: 400px; 	} }",this._resourceManager=jl.get("ResourceManager")}return jc(t,e),t.prototype.append=function(t){this._uiObject.css("position","fixed");var n=wmjQuery("#walkme-mobile-css-old-version");0==n.length&&this._resourceManager.injectCss(this._css,"walkme-mobile-css-old-version"),e.prototype.append.call(this,t)},t.prototype.pop=function(e){this.handleOverlay(),this.fadeIn(e)},t.prototype.handleOverlay=function(){e.prototype.handleOverlay.call(this);var t=this._popupUtil.getOverlay(),n=t.getOverlayElement();n.on("click.walkme touchend.walkme",wmjQuery.proxy(function(){this.remove()},this))},t}(Pd);_c.register(kc.PLATFORM.MobileWeb,function(){jl.register("PopupDisplayer").asCtor(Dd).asProto()});var jc=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Ad=function(e){function t(t){e.call(this),this._isVisible=!1,this._popupUtil=jl.get("PopupUIUtil"),this._mobileUtils=jl.get("MobileUtils"),this._popupUtil.setSettings(t)}return jc(t,e),t.prototype.setUiObject=function(e){this._uiObject=e,this._popupUtil.setUiObject(this._uiObject),this._body=wmjQuery("body",this._uiObject)},t.prototype.getContainer=function(){return void 0},t.prototype.append=function(e){this.setOverlayInHtml(),this._mobileUtils.message(this._uiObject[0].id,{id:this._uiObject[0].id,html:this._uiObject.html()},kc.MOBILE_COMMANDS.VIEW.append,e)},t.prototype.remove=function(e){this.hide(wmjQuery.proxy(function(){this._mobileUtils.message(this._uiObject[0].id,{id:this._uiObject[0].id},kc.MOBILE_COMMANDS.VIEW.remove,e),this._popupUtil.removeOverlay()},this))},t.prototype.setOverlayInHtml=function(){if(this._overlay=this._popupUtil.getOverlay(),this._overlay){var e=this._overlay.getOverlayElement();e.css("position","absolute"),e.css("-webkit-tap-highlight-color","rgba(0,0,0,0)");var t=jl.get("MobileEventsRegistrationsHandler"),n="Close",r="#"+e.attr("id");t.registerEvent(r,"click",kc.MOBILE_COMMANDS.ACTION.libAction,null,n),t.bindEventsToUI(e),this._body.prepend(e)}},t.prototype.show=function(e){if(this._isVisible)return void(e&&e());var t=wmjQuery.proxy(function(){e&&e(),this._isVisible=!0},this);this._mobileUtils.message(this._uiObject[0].id,{id:this._uiObject[0].id},kc.MOBILE_COMMANDS.VIEW.show,t)},t.prototype.hide=function(e){if(!this._isVisible)return void(e&&e());var t=wmjQuery.proxy(function(){e&&e(),this._isVisible=!1},this);this._mobileUtils.message(this._uiObject[0].id,{id:this._uiObject[0].id},kc.MOBILE_COMMANDS.VIEW.hide,t)},t.prototype.isVisible=function(){return this._isVisible},t}(Td);_c.register(kc.PLATFORM.iOS,function(){jl.register("PopupDisplayer").asCtor(Ad).asProto()}),_c.register(kc.PLATFORM.Android,function(){jl.register("PopupDisplayer").asCtor(Ad).asProto()});var jc=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},Od=function(e){function t(t){e.call(this,t),this._positions=jl.get("Positions"),this._settings.IdentifySettings?this._element=this._lib.findElement(this._settings.IdentifySettings,null,null,"ShoutOut Bar - Find Element"):this._element=this._topContainer}return jc(t,e),t.prototype.show=function(t){this._contentPusher&&this._contentPusher.show(),e.prototype.show.call(this,t)},t.prototype.hide=function(t){this._contentPusher&&this._contentPusher.hide(),e.prototype.hide.call(this,t)},t.prototype.append=function(e){if(this._element){var n=parseInt(this._settings.position),r=parseInt(this._settings.cssPosition),i=parseInt(this._settings.pushSiteDown);switch(n){case this._positions.Top:this._element.prepend(this._uiObject),i&&(this.createContentPusher(this._uiObject.outerHeight()+parseInt(this._uiObject.css("margin-bottom"))+parseInt(this._uiObject.css("padding-bottom"))),this._element.prepend(this._contentPusher),this._uiObject.addClass(t.POSITION_PREFIX+"top")),this._uiObject.css({top:0,left:0,width:"100%"}),r==t.CSS_POSITION.Fixed?this._uiObject.css({position:"fixed"}):r==t.CSS_POSITION.Relative&&this._uiObject.css({position:"absolute"});break;case this._positions.Bottom:this._element.append(this._uiObject),i?r==t.CSS_POSITION.Fixed&&(this.createContentPusher(this._uiObject.outerHeight()),this._element.append(this._contentPusher),this._uiObject.addClass(t.POSITION_PREFIX+"bottom")):r==t.CSS_POSITION.Relative&&this._uiObject.css({"margin-top":-1*this._uiObject.outerHeight()}),this._uiObject.css({bottom:0,left:0,width:"100%"}),r==t.CSS_POSITION.Fixed?this._uiObject.css({position:"fixed"}):r==t.CSS_POSITION.Relative&&this._uiObject.css({position:"relative"})}e&&e()}},t.prototype.remove=function(t){this._contentPusher&&this.removeContentPusher(),e.prototype.remove.call(this,t)},t.prototype.createContentPusher=function(e){this._contentPusher=wmjQuery('<div style="position: relative;" />'),this._contentPusher.css(wc),this._contentPusher.css({height:e,display:"none"})},t.prototype.removeContentPusher=function(){this._contentPusher.remove(),this._contentPusher=null},t.POSITION_PREFIX="wm-position-",t.CSS_POSITION={Fixed:0,Relative:1},t}(xd);jl.register("BarDisplayer").asCtor(Od).asProto(),jl.register("TemplatesFactory").asCtor(Zi).asSingleton().dependencies("Logger, Mustache, UITemplates, ResourceManager, FontsData, SiteConfigManager, HostData, CommonUtils"),
jl.register("UIComponentsFactory").asCtor(eo).asSingleton().dependencies("Logger, UIComponents"),jl.register("DisplayersFactory").asCtor(eo).asSingleton().dependencies("Logger, UIDisplayers"),jl.register("DebuggerManager").asCtor(to).dependencies("Lib,WmInternals,DebuggerAuditManager"),jl.register("LoggerManager").asCtor(no).asSingleton(),jl.register("Profiler").asCtor(go).asProto().dependencies("TimerManager"),jl.register("ProfilerAPI").asCtor(mo),jl.register("ProfilerManager").dependencies("ClientStorageManager, EndUsersManager, HostData, TimerManager, CommonUtils, Profiler, ServerDataSenderManager, Logger").asCtor(vo).initialize(!1),jl.register("TrackFinder").asCtor(bo).dependencies("ClientStorageManager,ProfilerAPI,CommonUtils"),jl.register("UIVisibilityManager").asCtor(So).asProto().dependencies("Logger, Consts"),jl.register("ElementVisibilityEvaluator").asCtor(To).asProto().dependencies("Logger, Consts, ElementFinder, PositionHelper, TimerManager"),jl.register("UIElementFactory").asCtor(Io).dependencies(),jl.register("UIPopUpBalloon").asCtor(Co).asProto().dependencies("Logger, PositionHelper, Lib, UiUtils, Consts"),jl.register("UIElementBalloon").asCtor(Eo).asProto().dependencies("Logger, Lib, Consts, PositionHelper, PopupNotificationsService, FlowPlayerMetadata, ElementFinder"),jl.register("UITriggersManager").asCtor(ko).asProto().dependencies("UITriggersFactory"),jl.register("UITriggersFactory").asCtor(_o).dependencies(),jl.register("UITriggerEventBindingService").asCtor(xo).dependencies("Consts"),jl.register("ClickUITrigger").asCtor(Po).asProto().dependencies("UITriggerEventBindingService"),jl.register("HoverUITrigger").asCtor(Do).asProto().dependencies("UITriggerEventBindingService"),jl.register("TextUITrigger").asCtor(Ao).asProto().dependencies("UITriggerEventBindingService"),jl.register("DelayUITrigger").asCtor(Oo).asProto().dependencies("TimerManager"),jl.register("PageChangedUITrigger").asCtor(No).asProto(),jl.register("ButtonUITrigger").asCtor(Mo).asProto().dependencies("Consts"),jl.register("SelectAnyUITrigger").asCtor(Lo).asProto().dependencies("UITriggerEventBindingService"),jl.register("SelectValueUITrigger").asCtor(Bo).asProto().dependencies("UITriggerEventBindingService"),jl.register("StateMachine").asCtor(Fo).asProto().dependencies("Logger, ClientStorageManager"),jl.register("StagesFactory").asCtor(jo).dependencies("Logger, ActionStagesFactory"),jl.register("UIFlowStage").asCtor(Ro).asProto().dependencies("UIElementFactory, CommonUtils, FlowPlayerMetadata"),jl.register("ActionStagesFactory").asCtor(Uo).dependencies(),jl.register("BranchActionStage").asCtor(Go).asProto(),jl.register("DelayActionStage").asCtor(Wo).asProto(),jl.register("OpenMenuActionStage").asCtor(Vo).asProto(),jl.register("PassOwnershipSwitchActionStage").asCtor(Qo).asProto(),jl.register("RedirectActionStage").asCtor(Ho).asProto(),jl.register("RefreshActionStage").asCtor(zo).asProto(),jl.register("SetDataActionStage").asCtor(Yo).asProto().dependencies("ServerStorageManager"),jl.register("SplitActionStage").asCtor(qo).asProto(),jl.register("StopActionStage").asCtor(Ko).asProto(),jl.register("WaitForConditionActionStage").asCtor(Xo).asProto(),jl.register("FlowsManager").asCtor(Jo).asProto(),jl.register("FlowsPlayer").asCtor($o).dependencies("Logger, StagesFactory, FlowPlayerMetadata, CommonEvents"),jl.register("FlowPlayerMetadata").asCtor(Zo).dependencies("ClientStorageManager"),jl.register("FlowStack").asCtor(ea).asProto(),jl.register("PageScorer").asCtor(ta),jl.register("CustomVariableAuditor").asCtor(na).dependencies("SiteConfigManager,CommonUtils"),jl.register("BalloonEmbedder").asCtor(ra).dependencies("getTopContainer"),jl.register("Lib").asInstance(Ml);var D,Nd="wm-dmn",Md="displayWidgetCondition",Ld=!1;window.walkme_lib_in_dev&&(Ld=!0);var Bd=70,Fd={NOT_RUNNING:0,RUNNING:1,WAITING_FOR_ELEMENT:2,WAITING_FOR_ELEMENT_EVENT:3,PAUSED:4,WAITING_FOR_SPLIT:5,WAITING_FOR_NEXT_BUTTON_CLICK:6,WAITING_FOR_PAGE_CHANGE:7,WAITING_FOR_STICKY_ELEMENT:8,WAITING_FOR_CONDITION:9,PASSING_OWNERSHIP:10,WAITING_FOR_REDIRECT:11,WAITING_FOR_OWNERSHIP:12},jd=kc.SAFESTART_ACTION,Rd=kc.STEP_PLAY_INITIATOR_ENUM,Ud={Show:1,Action:2},Gd={URL:0,FIRST_STEP_MUST_EXIST:1,AUTO_START:2,REDIRECT:3,SKIP_FIRST_STEP:4},Wd="PSCTMode",Vd={PLAY_CONDITION:0,STICKY_CONDITION:1,BOTH:2},Qd=kc.DEPLOYABLE_TYPE;jl.register("DeployableTypes").asInstance(Qd),jl.register("LibStates").asInstance(Fd);var Hd,zd,Yd,qd,Kd,Xd,Jd,$d,Zd,ef,tf,nf,rf,of,af,sf,uf="display: block; padding: 0; margin: 0;	vertical-align: baseline; border-collapse: inherit; background: none; border-spacing: 1px 1px; line-height: normal; border: none none; height: auto; text-indent: inherit;  font-family: Arial; letter-spacing: normal; text-align: left; text-transform: none; font-weight: normal; outline: invert none medium; width: auto;  border-top: none; border-right: none; border-bottom: none; border-left: none; direction: ltr; position: static; top: auto; left: auto;",lf=kc.POSITION_TYPE,cf=2147483631,df={soft:0,strong:1},ff="isSticky",pf="stickinessType",gf=lf.Bottom,hf=60,mf=2e3,vf="##START_OF_CURRENT##",yf="##END_OF_CURRENT##",wf="##START_OF_TOTAL##",bf="##END_OF_TOTAL##",Sf=6e3,Tf={top:0,left:0,bottom:0,right:0},If=[],Cf=[],Ef=[],kf=[],_f=[],xf=[],Pf=[],Df=[],Af=[],Of=[],Nf=null,Mf=[],Lf=[],Bf=[],Ff=[],jf=[],Rf=[],Uf=[],Gf={},Wf={},Vf=null,Qf=null,Hf="",zf="",Yf={},qf=null,Kf=null,Xf=null,Jf=null,$f=null,Zf=null,ep=null,tp=null,np=null,rp=null,ip=null,op=null,ap=null,sp=null,up=null,lp=null,cp=null,dp=null,fp=null,pp=null,gp=null,hp=null,mp=null,vp=null,yp=null,wp=null,bp=null,Sp=null,Tp={},Ip=null,Cp={},Ep=[],kp=null,_p=null,xp=null,Pp=null,Dp=null,Ap=null,Op=null,Np=null,Mp=null,Lp=null,Bp=null,Fp=null,jp=null;Ml.ConditionFunctionsObj=null;var Rp,Up,Gp,Wp,Vp,Qp,Hp,zp,Yp,qp=-1,Kp=-1,Xp=Fd.NOT_RUNNING,Jp=[],$p=[],Zp=[],eg=null,tg=!1,ng=!1,rg=!1,ig="wm-wfow",og="wm-prsst",ag="wm-ftr",sg="wm-lg-act",ug="sti",lg="tId",cg="stt",dg="step",fg="spn",pg="plgd",gg="pint",hg="splt",mg="fnsh",vg="sph",yg="sch",wg="ssi",bg="igd",Sg="wm-cond-win",Tg=1e3,Ig=60*Tg,Cg=900,Eg=!1,kg=(Array(),!1),_g=Array(),xg=[],Pg=[],Dg=[],Ag=-1,Og=!1,Ng=[];Ml.releaseLibTimeouts;var Mg;jl.register("win").asInstance(window),jl.register("screen").asInstance(screen);var Lg,Bg;Ml.setCookiesManager=function(e){ep=e},Ml.setLogger=function(e){Ml.Logger=e},Ml.setFramesetsUtils=function(e){rp=e},Ml.setTriggersManager=function(e){ip=e},Ml.setSettingsFile=function(e){qd=e},Ml.setAutoStartHelper=function(e){Zd=e},Ml.setJQueryElementFinder=function(e){Dp=e},Ml.setElementFinder=function(e){Bp=e},Ml.setConditionFunctions=function(e){Ml.ConditionFunctionsObj=e},Ml.setConditionTreeEvaluator=function(e){$f=e},Ml.setBBCodeParser=function(e){Jd=e},Ml.setResourceManager=function(e){Ml.ResourceManager=e},Ml.setStorageManagerFactory=function(e){Yd=e},Ml.setStorageManager=function(e){tp=e},Ml.setServerStorageManager=function(e){np=e},Ml.setEndUsersManager=function(e){Xf=e},Ml.setAbPermutationManager=function(e){Ap=e},Ml.setLibInitializer=function(e){Rl=e},Ml.setWmAjax=function(e){Fp=e},Ml.setSiteConfigManager=function(e){Nf=e},Ml.setEndUserLoggerManager=function(e){Jf=e},Ml.setUiDataProvider=function(e){Li=e},Ml.setAnalyticsManager=function(e){_p=e},Ml.setRecorderServerManager=function(e){Vf=e},Ml.setPermalinkManager=function(e){Qf=e},Ml.setServerDataSenderManager=function(e){jp=e},Ml.setClickAuditManager=function(e){xp=e},Ml.setAuditStepsManager=function(e){qf=e},Ml.setAuditWtsManager=function(e){Kf=e},Ml.setDebuggerAuditManager=function(e){Pp=e},Ml.setPopupNotificationsService=function(e){Op=e},Ml.setGoalsManager=function(e){zd=e},Ml.setWalkMeGoalsManager=function(e){Zf=e},Ml.setDebuggerManager=function(e){op=e},Ml.setLoggerManager=function(e){ap=e},Ml.setPlayManager=function(e){Lp=e},Ml.setCrossDomainManager=function(e){Ml.crossDomainManager=e,Mp||(Mp=e)},Ml.setFeaturesManager=function(e){Lg=e.isFeatureEnabled},Ml.setHostData=function(e){ef=e},Ml.setSalesForceManager=function(e){tf=e},Ml.setCommonEvents=function(e){Up=e,Vp=Up.sendEditorEvent,Qp=Up.sendApiEvent,Hp=Up.sendInternalEvent,zp=Up.oldSendApiEvent,Yp=Up.sendAutomationEvent},Ml.setTimerManager=function(e){Gp=e,Ml.releaseLibTimeouts=function(){Gp.releaseTimeoutsArray("libTimeouts")},Mg=Gp.libSetTimeout},Ml.getTimerManager=function(){return Gp},Ml.setStickinessManager=function(e){Wp=e},Ml.getHostData=function(){return ef},Ml.setLanguageManager=function(e){of=e},Ml.setClientStorageManager=function(e){sf=e},Ml.getAttentionGrabberManager=function(){return af=jl.get("AttentionGrabberManager")},Ml.getStorageType=function(){return np.getStorageType()},Ml.getDebuggerAuditManager=function(){return Pp},Ml.getClientStorageManager=function(){return sf},Ml.startNewInteraction=function(){jl.get("InteractionManager").beginNewInteraction()},jl.register("StorageManagerFactoryParams").asInstance({getAllUserGuids:sa,setAuditStepCookieSeconds:aa}),Ml.widgetApi=jl.get("WidgetApi"),Ml.getMustache=function(){return Dc},Ml.elkState=function(e){ln.elementLastKeeper.setState(e)},this.getStorageManagerInstance=function(e){return e?Yd.byType(e):sf},this.getServerStorageManager=function(){return np},this.getAnimator=function(){return rn},Ml.getABPermutationId=function(){return Ap.getPermutation()},Ml.getAllPermutations=function(){return Ap.getPermutations()},Ml.getEndUserGuid=function(){return Xf.getEndUserGuid()},Ml.registerFindElementPlugin=function(e){Ml.getFindElementPluginManager().registerPlugin(e)},Ml.overrideBalloonEmbedder=function(e){jl.register("BalloonEmbedder").asCtor(e).dependencies("getTopContainer")},Ml.getDataFileExtraData=function(){return Cp},Ml.setCustomCssProp=function(e){Xd=e,Hp("NewCustomCss",Xd)},Ml.getCustomCssProp=function(){return Xd},Ml.getUiTracker=function(){return jl.get("UIChangeTracker")},Ml.getSalesForceManager=function(){return tf},this.getTodoListManager=function(){return up},this.setPlayInitiator=function(e){},this.getPlayInitiatorEnum=function(){return Rd},this.UiProperties=function(){return Ic},Ml.getUiUtils=function(){return dn},Ml.getCommonUtils=function(){return ln},Ml.getCommonEvents=function(){return Up},Ml.getConsts=function(){return kc},Ml.getFramesetsUtils=function(){return rp},Ml.getPositionHelper=function(){return D},this.removeAllStepAuditsLogs=function(){qf&&qf.removeAllStepAuditsLogs()},this.releaseAllElements=function(e){ga({functionsToExecute:[Ml.releaseBalloons,Ml.releaseLaunchers,Ml.releaseShoutOuts,Ml.releaseShoutOutBars,Ml.releaseAGs],successCallback:e})},Ml.releaseShoutOuts=function(e){wp?wp.releaseAll(e):e&&e()},Ml.releaseShoutOutBars=function(e){bp?bp.releaseAll(e):e&&e()},Ml.releaseAGs=function(e){af?af.remove(e):e&&e()},Ml.releaseFlow=function(){return Sp?Sp.releaseAll():wmjQuery.Deferred().resolve().promise()},this.releaseBalloons=function(e){el("Releasing balloons",5,Hl),ip&&ip.releaseAllEventBindings(),xs(),ga({functionsToExecute:[pa,vl,function(e){dn.removeOverlay(),e&&e()}],successCallback:e})},this.releaseLaunchers=function(e,t,n){var r=function(e,t){e.drawable?e.drawable.destroy(t):t&&t()};ga({objectsArray:Ml.getLaunchers(),functionsToExecute:[r],successCallback:function(){n||Ml.setLaunchers([]),e&&e()}})},Ml.getExecuteParallel=function(){return ga},Ml.getUserGuid=function(){return Ip},Ml.getAnalyticsCustomFields=function(){return _g},jl.register("GetAuditSource").asInstance(al),jl.register("GetAnalyticsCustomFields").asInstance(Ml.getAnalyticsCustomFields),jl.register("GetUserGuid").asInstance(Ml.getUserGuid),Ml.setUserGuid=function(e){e=is(e,"No-User-Guid"),-1==gh(e,Ep)&&Ep.push(e),Ip=e},this.setUserGuidForEditor=function(e){Ep=[e],Ip=e},this.setTutorialsForEditor=function(e,t){try{for(var n=l(e),r=0;r<n.length;r++)n[r].userGuid=t;Ml.setTutorials(n)}catch(i){Ml.Logger.error(i)}},this.setSurveysForRecorder=function(e){var t=l(e);Df=t},this.getLaunchers=function(){return Ef},this.setLaunchers=function(e){Gf={},Ef=e},this.setTutorials=function(e){If=e,Wf={};for(var t=0;t<If.length;t++)Ua(If[t],Nf.get())},this.getTutorials=function(){return If},this.getSiteConfig=function(e){return e&&Hd?Hd:Nf.get()},this.getWalkthrusLabels=function(){var e=yl(Nf.get().Settings,"labels",null);return e&&1==e.useLabels?Lf:null},this.getSurveys=function(){return Df},this.setSiteConfig=function(e){return Nf.set(e),Ml.setCustomCssProp(Nf.get().CustomCss),pl(null)!==!1||Lg("loadNoStyle")?void wa():void _makeTutorial.removeWalkMe("set custom css failed")},Ml.setSiteConfigForEditor=function(e){var t=l(e);Ml.setSiteConfig(t)},Ml.setAllLauncherCustomImagesForEditor=function(e){kf=ha(e)},Ml.setAllLauncherHtmlImagesForEditor=function(e){_f=ha(e)},Ml.getBalloonDrawer=function(e){var t=ba(e),n={balloonSettings:t},r=t.BalloonVersion;return jl.get("BalloonDrawerFactory").get(r,n)},this.appendWalkMeConfigData=function(e){Mf=Mf.concat(e.Experiments)},this.appendDataPackage=function(e,t){var n=e;void 0===e.Tutorials&&(n={Tutorials:e,SiteConfig:t});var r=n.Tutorials,i=n.SiteConfig,o=is(n.Tasks,[]),a=is(n.Labels,[]),s=is(n.Surveys,[]),u=is(n.Launchers,[]),l=(is(n.Tooltips,[]),is(n.LauncherCustomImages,[])),c=is(n.LauncherHtmlImages,[]),d=is(n.Shuttles,[]),f=is(n.Contents,[]),p=is(n.Categories,[]),g=is(n.Collections,[]),h=is(n.ShoutOuts,[]),m=is(n.Bars,[]),v=is(n.ConditionBlocks,[]),y=is(n.Tags,[]),w=is(n.BusinessSolutions,[]);Cp=is(n.ExtraData,{isOldDataFile:!0}),Ml.setUserGuid(n.UserGuid),Rl.isNewLanguage()&&(If=[],Nf.set([]),Lf=[],Cf=[],Ef=[],kf=[],_f=[],_tooltips=[],Pf=[],xf=[],Df=[],Bf=[],Uf=[],Af=[],Of=[],Ff=[],jf=[]),da(i,r),kf=kf.concat(l),_f=_f.concat(c),i&&0==Nf.get().length&&(Hd=i,Ml.setSiteConfig(i));for(var b=0;b<r.length;b++)Ua(r[b],i),Yf[r[b].TutorialId]={siteConfig:i,isPackageHidden:Rl.isNextDataPackageIsHidden()},r[b].userGuid=Ip;for(var b=0;b<o.length;b++)Wa(o[b]);Sa(u,Ip),Sa(f,Ip),Sa(s,Ip),Sa(d,Ip),Sa(h,Ip),Sa(m,Ip),If=If.concat(r),Lf=Lf.concat(a),Cf=Cf.concat(o),Ef=Ef.concat(u),Pf=Pf.concat(d),xf=xf.concat(f),Df=Df.concat(s),Bf=Bf.concat(p),Uf=Uf.concat(g),Af=Af.concat(h),Of=Of.concat(m),Ff=Ff.concat(v),jf=jf.concat(y),Rf=Rf.concat(w),jl.get("UITemplates").concat(n.UITemplates),jl.get("UIVariations").concat(n.UIVariations)},Ml.appendTemplates=function(e){jl.get("UITemplates").concat(e)},Ml.appendVariations=function(e){jl.get("UIVariations").concat(e)},Ml.createUiComponent=function(e,t){return jl.get("UIComponentsFactory").get(e,t)},this.generateVariation=function(e){return jl.get("UIVariations").get(e)},this.generateTemplate=function(e,t,n,r,i,o){var a=jl.get("TemplatesFactory");a.addResources(e,t,n,function(){var o=a.get(e,t,n,r);i&&i(o)},o)},this.getBaseVariation=function(e,t){return jl.get("UITemplates").get(e,t).Css},this.isTutorialPackageHidden=function(e){var t=Yf[e.TutorialId];return t?t.isPackageHidden:!1},this.setRecorderServer=function(e){Vf.set(e);var t=Rl.getPlayerServer();null!==t&&void 0!==t&&Vf.set(t)},this.setPetaServerName=function(e){void 0!=e&&(Hf=e)},this.getPlayerServer=function(){return Vf.get()},this.setCdnServer=function(e){zf=e},jl.register("getCdnServer").asInstance(Ta),this.setIsInEditor=function(e){Eg=e},this.getIsInEditor=function(){return Eg},this.setAnalyticsCustomFields=function(e,t){return _g[e]=t,!0},this.setAnalyticsProperties=function(e,t){jl.get("AnalyticsPropertiesManager").setPredefinedPropertyValue(e,t)},this.getSupportedLanguages=function(){return of.getMenuLanguages()},this.getCurrentLanguage=function(){return of.getCurrentLanguage()},this.changeLanguage=function(e,t){Rl.changeLanguage(e,function(n){n&&Hp("languageChanged",{language:e}),t&&t(n)})},this.tempClearUserCompletedTasks=function(e,t){up.tempClearUserCompletedTasks(e,t)},this.loadTasks=function(e,t){up.loadTasks(e,t)},this.getApiTasks=function(e){return up.getApiTasks(e)},this.getWalkmeOOP=function(){return o},Ml.launchDebuggerForEditor=function(e,t){var n=l(e);op.launchDebugger(n,t)},Ml.loadDebuggerForEditor=function(){op.loadDebuggerForEditor()},Ml.launchDebugger=function(e,t){op.isDebuggerEnalbled()&&op.launchDebugger(e,t)},Ml.launchLogger=function(){ap.isLoggerActivated()||ap.launchLogger()},Ml.closeDebugger=function(){op&&op.closeDebugger()},Ml.clearDebuggerState=function(){op&&op.clearDebuggerState()},Ml.addTimeStamp=Ea,Ml.loadTestMe=function(e){var t,n;t||(t=Ca()+"testme/"),n||(n="walkme_testme_"+Ia()+".js"),ln.addScript(t+n,e)},Ml.searchTermChangedOnWidget=function(e){"walkmetracker"!=e||Js()?"walkmelogger"!=e||$s()||Ml.launchLogger():Ml.launchDebugger()},this.widgetLoaded=function(e){Ea("widgetEndLoad"),e&&e.bind("on-activate",function(){Ml.getUiUtils().fixFlash()})},this.triangleLoaded=function(e){this.dataFinishedLoading(e)};var Fg;this.dataFinishedLoading=function(e,t){var n=Ml.Logger.timer("lib init");if(tf.removeIFrameByFeature(),!ka()){if(Lg("tagBody")&&Ml.getCommonUtils().setBodyUtils(jl.get("TagBodyUtils")),window.walkme_data_finished_loading_callback&&walkme_data_finished_loading_callback(),void 0===Fg&&(Fg=window.onbeforeunload,window.onbeforeunload=function(e){return $a(e),Fg?Fg(e):void 0}),!za())return Ml.removeWalkMe("initWalkMeClassesFailed"),Ml.initFailed=!0,!1;var r=jl.get("EndUserDataConverter");r.convertData();var i=Oa(e,t);return n.stop(),np.init(i)===!1?(Ml.removeWalkMe("storageManagerInitFailed"),!1):!0}},Ml.rememberTestMeIsOn=function(){sf.saveData(oc,1,ac)},this.initWalkmeClassesForCustomizePlayer=function(){tp=Yd.byType(kc.STORAGE_TYPE.Cookie),np=tp},jl.register("ServerDataSenderManagerParams").asInstance({defaultDataStorageLifeSeconds:Cg,dateSenderLogFeature:"serverDataSender"}),jl.register("GoalsManagerParams").asInstance({checkInterval:mf}),jl.register("PlayManagerParams").asInstance({checkIfExists:fs,getTutorialByIndex:Os,isStepPlayable:function(e,t){var n=fs(e,t,void 0,void 0,void 0,hc.Normal);return n==t}}),jl.register("CrossDomainManager").dependencies("FeaturesManager,ClientStorageManager").initialize(!1).asFunction(function(e,t){var n;return n=e.isFeatureEnabled("po_frames")||e.isFeatureEnabled("passOwnership")?"FramedOwnershipManager":e.isFeatureEnabled("po_tabs")?"TabbedOwnershipManager":"PassOwnershipManager",jl.entry(n).args({storageManager:t,errorHandler:Ml.Logger.error,userGuid:Ip,owner:window,terminateTutorialFunction:function(){Dg=[],Ml.releaseBalloons(),Zu(),Qp("WalkthruAborted")},restoreStateFunc:xu,isFeatureEnabled:Lg,allUserGuids:sa(),topWindow:top,isPlayMode:la(),resumeAfterUnloadFunc:Za,getStepFunc:Zs,peekNextCookieStepFunc:ts}),jl.get(n)}),jl.register("DeployablesManagerFactory").asCtor(Ka),Ml.startContentById=function(e,t,n){if(!dp)return!1;var r={type:void 0==t?this.getPlayInitiatorEnum().NONE:t};return n&&(r.objectId=n),dp.activateById(e,r),!0},Ml.startSurveyById=function(e,t){return yp?(t=t||{type:kc.STEP_PLAY_INITIATOR_ENUM.NONE},yp.activateById(e,t)):!1},Ml.getDeployablesManager=function(e){return Tp[e]},Ml.getUiDataProvider=function(){return Li},Ml.auditClick=function(e,t,n){t=uh(t)?t:-1;var r,i;n?(r=n.type,i=n.hasOwnProperty("objectId")?n.objectId:n.id):r=this.getPlayInitiatorEnum().NONE,xp&&e&&xp.SendClickAudit(e,t,r,i)},Ml.isFeatureActive=function(e){return Lg(e)},Ml.getWmAjax=function(){return Fp},Ml.getClickAuditManager=function(){return xp},Ml.userSawWalkMe=function(){if(!ua()&&!la()&&!Eg){Jf.reportEndUser(void 0,!0);try{jl.get("WalkmeVisibleReporter").report({isPreviewMode:ua(),isPlayMode:la(),isInEditor:Eg})}catch(e){Ml.Logger.error(e,"Failed while reporting walkme visible")}}},Ml.getServerDataSenderManager=function(){return jp},Ml.getEnvId=al,this.getEndUserId=function(){var e=!kp.isAbTestingEnabled();return Xf.getEndUserGuid(e)},this.playerCreationComplete=function(e){if(!e){var t=mtjQuery("#mt-menu-closed, #walkme-menu-closed"),n={config:Nf.get(),player:t},r=Ml.getCommonUtils().attentionGrabberClass(n);r.setupAttenGrab()}},this.destroyAll=function(e){el("destroyAll - begin",1),Yf={},Gp.releaseAllTimeouts(),kg=!1,ed.cleanResources(),ns(),zd&&zd.cleanResources(),Ml.releaseAllElements(function(){el("destroyAll - releaseAllElements finished",1);var t=zf.replace("http://","").replace("https://","");mtjQuery("script[src*='"+t+"']").not("script[src*='maketutorial_lib']").not("[src*='jquery']").not("[src*='wmjQuery']").remove(),mtjQuery(".mt-to-destroy, .walkme-to-destroy").remove(),rs(".mt-to-destroy, .walkme-to-destroy"),window._walkmePlayer&&window._walkmePlayer.destroyWalkMePlayer&&window._walkmePlayer.destroyWalkMePlayer(),window.walkmeWidget&&window.walkmeWidget.destroyWalkMePlayer&&window.walkmeWidget.destroyWalkMePlayer(),Ml.releaseFlow().then(function(){e&&(el("destroyAll - calling user callback",1),e())})})},this.removeWalkMe=function(e){el(h("removeWalkMe called with reason {0}",e)),window._walkmeInternals&&(window._walkmeInternals.removeWalkMeReason=e);try{jl.get("EventSenderDisabler").disable()}catch(t){}try{window.walkme_remove_walkme_callback&&walkme_remove_walkme_callback(e)}catch(t){}Ml.destroyAll(function(){Gp.clearGlobalTimeouts(),Mp&&Mp.stop(),jl.get("ResourceManager").emptyStyleSheets(),jl.get("IFramesManager").releaseEvents(),window._walkMe=window._makeTutorial=window.MakeTutorialAPI=window.WalkMeAPI=window.WalkMeDataClass=window.WalkmeWidget=window.WalkmeSnippet=void 0,window.wmPreviewSnippet=void 0,window.wmSnippet=void 0,window.walkme_lib_in_dev=void 0,window.walkme_lib_notify_ServerName=void 0,window.walkme_lib_upload_date=void 0,window.walkme_lib_uploader=void 0,window.walkme_lib_version=void 0;var e=zf.replace("http://","").replace("https://","");wmjQuery("script[src*='"+e+"']").remove(),wmjQuery("script[src*='maketutorial']").remove(),wmjQuery("script[src*='wmjQuery']").remove(),wmjQuery("script[id='mt_script']").remove(),wmjQuery("link[id^='mt-css']").remove(),mt_cdn_server_name=void 0,mt_get_user_settings_url=void 0;bl();wmjQuery(".walkme-to-remove").remove(),rs(".walkme-to-remove "),D.removeScrollAndResizeEvents();var t=jl.get("UIChangeTracker");t&&(t.stop(),t=null),wmjQuery=mtjQuery=void 0})};var jg=function(){return window.location.href},Rg=function(){return document.referrer};this.startNewTutorial=function(e,t,n,r){try{el("startNewTutorial : Index = "+e+". From Step = "+t+" testMode: "+n),Ml.getUiUtils().fixFlash(),ss(e);var i=!1;if(qf._currentPlayInitiator=r,t=is(t,0),n=is(n,!1),!n){if(!Mp.walkthruStarted(e,t))return!0;os(!0,!0),Mp.enabled()||Iu(),vl()}Hp("StartNewWt",If[e]);var o=[],a=t;t=Lp.findFirstStep(e,t,o);var s=0==t;if(t>0&&!n){var u=al();u==kc.SOURCES.play||u==kc.SOURCES.preview?ls(e,a,t,kc.STEP_STATUS.SkippedStartedFromBiggerStep):(i=!0,as(e,0,t,kc.STEP_STATUS.SkippedStartedFromBiggerStep))}else 0==t&&(t=Ou(e),t>0&&!n&&(i=!0,as(e,0,t,kc.STEP_STATUS.SkippedByTutorialCondition)));if(!Nu(e,!1)&&0>t){if(n)return!1;var l=us(e),c=jl.get("AuditSafeStartManager"),d=If[e];if(qf.createPlayGuidIfNeeded(d.TutorialId),null!=l&&1==l.enabled){var f,p=!1,g=l.url;1==l.autoRedirect?(f=jd.AutoRedirect,p=!0):Lu(g,!1)?(f=jd.PopupShown,ys(g,e)):(f=jd.FailOnUrl,ws()),Ts(f,If[e]);for(var h=0;h<o.length;h++)qf.auditStep(If[e],If[e].Steps[o[h].stepIndex],o[h].stepStatus,!1);p&&Is(g,jd.AutoRedirect,e)}else{for(var h=0;h<o.length;h++){var m=o[h].stepStatus==kc.STEP_STATUS.SupposedToShow;qf.auditStep(If[e],If[e].Steps[o[h].stepIndex],o[h].stepStatus,m),ls(e,o[h].stepIndex,o[h].stepIndex+1,o[h].stepStatus)}var v={tutorialId:d.TutorialId,tutorialName:d.Name,playGuid:qf._currentPlayGUID,playInitiator:qf._currentPlayInitiator,status:jd.ErrorShown};c.send(v);var y=o[o.length-1].stepIndex,w=If[e];_s(w,y),os()}}else{if(n)return!0;ds(e,t,s,i?qf._currentPlayGUID:void 0,r,a)}}catch(b){return Ml.Logger.error(b),!1}return Hp("WtHasGuid",If[e],{playGuid:qf._currentPlayGUID}),Hp("WalkthruGuid",{playGuid:qf._currentPlayGUID}),!0},this.stopTutorial=function(e,t){Hp("TutorialStopped",Wg(Kp)),Zu(),Ml.releaseBalloons(),Xp=Fd.NOT_RUNNING;var n=Kp;if(Kp=-1,e||Su(),Mp&&Mp.enabled()&&Mp.reset(),!t){var r=bu();r&&yp.handleSurveyPlayThroughWalkthru(r,Cc.WalkThruExited,n)}},this.postWelcomeStep=function(e){-1==Kp&&Nu(e,!0)||Ml.executeTutorialNextStep()};var Ug=[];Ml.showCantPlayBalloon=function(e,t,n){Op.showCantPlayBalloon(e,t,n)},Ml.showFirstStepNotAvailablePopup=function(e){Op.showFirstStepNotAvailablePopup(e)};var Gg=function(e,t,n,r,i,o,a){Zu(),Ml.releaseBalloons(),Xp=Fd.RUNNING,qp=e,Kp=t-1,qf._currentPlayGUID=n,qf._currentPlayInitiator=r,xg=i,Pg=a,Dg=o,Su()};this.lib_error=function(e,t){Ml.Logger.error(e,t)},this.executeTutorialNextStep=function(){if(rp.isLoadingFrames())return void Gp.playSetTimeout(Ml.executeTutorialNextStep,200);if(kg)return void el("executeTutorialNextStepNotFinished - skipping this executeTutorialNextStep",5);if(rg)return rg=!1,el("executeTutorialNextStep: waiting for other window",5),el("Waiting for other window..."),void Ps();if(tg)return void el("executeTutorialNextStep: not executing, dontContinueTutorial=true",5);if(bu().Steps.length-1==Kp)return void Ml.tutorialFinished();kg=!0;var e=Fs();el(h("Next step including split is: {0} seconds",e),5,Hl),Gp.playSetTimeout(function(){function e(){kg=!1,Ml.executeCurrentStep()}Kp++,Kp>0&&!Ds(Wg(Kp-1).End,fc.NOTHING)?Ml.releaseBalloons(e):e()},1e3*e)},this.executeCurrentStep=function(){var e=Wg(Kp);Bp.wrapSession(function(){Yg(e)})};var Wg=function(e){return bu()&&bu().Steps[e]},Vg=function(){return bu().Steps.length<=Kp+1},Qg=function(e){var t=qg(e);return If[t]},Hg=function(e){var t=Nc(e,function(e){return Qg(e).Steps[0]});return t},zg=function(){return Jp&&Jp.length>0?Jp.pop():null};this.tutorialFinished=function(){Ml.releaseBalloons(),Xp=Fd.NOT_RUNNING,Su();var e=zg(),t={hadSplit:!!e};Qp("WalkthruCompleted",t),zp("TutorialCompleted",t);var n=bu();Hp("WalkthruCompleted",n,t),up.updateDeployableCompleted(n.TutorialId,Qd.Tutorial),yp.handleSurveyPlayThroughWalkthru(n,Cc.WalkThruCompleted,Kp),e?(Hp("switchToWalkthru",If[e.tutorialIndex].Id),Hp("BackFromBranch",If[e.tutorialIndex]),Gg(e.tutorialIndex,e.stepIndex,e.playGuid,e.playInitiator,e.stepPlayHistory,e.stepPlayStack,e.stepCompletedHistory),Ml.executeTutorialNextStep()):(Dg=[],Mp.loseOwnership())},this.checkRepeatCookie=function(e,t,n){return jl.get("AutoStartManager").checkRepeatCookie(e,t,n)},this.getLauncherAction=function(e){if(void 0!=Gf[e])return Gf[e];var t=Us(e),n=yl(t.Settings,"action",null);return n?(Gf[e]=jl.get("ActionsFactory").get(n.actionType,n.arguments,Rd.LAUNCHER,t),Gf[e]):(el("No action core. aborting..."),null)};var Yg=function(e){function t(e){el(e,5,Hl)}var n=ln.getTimer(t),r={};Bl!=e.Id&&Ll++,e.playNumber=Ll,Bl=e.Id,Hp("StepPlayNum",{playNum:Ll});var i=h("Processing step # {0} . Step title: {1}. Walkthru: {2}",e.StepIndex+1,e.StepTitle,If[qp].Name);if(el(i),Hp("NewStepStarted",e),Lg("highPerf")||Ra(),Xp!=Fd.WAITING_FOR_STICKY_ELEMENT&&Xp!=Fd.WAITING_FOR_ELEMENT&&Xp!=Fd.WAITING_FOR_CONDITION){var o=nf.isActionStep(e)?kc.STEP_STATUS.Shown:kc.STEP_STATUS.SupposedToShow;qf.auditStep(bu(),e,o)}var a=Ks(e),s=Xs(e);if(!s&&(a==Vd.PLAY_CONDITION||a==Vd.BOTH&&Xp!=Fd.WAITING_FOR_STICKY_ELEMENT))return el("Play step condition is false. Skipping step."),qf.auditStep(bu(),e,kc.STEP_STATUS.SkippedByCondition),Hp("StepWasSkipped",e),void Ml.executeTutorialNextStep();if(Rs(e)){var u=fs(qp,e.StepIndex,0,1,void 0,hc.Normal);if(-1==u)return el("Keep looking for element after popup."),Hp("LookingForElement",e,{playGUID:qf._currentPlayGUID}),Xp=Fd.WAITING_FOR_ELEMENT,Gp.playSetTimeout(function(){_makeTutorial.executeCurrentStep()},500),void Su();if(-2==u||-5==u){var l="Play condition isn't met, skipping the popup.";return-5==u&&(l="Loop detecetd"),el(l),qf.auditStep(bu(),e,kc.STEP_STATUS.SkippedNotFound),Hp("StepWasSkipped",e),void Ml.executeTutorialNextStep()}}var c=void 0;if(s||Xp!=Fd.WAITING_FOR_STICKY_ELEMENT){var d={},f=ln.getTimer(t);c=Ml.findElement(e,null,d,"Step - Play Condition",ln.getStepTrackData(e,If[qp])),r.FETime=f("Done looking for sticky step named "+(e.StepTitle||e.StepText)+" with id "+Bl),e.Score=d.score}else el("Sticky PlayCondition isn't met."),c=!1;if(c){if(c&&c!==!0){el("Element found:"),el(c);var p,g=Qs(e,c);g&&(c=g.elements,p=g.parentElement)}Hp("ElementFound",e),Qp("BeforeNewStepShown"),zp("BeforeNewStepShown");var m=Dg[Dg.length-1]?Xg(Dg[Dg.length-1]).StepIndex:null;if(Xa(e.Id),yl(e.Settings,"fake",!1))return el("This is a fake step. Continue to next step."),Su(),qf.auditStep(bu(),e,kc.STEP_STATUS.FakeFound),Hp("StepIsFaked",e),void Ml.executeTutorialNextStep();if(Xp=Fd.RUNNING,nf.isActionStep(e))return void Gp.playSetTimeout(function(){Gs(e).doAction(),Hp("StepPerforming",e)},100);var v=ip.handle(c,e,Kp,qp,m),y=v.executeNextStep,w=v.clearElementEventsFuncs,b=v.buttons;yl(e.Settings,"waitOtherWindow",!1)&&(rg=!0),r.logicTime=n("Finished pre-balloon logic");var S=e.StepTitle,T=e.StepText,I=new fn({element:c,parentElement:p,forceEmbedBalloonInIframe:!1,positionHelper:D,dontShowIoBalloon:!Lg("multSpot")&&Ws(e),isFirstStep:Hs(),stepSettings:e.Settings,text:{title:S,content:T,subText:zs()},end:e.End,position:e.Position,buttons:{next:b.nextButton,done:b.doneButton,back:b.backButtonStepIndex>=0},data:{stepId:e.Id,tutorialId:e.TutorialId,type:e.Type},configuration:e.Configuration,logger:Ml.Logger,drawer:Ml.getBalloonDrawer(e.Configuration),siteConfig:Ml.getSiteConfig()});if(I.onDestroy(function(){ru(c,elementEvents)}),I.setReleaseEvents(w),Zp.push(I),Su(),qf.auditStep(bu(),e,kc.STEP_STATUS.Shown),Lg("jawsAccessibility")){var C=S||T;S&&T&&(C+=". "+T),C&&c.attr("alt",C)}I.Show(!0,function(t,n){wmjQuery.extend(!0,r,t),qf.auditBalloonDrawToPeta(e,kc.STEP_STATUS.Shown,r);var i={Element:c,Balloon:n};Hp("NewStepShown",e,i),Hp("StepPerforming",e,i),Qp("NewStepShown",i),zp("NewStepShown",i),I.SetTimeoutOn(),y&&(Fu(),Ml.executeTutorialNextStep())}),yl(e.Settings,"isSelfExecuting",!1)&&Vs(e,c)}else el("Element not found."),Hp("ElementNotFound",e,{playGUID:qf._currentPlayGUID}),Xp==Fd.WAITING_FOR_STICKY_ELEMENT?(el("Step was sticky. Keep looking for the element."),Hp("StickyStepWaiting",e),Xp=Fd.WAITING_FOR_STICKY_ELEMENT,Gp.playSetTimeout(function(){_makeTutorial.executeCurrentStep()},500),Su()):e.IsSkippable||yl(e.Settings,"skipNotExists",!1)?(nf.isActionStep(e)?(el("Action step isn't valid. Skipping to next step."),qf.auditStep(bu(),e,kc.STEP_STATUS.NonValidActionStep)):(el("Skippable step. Skip to next step."),qf.auditStep(bu(),e,kc.STEP_STATUS.SkippedNotFound)),Hp("StepWasSkipped",e),Ml.executeTutorialNextStep()):(el("Keep looking for the element."),Hp("LookingForElement",e,{playGUID:qf._currentPlayGUID}),Xp=Fd.WAITING_FOR_ELEMENT,Gp.playSetTimeout(function(){_makeTutorial.executeCurrentStep()},500),Su())};_walkmeInternals.bind=function(e,t){wmjQuery(_walkmeInternals).bind(e,t)},_walkmeInternals.unbind=function(e,t){wmjQuery(_walkmeInternals).unbind(e,t)};var qg=function(e){for(var t=-1,n=0;n<If.length;n++)if(If[n].TutorialId==e){t=n;break}return t},Kg=function(e,t){var n=Zs(e,t);return n?n.StepIndex:-1},Xg=function(e,t){if(t)return tu(e,t);for(var n=0;n<If.length;n++){var r=tu(e,If[n]);if(r)return r}return null};this.resumeSplit=function(e){Bp.wrapSession(function(){try{var t=1e3;e=e||t;var n,r,i=0;if(1==$p.length){if(r=$p[0],void 0!=Rp){var o=Kg(Rp,r);-1!=o&&(i=o),el(h("Resuming split, walkthru id: {0}, step index: {1}",r,i))}}else r=Ms($p);r?(Hp("switchToWalkthru",r),n=qg(r),Gp.playSetTimeout(function(){var e={type:Rd.BRANCHING,objectId:Wg(Kp).Id,appType:kc.EVENT_SENDER_EVENT_APPS.Step};ds(n,i,!1,void 0,e)},e),Su()):(el("Try again in "+t+"ms."),Gp.playSetTimeout(function(){_makeTutorial.resumeSplit()},t))}catch(a){Ml.Logger.error(a)}})},Ml.forceSplit=nu,this.showCapturedLauncher=function(e,t,n){var r=mtjQuery("<div class='mock-element'>").css({position:"absolute",top:t.top+"px",left:t.left+"px",width:t.width+"px",height:t.height+"px"}).appendTo("body");Ef.push(e);var i=new _n({element:r,settings:e.Settings,html:e.html,lib:Ml,position:e.Position,launcherId:e.Id,launcherName:e.Name,isCapturingMode:!0,positionHelper:D,cdnServer:window.wmScreenshotCdnServer||zf,clickAuditManager:xp});e.drawable=i,i.show(function(){if(n){var e="walkme-launcher-id-"+i.getId(),t=wmjQuery("."+e);n(t)}})},this.showCapturedBalloon=function(e,t,n){e.Settings.scroll=1,Ga(e,0,Nf.get());
var r=mtjQuery("<div class='mock-element'>").css({position:"absolute",top:t.top+"px",left:t.left+"px",width:t.width+"px",height:t.height+"px"}).appendTo("body"),i=new fn({element:r,parentElement:null,forceEmbedBalloonInIframe:!1,positionHelper:D,stepSettings:e.Settings,text:{title:e.StepTitle,content:e.StepText,subText:""},position:e.Position,data:{stepId:e.Id,type:e.Type},configuration:e.Configuration,logger:Ml.Logger,drawer:Ml.getBalloonDrawer(e.Configuration),isViewStep:!0,siteConfig:Ml.getSiteConfig()});return Zp.push(i),i.Show(!0,function(){n&&n(i.getBalloonDiv())}),i},this.showStepForRecorder=function(e,t){var n=l(e);Ga(n,0,Nf.get());var r=Ml.findElement(n,null,null,'Show Step for Editor "'+(n.StepTitle||n.StepText)+'"');if(el("element:",5),el(r,5),!r)return!1;var i,o=Qs(n,r);o&&(r=o.elements,i=o.parentElement);var a=new fn({element:r,parentElement:i,forceEmbedBalloonInIframe:t,positionHelper:D,stepSettings:n.Settings,text:{title:n.StepTitle,content:n.StepText,subText:""},position:n.Position,data:{stepId:n.Id,type:n.Type},configuration:n.Configuration,logger:Ml.Logger,drawer:Ml.getBalloonDrawer(n.Configuration),isViewStep:!0,siteConfig:Ml.getSiteConfig()});return Zp.push(a),a.Show(!0,function(){a.SetTimeoutOn()}),a},this.elementExistsForRecorder=function(e){try{var t=l(e),n=Ml.findElement(t);if(n)return!0}catch(r){Ml.Logger.error(r)}return!1},this.showAllLaunchers=function(){Ml.isWalkMeVisible()&&Bp.wrapSession(function(){function e(){try{n()}catch(e){}}function t(n,o){i++,i>=r&&(e(),iu(!1,t))}try{if(rp.isLoadingFrames())return void Gp.libSetTimeout(Ml.showAllLaunchers,200);var n,r=0,i=0;try{window._walkmeInternals&&(n=Ml.profilerAPI.startProfile("showAllLaunchers"),n&&iu(!0,t))}catch(o){iu(!1,t)}for(var a=0;a<Ef.length;a++){var s=Ef[a],u=lu(s);u&&r++,el(h("willDrawLauncher={0} for launcher with id {1}",u,s.Id),1,ql),ou(s,u)}n&&0==r&&(e(),iu(!1,t))}catch(l){Ml.Logger.error(l)}})},Ml.showLauncherForSticky=function(e){return e.actionInProgress=!0,e.element=null,gu(e)},this.updateLauncherOffset=function(e,t){if(Ef&&1==Ef.length){var n=Ef[0];n.drawable.updateOffset(e,t)}},this.viewLauncherForRecorder=function(e,t,n){try{var r=l(e);Ef.push(r);var i=Ml.findElement(r.IdentifySettings);if(!i)return void n();pl(i);var o=new _n({element:i,settings:r.Settings,lib:Ml,position:r.Position,launcherId:r.Id,launcherName:r.Name,isCapturingMode:!1,positionHelper:D,cdnServer:zf,clickAuditManager:xp});r.drawable=o,r.drawable.evaluator=r.evaluator;var a=function(){o.show(function(e){o.setTimeoutOn(),n&&n(!1,e)})};t?wu(r,a):a()}catch(s){Ml.Logger.error(s)}},this.showCapturedLauncherForEditor=function(e){try{var t=l(e);Ef.push(t);var n={score:-1},r=Ml.findElement(t.IdentifySettings,null,n);if(!r)return!1;var i=new _n({element:r,settings:t.Settings,html:t.html,lib:Ml,position:t.Position,launcherId:t.Id,launcherName:t.Name,isCapturingMode:!0,positionHelper:D,cdnServer:zf,clickAuditManager:xp,useDefaultHighlightSettings:!0});t.drawable=i,i.show(function(e){if(!Lg("dontStopButtonPropagation")){var t=wmjQuery(".walkme-capture-launcher-walkmeBottomPanel");t.on("mousedown mouseup click",function(e){e.stopImmediatePropagation()})}var i=e[0].ownerDocument;(i.CaptureLauncherHandler||window.top.document.CaptureLauncherHandler).postShowLauncher(r,i,n.score)})}catch(o){Ml.Logger.error(o)}},this.showCapturedSmartTipForEditor=function(e){try{var t=l(e);Ef.push(t);var n={score:-1},r=Ml.findElement(t.IdentifySettings,null,n);if(!r)return!1;var i=new _n({element:r,settings:t.Settings,html:t.html,lib:Ml,position:t.Position,launcherId:t.Id,launcherName:t.Text,isCapturingMode:!0,positionHelper:D,cdnServer:zf,clickAuditManager:xp,useDefaultHighlightSettings:!0});t.drawable=i,i.show(function(e){if(!Lg("dontStopButtonPropagation")){var t=wmjQuery(".walkme-capture-smartTip-walkmeBottomPanel");t.on("mousedown mouseup click",function(e){e.stopImmediatePropagation()})}var i=e[0].ownerDocument;(i.CaptureSmartTipHandler||window.top.document.CaptureSmartTipHandler).postShowSmartTip(r,i,n.score)})}catch(o){Ml.Logger.error(o)}},this.showCaptureBallonForEditor=function(e,t,n,r){function i(e){return null==l.getElementById("maketutorial_stepTitle")?void e():void Gp.setWalkmeTimeout(function(){i(e)},20)}Ga(e,0,Nf.get());var o={score:-1},a=Ml.findElement(e,null,o);if(!a)return!1;var s,u=Qs(e,a);u&&(a=u.elements,s=u.parentElement);var l=bl(null,!0)[0].ownerDocument,c=wmjQuery.extend(e.Configuration,{BalloonBorderWidth:1,ShadowType:0,BalloonVersion:"v3"}),d=new fn({element:a,parentElement:s,forceEmbedBalloonInIframe:!1,positionHelper:D,fixedSize:{width:t,height:n},innerHtml:e.innerHtml,outterHtml:e.outterHtml,stepSettings:e.Settings,position:e.Position,data:{stepId:e.Id},configuration:e.Configuration,isCaptureBalloon:!0,logger:Ml.Logger,drawer:Ml.getBalloonDrawer(c),siteConfig:Ml.getSiteConfig()});return Zp.push(d),i(function(){d.Show(!0,function(){if(!Lg("dontStopButtonPropagation")){var e=d.getBalloonDiv();e.on("mousedown mouseup click",function(e){e.stopImmediatePropagation()})}l.CaptureBalloonHandler.postBallonShow(a,l,o.score,r)})}),!0},this.getCurrentTutorial=bu,Ml.getState=function(){return Xp},this.canShowTutorialForEditor=function(e){var t=l(e);return Ml.canShowTutorial(t)},this.canShowTutorial=function(e){if(0==e.IsVisible)return!1;for(var t=Du(e,Gd.URL),n=!1,r=0;r<t.length;r++)if(Jg(e,t[r])){n=!0;break}if(t.length>0&&!n)return!1;var i=yl(e.Settings,"DOCTEnabled",0);if(1==i){var o=yl(e.Settings,"DOCT","");if(""!=o)try{var a=jl.create("ConditionChecker",{featureName:"Walk-Thru Segmenation",elementName:e.Name,trackEvent:"Tutorial - Can Show Tutorial - Segmentation",trackData:ln.getTrackData(e)});a.evaluateAsync(o);var s=a.getValue(!0);if(Hp("WtConditionEvaluated",e),!s)return Hp("CannotShowWt",e),!1}catch(u){}}if(Au(e)){if(0==e.Steps.length)return!1;var l=e.Steps[0];return Ml.findElement(l,null,null,'First Step Condition for "'+(l.StepTitle||l.StepText)+', Walk-Thru "'+e.Name+'"')}return Hp("CanShowWt",e),!0},this.evaluateCondition=function(e){var t=new Rn;return e=e.replace(/&quot;/gi,'"'),e=e.replace(/&apos;/gi,"'"),e=e.replace(/&#39;/gi,"'"),e=e.replace(/&amp;/gi,"&"),t.setExpression(e),t.evaluate()},this.evaluateConditionTree=function(e){var t=$f.evaluate(e);return t};var Jg=function(e,t){switch(t.Type){case Gd.URL:return $g(t.Content)?!0:!1;default:Ml.Logger.error(new Error("Invalid condition type: "+t.Type))}};this.runTutorialsActionConditions=function(){};var $g=function(e){var t,n,r="regexp:";if(cl(e,r)){e=e.substr(r.length),n=jg();try{t=n.match(e)}catch(i){return!1}}else{e=e.replace(new RegExp("[*]","g"),".*"),e=e.replace(/[-[\]{}()+?,\\^$|#\s]/g,"\\$&"),n=eh(jg()),e=eh(e),n=n.toLowerCase(),e=e.toLowerCase();try{t=n.match(e)}catch(i){return!1}}return null==t?!1:t[0]==n},Zg=function(e){return 0==e.length?e:"/"==e.charAt(0)?window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")+e:e},eh=function(e){return e=e.replace("http://",""),e=e.replace("https://",""),e=e.replace("www.",""),"/"==e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),e};this.checkShowOnlyInUrl=function(){var e=!0,t=Nf.get(),n=yl(t.Settings,Md,null);return n?(e=Ml.evaluateConditionTree(n),Hp("WidgetConditionEvaluated",Nf.get())):null!=t.ShowInUrl&&0!=t.ShowInUrl.length&&(e=$g(t.ShowInUrl)),e},this.FixConfiguration=function(e){return Bg.fixConfiguration(e)},Ml.bindBBCodeEvents=function(e,t,n){mtjQuery(".walkme-action-start-wt",e).each(function(e){mtjQuery(this).click(function(e){var r=parseInt(mtjQuery(this).attr("data-walkthru-id"));Hp("switchToWalkthru",r),WalkMeAPI.startWalkthruById({id:r,fromStep:0,playInitiator:Gu(n)}),t&&t()})})},this.getBodyInheritedMargin=function(){return D.getBodyInheritedMargin()};var th=function(e){var t=ln.getBody(e),n=t.scrollTop?t.scrollTop:e.documentElement.scrollTop,r=t.scrollLeft?t.scrollLeft:e.documentElement.scrollLeft;return{Top:n,Left:r}};this.decideWhereToPopForCaptureBalloon=function(e,t,n,r,i,o){e=Yu(o,e);var a=wmjQuery(Nf.get().BalloonSettings,{BalloonVersion:i});return Ml.getBalloonDrawer(a).decideWhereToPopForCaptureBalloon(e,t,n,r)},this.getPossiblePositionsForCaptureBalloon=function(e,t,n,r,i){e=Yu(i,e);var o=wmjQuery(Nf.get().BalloonSettings,{BalloonVersion:r});return Ml.getBalloonDrawer(o).getPossiblePositionsForCaptureBalloon(e,t,n)};var nh=function(e,t){e.css("position","absolute"),e.css("z-index",t),e.addClass("SkipThisFixedPosition")},rh=function(e,t){e.css("background-color","red"),nh(e,t),e.css("display","inline")},ih=function(e,t,n,r,i,o,a,s){return a>=n&&e>=i&&r>=s&&o>=t},oh=function Ah(e,t){var n=e.data("iframe");return t||(t=[]),n&&(t.push(n),Ah(n,t)),t},ah=function(e){var t;t=e.data("iframe")?mtjQuery(e.data("iframe")):mtjQuery(window);var n=ln.getElementDocument(e);return t.left=function(){return th(n).Left},t.top=function(){return th(n).Top},t};this.mt_log=function(e){el(e,5)};var y=function(e){return"boolean"==typeof e?!1:!isNaN(e-0)},sh=function(){return ln.generateGUID()};jl.register("GenerateGuidFunc").asInstance(sh),Ml.isAuditDisabled=il,jl.register("GetAuditSourceFunc").asInstance(al),this.setAuditSource=function(e){var t=kc.SOURCES[e],n=void 0!=t?t:parseInt(e);rf.set(n)},this.generateNewPlayGuid=function(e){var t=sh();return t=(new Date).getTime()+"-"+e+"-"+t},this.generateNewGuid=function(e){return sh()},this.sendWidgetOpenLogToServer=function(){return il()?!0:void xp.SendWidgetOpen({})},this.sendSearchResultClickedToServer=function(e,t,n,r,i,o){if(!il()){var a=Ml.getPlayerServer(),s=Fp.execute({url:a+"/Search/SearchResultClicked",dataType:"jsonp",data:{userGuid:e,searchGuid:t,resultSearchProvider:n,selectedItem:r,permutationId:Ml.getABPermutationId(),endUserGuid:Ml.getEndUserGuid(),source:al()}});s.success(i),s.error(o)}},this.getSearchResultsFromServer=function(e,t,n,r,i){var o=Ml.getPlayerServer(),a=Fp.execute({url:o+"/Search/Search",data:{userGuid:e,query:t,permutationId:Ml.getABPermutationId(),endUserGuid:Ml.getEndUserGuid(),source:al(),saveSearch:!i},timeout:Sf});return a.success(n),a.error(r),a},this.saveSearchToServer=function(e,t,n,r){if(!il()){var i=Ml.getPlayerServer(),o=Fp.execute({url:i+"/Search/SaveSearch",dataType:"jsonp",data:{userGuid:e,query:t,permutationId:Ml.getABPermutationId(),endUserGuid:Ml.getEndUserGuid(),source:al()},timeout:Sf});o.success(n),o.error(r)}},this.sendResultClickedBeforeSearchToServer=function(e,t,n,r,i){var o=Ml.getPlayerServer(),a=Fp.execute({url:o+"/Search/ResultClickedBeforeSearch",dataType:"jsonp",data:{userGuid:t,searchQuery:e,selectedItem:n,permutationId:Ml.getABPermutationId(),endUserGuid:Ml.getEndUserGuid(),source:al()}});a.success(r),a.error(i)},Ml.getBrowser=function(){return ef.browser.string},Ml.isQuirksMode=function(e){return ef.isQuirksMode(e)};this.getElementStrength=function(e){var t={score:-1},n=l(e);Ga(n,0,{BalloonSettings:{}});var r=Ml.findElement(n,null,t);return r?t.score:null},this.findElement=function(e,t,n,r,i){try{var o=Bp.findElement(e,t,n);return o}catch(a){Ml.Logger.error(a)}};var uh=function(e){return ln.isDefined(e)},lh=new fl;lh.NumNodeRemove=1e4;var ch=function(e,t,n){var r=t;return fh(e,function(e){r=n(r,e)}),r},dh=function(e,t){return null!=ln.firstMatch(e,t)},fh=function(e,t){for(var n=0;n<e.length;n++)t(e[n])},ph=function(e,t){for(var n=new Array,r=0;r<e.length;r++)t(e[r])&&n.push(e[r]);return n},gh=function(e,t,n){var r;if(t)for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n;return-1};jl.register("inArrayFunc").asInstance(gh);var hh=function(e){Ml.redirectPopupOK(e)};this.redirectPopupOK=function(e){Su(),Gp.libSetTimeout(function(){window.location=e},200),vl()},this.redirectPopupCancel=function(){vl()};var mh=void 0,vh=void 0;this.getMarginAutoStyles=function(){return void 0==mh&&(mh=[],fh(document.styleSheets,Sh)),mh};var yh=function(){return void 0==vh&&(vh=[],fh(document.styleSheets,wh)),vh},wh=function Oh(e){try{for(var t=e.cssRules||e.rules,n=0;n<t.length;n++){var r=t[n];r.type&&r.type==window.CSSRule.IMPORT_RULE?Oh(r.styleSheet):bh(r.style)&&vh.push(r.selectorText)}}catch(i){}},bh=function(e){var t=e.width;if(t){for(var n="",r=0;r<t.length;r++)isNaN(t[r])||(n+=t[r]);if(n&&parseInt(n)>700&&(-1!=t.indexOf("p")||-1!=t.indexOf("e")||-1!=t.indexOf("m")||-1!=t.indexOf("i")))return!0}return!1},Sh=function Nh(e){try{for(var t=e.cssRules||e.rules,n=0;n<t.length;n++){var r=t[n];r.type&&r.type==window.CSSRule.IMPORT_RULE?Nh(r.styleSheet):Th(r.style)&&mh.push(r.selectorText)}}catch(i){}},Th=function(e){if(e){var t=mtjQuery.trim(e.margin),n=mtjQuery.trim(e.marginLeft),r=mtjQuery.trim(e.marginRight),i=cl(t,"0")&&ll(t,"auto"),o="auto"==n&&"auto"==r;if(i||o)return!0}return!1},Ih=function(e){var t=mtjQuery(e),n=t.data("mt_isElementFixedWidth");if(1==n)return!0;if(0==n)return!1;var r=kh(e);return t.data("mt_isElementFixedWidth",r),r},Ch=function(e){var t=mtjQuery(e),n=t.data("mt_isElementMarginAuto");if(1==n)return!0;if(0==n)return!1;var r=_h(e);return t.data("mt_isElementMarginAuto",r),r},Eh=function(e,t){for(var n=!1,r=0;r<t.length;r++){var i=t[r];if(n=mtjQuery(e).is(mtjQuery(i)))return n}return n},kh=function(e){if(bh(e.style))return!0;var t=Eh(e,yh());return t},_h=function(e){if(Th(e.style))return!0;var t=Eh(e,Ml.getMarginAutoStyles());return t};this.getCenteredElement=function(e){for(var t=mtjQuery(e).parents(),n=null,r=t.length-1;r>=0;r--)try{var i=Ih(t[r]);if(i){var o=mtjQuery(t[r]),a=mtjQuery(window).width(),s=o.width(),u=o.offset().left,l=a-s;if(l>0&&l/2==u){n=o;break}if(0>l&&l==u){n=o;break}if(Ch(o)){n=mtjQuery(o);break}}}catch(c){el("error-----------------------------------",5),Ml.Logger.error(c)}return n},Ml.injectCustomCSS=function(e,t){pl(e,t)};var xh;this.parseBBCode=function(e){return Jd.parse(e)},this.shouldHandlePageAsFramesets=function(){return!Og&&rp.isFramesetsPage()},this.isFramesetsPage=function(){return Ml.shouldHandlePageAsFramesets()},jl.register("getTopContainer").asInstance(bl);var Ph=null;this.getBiggestFrame=function(){var e=!1;try{e=!Ph||!rp.isFrameActive(Ph)||mtjQuery("frameset",Ph.contentWindow.document).length>0}catch(t){e=!0}var n=Ph;return e&&(n=rp.findBiggestFrame(),Lg("noBiggestFrameCache")||(Ph=n)),n},this.centerElementInPage=function(e,t,n,r){var i=window;if(Ml.shouldHandlePageAsFramesets()&&(i=Ml.getBiggestFrame().contentWindow),kl())return xl(e,t);var o={top:0,left:0};n&&(o.top+=n.top,o.left+=n.left);var a=D.calculateOffset(e.parent()[0],i);return o.top-=a.top,o.left-=a.left,_l(e,t,mtjQuery(i).scrollLeft(),mtjQuery(i).scrollTop(),mtjQuery(i).width(),mtjQuery(i).height(),o,r)};var Dh=function(e,t){for(var n,r={"&amp;":"&","&apos;":"'","&#39;":"'","&quot;":'"',"&lt;":"<","&gt;":">"},i=[],o=0,a=0,s=0;o<e.length;){if(n=!1,"&"==e.charAt(o)){var u=e.substring(o,o+6).toLowerCase(),l=r[u];s=l?6:s;var c=e.substring(o,o+5).toLowerCase(),d=r[c];s=d?5:s;var f=e.substring(o,o+4).toLowerCase(),p=r[f];s=p?4:s;var g=p||d||l,h=-1!=gh(g,t);if(g&&h){var m=e.substring(a,o);i.push(m),i.push(g),o+=s,a=o,n=!0}}n||o++}var v=e.substring(a,o);i.push(v);var y=i.join("");return y};jl.register("DecodeHtmlFunction").asInstance(Dh),jl.register("ConditionTreeEvaluator").asCtor(Dl).dependencies("ConditionFunctions"),jl.register("AbTestingManager").asCtor(Ol).dependencies("ClientStorageManager,SiteConfigManager,Lib,Logger,RecorderServerManager"),this.shouldShowWidgetAccordingToAbTesting=function(){return Ml.isWalkMeVisible()},this.isWalkMeVisible=function(){return 0!==Nf.get().ShowWalkMe&&(!kp||kp.shouldShowWidget())},this.completeGoalById=function(e){return zd.completeGoalById(e)},this.clearTaskGoalsCompletion=function(e){for(var t=e.length-1;t>=0;t--)Nl(e[t])},this.getCompletedGoals=function(e,t){return Zf.getCompletedGoals(e,t)},this.setDeployablesJson=function(e,t){try{var n=l(t);wmjQuery.each(n,function(e,t){t.userGuid=Ip}),Ml.getDeployablesManager(e).setDeployables(n)}catch(r){Ml.Logger.error(r)}},Ml.getAbtestingGoalsManager=function(){return Np},Ml.getElementTextArray=function(e){return jl.get("ElementTextExtractor").getElementTextArray(e)},Ml.getFindElementPluginManager=function(){return jl.get("FindElementPluginManager")},Ml.extractPageInfo=function(e){return jl.get("PageScorer").extractPageInfo(e)},Ml.getLayoutMapping=function(){return jl.get("IFramesManager").getMapping()},Ml.wrapFESession=function(e,t){return Bp.wrapSession(e,t)},Ml.callPageScorer=function(e,t,n){return u(jl.get("PageScorer")[e](t,n))},Ml.setPageIdentifierVerbosity=function(e){Lg("pageIdentifier")&&jl.get("PageScorer").verbose(e)},Ml.getEventsTrigger=function(){return jl.get("EventsTrigger")},oa.apply(null,arguments)}function ClassWalkMeAPI(){function e(e,t){for(var r=[],i=0;i<e.length;i++)for(var o=e[i].LinkedTutorials,a=0;a<o.length;a++)r.push(o[a]);for(var s=[],i=0;i<t.length;i++)n(t[i].Id,r)||s.push(t[i]);return s}function t(e,t,r){for(var i=[],o=0;o<e.length;o++)if(n(e[o].Id,t)){var a=mtjQuery.extend(!0,{},e[o]);a.labelId=r,i.push(a)}return i}function n(e,t){for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1}function r(e){for(var t=_walkMe.getTutorials(),n=0;n<t.length;n++)if(t[n].TutorialId==e)return n;return-1}function i(e){var t=_walkMe.getConsts();_walkMe.getCommonEvents().sendInternalEvent(t.EVENTS.ApiWasCalled,{initiator:e})}var o=this;_walkMe.getCommonEvents().sendInternalEvent("walkMeApiCreationStart",{object:o});var a=5,s=100,u=_walkMe.getPlayInitiatorEnum(),l=_walkMe.Logger.wrapCustomerLog("walkmeAPI");this.getPlayInitiatorEnum=function(){return u},this.getWalkthrus=function(e){try{for(var t=_walkMe.getTutorials(),n=new Array,r=0;r<t.length;r++){var i=t[r].CustomField1;i&&(i=i.replace(/&quot;/gi,'"'),i=i.replace(/&apos;/gi,"'"),i=i.replace(/&#39;/gi,"'"),i=i.replace(/&amp;/gi,"&"));var o={Index:r,Name:t[r].Name,Id:t[r].TutorialId,Visible:t[r].IsVisible,CustomField1:i,Description:t[r].Description,Keywords:t[r].Keywords};e&&(o.ConditionsPassed=_walkMe.canShowTutorial(t[r]),o.isPackageHidden=_walkMe.isTutorialPackageHidden(t[r]),void 0==t[r].Keywords?o.Keywords=[]:o.Keywords=t[r].Keywords),n.push(o)}return n}catch(a){l("walkMeAPI - error running getWalkthrus.",3)}},this.getWalkthrusLabels=function(n){try{var r=_walkMe.getWalkthrusLabels();if(null==r)return null;for(var i=this.getWalkthrus(n),o=e(r,i),a=_walkMe.getSiteConfig(),s=[],u=0;u<r.length;u++){var c={Name:r[u].Name,Id:r[u].Id,Walkthrus:t(i,r[u].LinkedTutorials,r[u].Id)};s.push(c)}return{unlabeledWalkthrus:o,labels:s,unlabeledFirst:a.Settings.labels&&1==a.Settings.labels.unlabeldOnTop}}catch(d){l("walkMeAPI - error running getWalkthrusLabels.",3)}},this.startContentById=function(e,t,n){try{if(0>e)return!1;t=void 0!==t?t:u.API;var r={type:t};return i(r),_walkMe.startContentById(e,t,n)}catch(o){l("walkMeAPI - error running startContentById.",3)}},this.startSurveyById=function(e,t){try{return 0>e?!1:(t=t||{type:u.API},i(t),_walkMe.startSurveyById(e,t))}catch(n){l("walkMeAPI - error running startSurveyById.",3)}},this.startWalkthruById=function(e,t){try{"object"!=typeof e&&(e={id:e,fromStep:t});var n=e.id,i=e.fromStep,a=e.playInitiator;if(0>n||"number"!=typeof n)return!1;var s=r(n);return 0>s?!1:(a||(a={type:u.API}),o.startWalkthruByIndex({index:s,fromStep:i,playInitiator:a}))}catch(c){l("walkMeAPI - error running startWalkthruById.",3)}},this.startWalkthruByIndex=function(e,t){try{if(!_walkMe.isWalkMeVisible())return!1;"object"!=typeof e&&(e={index:e,fromStep:t});var n=e.index,r=e.fromStep,o=e.playInitiator;return 0>n||"number"!=typeof n?!1:(o||(o={type:u.API}),i(o),_walkMe.startNewTutorial(n,r,!1,o))}catch(a){l("walkMeAPI - error running startWalkthruByIndex.",3)}},this.canStartWalkthru=function(e,t){try{if(!_walkMe.isWalkMeVisible())return!1;if(0>e||"number"!=typeof e)return!1;var n=r(e);return 0>n?!1:_walkMe.startNewTutorial(n,t,!0)}catch(i){l("walkMeAPI - error running canStartWalkthru.",3)}},this.setWalkthruVisibility=function(e,t){try{var n=_walkMe.getTutorials(),i=r(e);return 0>i?!1:(n[i].IsVisible=t,!0)}catch(o){l("walkMeAPI - error running setWalkthruVisibility.",3)}},this.stopWalkthru=function(){try{_walkMe.stopTutorial()}catch(e){l("walkMeAPI - error running stopWalkthru.",3)}},this.setAnalyticsCustomField=function(e,t){try{return e>a||1>e||t.length>s?!1:_walkMe.setAnalyticsCustomFields(e-1,t)}catch(n){l("walkMeAPI - error running setAnalyticsCustomField.",3)}},this.setAnalyticsProperty=function(e,t){try{_walkMe.setAnalyticsProperties(e,t)}catch(n){l("walkMeAPI - error running setAnalyticsProperty.",3)}},this.enableLogs=function(e){try{return void 0==e&&(e=!0),this.log.enable(e)}catch(t){l("walkMeAPI - error running enableLogs.",3)}},this.loadTasks=function(e,t){try{return _walkMe.loadTasks(e,t)}catch(n){l("walkMeAPI - error running loadTasks.",3)}},this.getTasks=function(e){try{return _walkMe.getApiTasks(e)}catch(t){l("walkMeAPI - error running getTasks.",3)}},this.getWidgetMode=function(){return"Walkthrus"},this.setWidgetMode=function(e){return"Deprecated"},this.getWidgetInitialState=function(){return"Closed"},this.changeLanguage=function(e,t){try{return _walkMe.changeLanguage(e,t)}catch(n){}},this.getSupportedLanguages=function(){try{return _walkMe.getSupportedLanguages()}catch(e){l("walkMeAPI - error running getSupportedLanguages.",3)}},this.getCurrentLanguage=function(){try{return _walkMe.getCurrentLanguage()}catch(e){l("walkMeAPI - error running getCurrentLanguage.",3)}},this.getTree=function(){try{return _walkMe.getUiDataProvider().uiObjectsTree()}catch(e){l("walkMeAPI - error running getTree.",3)}},this.triggerUIChange=function(){try{return _walkMe.getUiTracker().triggerUIChange()}catch(e){l("walkMeAPI - error running triggerUIChange.",3)}},this.launchTracker=function(e,t){try{return _walkMe.launchDebugger(e,t)}catch(n){l("walkMeAPI - error running launchTracker.",3)}},this.startTestMe=function(e){try{_walkMe.rememberTestMeIsOn(),window.walkMeTestMeClearStorage=!0,window.walkmeTestMeFilter=e,window._testMe?(_testMe.exit(),_testMe.start()):_walkMe.loadTestMe()}catch(t){l("walkMeAPI - error running startTestMe.",3)}},o.log=_walkMe.Logger.getAPI()}var wmjQuery=mtjQuery;mtjQuery&&(mtjQuery.expr&&mtjQuery.expr.filters&&(mtjQuery.expr.filters.mt_hidden=function(e){var t=e.offsetWidth,n=e.offsetHeight;return 0===t&&0===n||!mtjQuery.support.reliableHiddenOffsets&&"none"===(e.style.display||mtjQuery.css(e,"display"))||"hidden"===mtjQuery.css(e,"visibility")},mtjQuery.expr.filters.mt_visible=function(e){return!mtjQuery.expr.filters.mt_hidden(e)}),mtjQuery.trim=function(e){var t=/^\s+/,n=/\s+$/;return null==e?"":e.toString().replace(t,"").replace(n,"")}),function(e){function t(e){if(window._walkmeInternals=window._walkmeInternals||{},window._walkmeInternals.jQueryCompatability=window._walkmeInternals.jQueryCompatability||{},e.support.cors||!e.ajaxTransport||!window.XDomainRequest)return void(_walkmeInternals.jQueryCompatability.wmIECorsSupport=!1);var t=/^(https?:)?\/\//i,n=/^get|post$/i,r=new RegExp("^(//|"+location.protocol+")","i");_walkmeInternals.jQueryCompatability.wmIECorsSupport=!0,e.ajaxTransport("* text html xml json",function(i,o,a){if(i.crossDomain&&i.async&&n.test(i.type)&&t.test(i.url)&&r.test(i.url)){var s=null;return{send:function(t,n){var r="",a=(o.dataType||"").toLowerCase();s=new XDomainRequest,/^\d+$/.test(o.timeout)&&(s.timeout=o.timeout),s.ontimeout=function(){n(500,"timeout")},s.onload=function(){var t="Content-Length: "+s.responseText.length+"\r\nContent-Type: "+s.contentType,r={code:200,message:"success"},i={text:s.responseText};try{if("html"===a||/text\/html/i.test(s.contentType))i.html=s.responseText;else if("json"===a||"text"!==a&&/\/json/i.test(s.contentType))try{i.json=e.parseJSON(s.responseText)}catch(o){r.code=500,r.message="parseerror"}else if("xml"===a||"text"!==a&&/\/xml/i.test(s.contentType)){var u=new ActiveXObject("Microsoft.XMLDOM");u.async=!1;try{u.loadXML(s.responseText)}catch(o){u=void 0}if(!u||!u.documentElement||u.getElementsByTagName("parsererror").length)throw r.code=500,r.message="parseerror","Invalid XML: "+s.responseText;i.xml=u}}catch(l){throw l}finally{n(r.code,r.message,i,t)}},s.onprogress=function(){},s.onerror=function(){n(500,"error",{text:s.responseText})},o.data&&(r="string"===e.type(o.data)?o.data:e.param(o.data)),s.open(i.type,i.url),s.send(r)},abort:function(){s&&s.abort()}}}})}function n(e){return e.replace(/^-+$/g,"").toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()})}e.extend({safeEach:function(t,n){return e.each(t,function(e,r){t.hasOwnProperty(e)&&n(e,r)})}}),e.fn.safeEach=function(t){return e.safeEach(this,t)},e.fn.important=function(t,n){var r=this;return"object"==typeof t?(e.safeEach(t,function(e,t){r.important(e,t)}),r):r.safeEach(function(r,i){e(i).css(t,"").attr("style",function(e,r){var i=new RegExp("(^|;)\\s*"+t+"\\s*:[^;]*(;|$)","gi");return(r||"").replace(i,"$1").replace(/;$/gi,"")+";"+(void 0!=n?t+": "+n+" !important;":"")})})},e.fn.cssReset=function(t,r){if(t){var i=this;if("object"==typeof t)return e.safeEach(t,function(e,t){i.cssReset(e,t)}),i;var o;return"string"==typeof r&&(o=r.indexOf("!important")>-1,r=e.trim(r.replace("!important",""))),i.safeEach(function(i,a){a.style[t]||a.style[n(t)]||(o?e(a).important(t,r):e(a).css(t,r))})}},e.fn.exist=function(){return!!this.length},e.fn.or=function(t,n){return this.length?this:e(t,n)},e.fn.allCss=function(){if(1==this.length){var t={},n=this.attr("style");if(!n)return t;for(var r=n.split(";"),i=r.length-1;i>=0;i--){var o=r[i].split(":"),a=e.trim(o[0]);a&&(t[a]=e.trim(o[1]))}return t}},e.extend(e.expr[":"],{textEquals:function(t,n,r){return e(t).text()==r[3]}}),t(e)}(wmjQuery),function(e,t,n){n(e.wmjQuery,e,t)}(this,document,function(e,t,n,r){!function(e,t,n,r){function i(e){for(;e&&"undefined"!=typeof e.originalEvent;)e=e.originalEvent;return e}function o(t,n){var o,a,s,u,l,c,d,f,p,g=t.type;if(t=e.Event(t),t.type=n,o=t.originalEvent,a=e.event.props,g.search(/^(mouse|click)/)>-1&&(a=D),o)for(d=a.length,u;d;)u=a[--d],t[u]=o[u];if(g.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),-1!==g.search(/^touch/)&&(s=i(o),g=s.touches,l=s.changedTouches,c=g&&g.length?g[0]:l&&l.length?l[0]:r))for(f=0,p=x.length;p>f;f++)u=x[f],t[u]=c[u];return t}function a(t){for(var n,r,i={};t;){n=e.data(t,E);for(r in n)n[r]&&(i[r]=i.hasVirtualBinding=!0);t=t.parentNode}return i}function s(t,n){for(var r;t;){if(r=e.data(t,E),r&&(!n||r[n]))return t;t=t.parentNode}return null}function u(){j=!1}function l(){j=!0}function c(){W=0,B.length=0,F=!1,l()}function d(){u()}function f(){p(),O=setTimeout(function(){O=0,c()},e.vmouse.resetTimerDuration)}function p(){O&&(clearTimeout(O),O=0)}function g(t,n,r){var i;return(r&&r[t]||!r&&s(n.target,t))&&(i=o(n,t),e(n.target).trigger(i)),i}function h(t){var n,r=e.data(t.target,k);F||W&&W===r||(n=g("v"+t.type,t),n&&(n.isDefaultPrevented()&&t.preventDefault(),n.isPropagationStopped()&&t.stopPropagation(),n.isImmediatePropagationStopped()&&t.stopImmediatePropagation()))}function m(t){var n,r,o,s=i(t).touches;s&&1===s.length&&(n=t.target,r=a(n),r.hasVirtualBinding&&(W=G++,e.data(n,k,W),p(),d(),L=!1,o=i(t).touches[0],N=o.pageX,M=o.pageY,g("vmouseover",t,r),g("vmousedown",t,r)))}function v(e){j||(L||g("vmousecancel",e,a(e.target)),L=!0,f())}function y(t){if(!j){var n=i(t).touches[0],r=L,o=e.vmouse.moveDistanceThreshold,s=a(t.target);L=L||Math.abs(n.pageX-N)>o||Math.abs(n.pageY-M)>o,L&&!r&&g("vmousecancel",t,s),g("vmousemove",t,s),f()}}function w(e){if(!j){l();var t,n,r=a(e.target);g("vmouseup",e,r),L||(t=g("vclick",e,r),t&&t.isDefaultPrevented()&&(n=i(e).changedTouches[0],B.push({touchID:W,x:n.clientX,y:n.clientY}),F=!0)),g("vmouseout",e,r),L=!1,f()}}function b(t){var n,r=e.data(t,E);if(r)for(n in r)if(r[n])return!0;return!1}function S(){}function T(t){var n=t.substr(1);return{setup:function(){b(this)||e.data(this,E,{});var r=e.data(this,E);r[t]=!0,A[t]=(A[t]||0)+1,1===A[t]&&U.bind(n,h),e(this).bind(n,S),R&&(A.touchstart=(A.touchstart||0)+1,1===A.touchstart&&U.bind("touchstart",m).bind("touchend",w).bind("touchmove",y).bind("scroll",v))},teardown:function(){--A[t],A[t]||U.unbind(n,h),R&&(--A.touchstart,A.touchstart||U.unbind("touchstart",m).unbind("touchmove",y).unbind("touchend",w).unbind("scroll",v));var r=e(this),i=e.data(this,E);i&&(i[t]=!1),r.unbind(n,S),b(this)||r.removeData(E)}}}var I,C,E="virtualMouseBindings",k="virtualTouchID",_="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),x="clientX clientY pageX pageY screenX screenY".split(" "),P=e.event.mouseHooks?e.event.mouseHooks.props:[],D=e.event.props.concat(P),A={},O=0,N=0,M=0,L=!1,B=[],F=!1,j=!1,R="addEventListener"in n,U=e(n),G=1,W=0;for(e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},C=0;C<_.length;C++)e.event.special[_[C]]=T(_[C]);R&&n.addEventListener("click",function(t){var n,r,i,o,a,s,u=B.length,l=t.target;if(u)for(n=t.clientX,r=t.clientY,I=e.vmouse.clickDistanceThreshold,i=l;i;){for(o=0;u>o;o++)if(a=B[o],s=0,i===l&&Math.abs(a.x-n)<I&&Math.abs(a.y-r)<I||e.data(i,k)===a.touchID)return t.preventDefault(),void t.stopPropagation();i=i.parentNode}},!0)}(e,t,n),function(e){e.mobile={}}(e),function(e,t){var r={touch:"ontouchend"in n};e.mobile.support=e.mobile.support||{},e.extend(e.support,r),e.extend(e.mobile.support,r)}(e),function(e,t,r){function i(t,n,i,o){var a=i.type;i.type=n,o?e.event.trigger(i,r,t):e.event.dispatch.call(t,i),i.type=a}var o=e(n),a=e.mobile.support.touch,s="touchmove scroll",u=a?"touchstart":"mousedown",l=a?"touchend":"mouseup",c=a?"touchmove":"mousemove";e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,n){e.fn[n]=function(e){return e?this.bind(n,e):this.trigger(n)},e.attrFn&&(e.attrFn[n]=!0)}),e.event.special.scrollstart={enabled:!0,setup:function(){function t(e,t){n=t,i(o,n?"scrollstart":"scrollstop",e)}var n,r,o=this,a=e(o);a.bind(s,function(i){e.event.special.scrollstart.enabled&&(n||t(i,!0),clearTimeout(r),r=setTimeout(function(){t(i,!1)},50))})},teardown:function(){e(this).unbind(s)}},e.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var t=this,n=e(t),r=!1;n.bind("vmousedown",function(a){function s(){clearTimeout(c)}function u(){s(),n.unbind("vclick",l).unbind("vmouseup",s),o.unbind("vmousecancel",u)}function l(e){u(),r||d!==e.target?r&&e.preventDefault():i(t,"tap",e)}if(r=!1,a.which&&1!==a.which)return!1;var c,d=a.target;n.bind("vmouseup",s).bind("vclick",l),o.bind("vmousecancel",u),c=setTimeout(function(){e.event.special.tap.emitTapOnTaphold||(r=!0),i(t,"taphold",e.Event("taphold",{target:d}))},e.event.special.tap.tapholdThreshold)})},teardown:function(){e(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),o.unbind("vmousecancel")}},e.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(e){var n=t.pageXOffset,r=t.pageYOffset,i=e.clientX,o=e.clientY;return 0===e.pageY&&Math.floor(o)>Math.floor(e.pageY)||0===e.pageX&&Math.floor(i)>Math.floor(e.pageX)?(i-=n,o-=r):(o<e.pageY-r||i<e.pageX-n)&&(i=e.pageX-n,o=e.pageY-r),{x:i,y:o}},start:function(t){var n=t.originalEvent.touches?t.originalEvent.touches[0]:t,r=e.event.special.swipe.getLocation(n);return{time:(new Date).getTime(),coords:[r.x,r.y],origin:e(t.target)}},stop:function(t){var n=t.originalEvent.touches?t.originalEvent.touches[0]:t,r=e.event.special.swipe.getLocation(n);return{time:(new Date).getTime(),coords:[r.x,r.y]}},handleSwipe:function(t,n,r,o){if(n.time-t.time<e.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-n.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-n.coords[1])<e.event.special.swipe.verticalDistanceThreshold){var a=t.coords[0]>n.coords[0]?"swipeleft":"swiperight";return i(r,"swipe",e.Event("swipe",{target:o,swipestart:t,swipestop:n}),!0),i(r,a,e.Event(a,{target:o,swipestart:t,swipestop:n}),!0),!0}return!1},eventInProgress:!1,setup:function(){var t,n=this,r=e(n),i={};t=e.data(this,"mobile-events"),t||(t={length:0},e.data(this,"mobile-events",t)),t.length++,t.swipe=i,
i.start=function(t){if(!e.event.special.swipe.eventInProgress){e.event.special.swipe.eventInProgress=!0;var r,a=e.event.special.swipe.start(t),s=t.target,u=!1;i.move=function(t){a&&!t.isDefaultPrevented()&&(r=e.event.special.swipe.stop(t),u||(u=e.event.special.swipe.handleSwipe(a,r,n,s),u&&(e.event.special.swipe.eventInProgress=!1)),Math.abs(a.coords[0]-r.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&t.preventDefault())},i.stop=function(){u=!0,e.event.special.swipe.eventInProgress=!1,o.off(c,i.move),i.move=null},o.on(c,i.move).one(l,i.stop)}},r.on(u,i.start)},teardown:function(){var t,n;t=e.data(this,"mobile-events"),t&&(n=t.swipe,delete t.swipe,t.length--,0===t.length&&e.removeData(this,"mobile-events")),n&&(n.start&&e(this).off(u,n.start),n.move&&o.off(c,n.move),n.stop&&o.off(l,n.stop))}},e.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(t,n){e.event.special[t]={setup:function(){e(this).bind(n,e.noop)},teardown:function(){e(this).unbind(n)}}})}(e,this)}),function(e){"use strict";function t(t,n){e.extend(this,n),this.$select=t,e.extend(this,this.markup(t)),this.bindEvents()}function n(r){return"string"!=typeof r&&(r=e.extend({},n.options,r)),this.filter("select").each(function(){var n=e(this),i=n.data(r.baseName);"string"==typeof r?i[r].apply(n,[].slice.call(arguments,1)):i||n.data(r.baseName,new t(n,r))}),this}t.prototype={getValue:function(e){return"function"==typeof this[e]?this[e]():this[e]},onFocusBlur:function(e){this.$el.toggleClass(this.generateClassName("focus",!0),e&&("focus"===e.type||"focusin"===e.type)||this.$select.is(":focus"))},updateTitle:function(){var e=this.$select.find(":selected"),t=this.formatter(e.text(),this.$select.val(),e,this.$select);this.allowHtmlInTitle?this.$title.html(t):this.$title.text(t)},bindEvents:function(){this.$el.on("focusin."+this.baseName+" focusout."+this.baseName,e.proxy(this.onFocusBlur,this)),this.onFocusBlur(),this.$select.on("change."+this.baseName,e.proxy(this.updateTitle,this)),this.$select.on("keyup."+this.baseName,e.proxy(this.updateTitle,this)),this.updateTitle()},destroy:function(){this.$el.off("."+this.baseName),this.$select.off("."+this.baseName),this.$select.removeClass(this.generateClassName("select")).insertBefore(this.$el),this.$el.remove()}},n.klass=t,n.formatter=function(e,t,n,r){return e},n.markup=function(t){var n=t.addClass(this.generateClassName("select")).wrap('<span class="'+this.generateClassName()+'"/>').parent();return e('<span class="'+this.generateClassName("arrow")+'"/>').prependTo(n),{$el:n,$title:e('<span class="'+this.generateClassName("title")+'"/>').prependTo(n)}},n.generateClassName=function(e,t){return this.getValue("baseName")+(e?"-"+e:"")},n.options={baseName:"brute-select",generateClassName:n.generateClassName,markup:n.markup,formatter:n.formatter,allowHtmlInTitle:!1},e.fn.bruteSelect=n}(mtjQuery),function(e){e.fn.fixedPosition=function(e){}}(mtjQuery),function(e){e.extend({highlight:function(t,n,r,i){if(3===t.nodeType){var o=t.data.match(n);if(o){var a=document.createElement(r||"span");a.className=i||"walkme-highlight";var s=t.splitText(o.index);s.splitText(o[0].length);var u=s.cloneNode(!0);return a.appendChild(u),s.parentNode.replaceChild(a,s),1}}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName)&&(t.tagName!==r.toUpperCase()||t.className!==i))for(var l=0;l<t.childNodes.length;l++)l+=e.highlight(t.childNodes[l],n,r,i);return 0}}),e.fn.unhighlight=function(t){var n={className:"walkme-highlight",element:"span"};return e.extend(n,t),this.find(n.element+"."+n.className).each(function(){var t=this.parentNode;t&&(t.replaceChild(this.firstChild,this),e(t).text(e(t).text()))}).end()},e.fn.highlight=function(t,n){var r={className:"walkme-highlight",element:"span",caseSensitive:!1,wordsOnly:!1};if(e.extend(r,n),t.constructor===String&&(t=[t]),t=e.grep(t,function(e,t){return""!=e}),t=e.map(t,function(e,t){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}),0==t.length)return this;var i=r.caseSensitive?"":"i",o="("+t.join("|")+")";r.wordsOnly&&(o="\\b"+o+"\\b");var a=new RegExp(o,i);return this.each(function(){e.highlight(this,a,r.element,r.className)})}}(mtjQuery),function(e,t,n){e.fn.jScrollPane=function(r){function i(r,i){function o(t){var i,u,c,f,p,g,v=!1,y=!1;if(W=t,V===n)p=r.scrollTop(),g=r.scrollLeft(),r.important({overflow:"hidden",padding:0}),Q=r.innerWidth()+be,H=r.innerHeight(),r.width(Q),V=e('<div class="walkme-jspPane" />').css("padding",we).append(r.children()),z=e('<div class="walkme-jspContainer" />').css({width:Q+"px",height:H+"px"}).append(V).appendTo(r),a(r);else{if(r.css("width",""),v=W.stickToBottom&&P(),y=W.stickToRight&&D(),f=r.innerWidth()+be!=Q||r.outerHeight()!=H,f&&(Q=r.innerWidth()+be,H=r.innerHeight(),z.css({width:Q+"px",height:H+"px"})),!f&&Se==Y&&V.outerHeight()==q)return void r.width(Q);Se=Y,V.css("width",""),r.width(Q),z.find(">.walkme-jspVerticalBar,>.walkme-jspHorizontalBar").remove().end()}V.css("overflow","auto"),Y=t.contentWidth?t.contentWidth:V[0].scrollWidth,q=V[0].scrollHeight,V.css("overflow",""),K=Q>Y?1:Y/Q,X=H>q?1:q/H,J=X>1||W.alwaysScrollVertical,$=K>1||W.alwaysScrollHorizontal,$||J?(r.addClass("walkme-jspScrollable"),i=W.maintainPosition&&(te||ie),i&&(u=_(),c=x()),s(),l(),d(),i&&(E(y?Y-Q:u,!1),C(v?q-H:c,!1)),M(),A(),U(),W.enableKeyboardNavigation&&B(),W.clickOnTrack&&h(),j(),W.hijackInternalLinks&&R()):(r.removeClass("walkme-jspScrollable"),V.css({top:0,left:0,right:0,width:z.width()-be}),O(),L(),F(),m()),W.autoReinitialise&&!ye?ye=setInterval(function(){o(W)},W.autoReinitialiseDelay):!W.autoReinitialise&&ye&&clearInterval(ye),p&&r.scrollTop(0)&&C(p,!1),g&&r.scrollLeft(0)&&E(g,!1),r.trigger("walkme-jsp-initialised",[$||J])}function a(t){var n=e(t).find('div[class*="walkme-jsp"]').add(t);n.each(function(t,n){var r="class",i=e(n),o=i.attr(r);i.attr(r,"").attr(r,o)})}function s(){J&&(z.append(e('<div class="walkme-jspVerticalBar" />').append(e('<div class="walkme-jspCap walkme-jspCapTop" />'),e('<div class="walkme-jspTrack" />').append(e('<div class="walkme-jspDrag" />').append(e('<div class="walkme-jspDragTop" />'),e('<div class="walkme-jspDragBottom" />'))),e('<div class="walkme-jspCap walkme-jspCapBottom" />'))),a(z),oe=z.find(">.walkme-jspVerticalBar"),ae=oe.find(">.walkme-jspTrack"),Z=ae.find(">.walkme-jspDrag"),W.showArrows&&(ce=e('<a class="walkme-jspArrow walkme-jspArrowUp" />').bind("mousedown.walkme-jsp",p(0,-1)).bind("click.walkme-jsp",N),de=e('<a class="walkme-jspArrow walkme-jspArrowDown" />').bind("mousedown.walkme-jsp",p(0,1)).bind("click.walkme-jsp",N),W.arrowScrollOnHover&&(ce.bind("mouseover.walkme-jsp",p(0,-1,ce)),de.bind("mouseover.walkme-jsp",p(0,1,de))),f(ae,W.verticalArrowPositions,ce,de)),ue=H,z.find(">.walkme-jspVerticalBar>.walkme-jspCap:visible,>.walkme-jspVerticalBar>.walkme-jspArrow").each(function(){ue-=e(this).outerHeight()}),Z.hover(function(){Z.addClass("walkme-jspHover")},function(){Z.removeClass("walkme-jspHover")}).bind("mousedown.walkme-jsp",function(t){e(W.containerDoc).find("html").bind("dragstart.walkme-jsp selectstart.walkme-jsp",N),Z.addClass("walkme-jspActive");var n=t.pageY-Z.position().top;return e(W.containerDoc).find("html").bind("mousemove.walkme-jsp",function(e){y(e.pageY-n,!1)}).bind("mouseup.walkme-jsp mouseleave.walkme-jsp",v),!1}),u())}function u(){ae.height(ue+"px"),te=0,se=W.verticalGutter+ae.outerWidth(),V.width(Q-se-be);try{0===oe.position().left&&V.css("margin-left",se+"px")}catch(e){}}function l(){$&&(z.append(e('<div class="walkme-jspHorizontalBar" />').append(e('<div class="walkme-jspCap walkme-jspCapLeft" />'),e('<div class="walkme-jspTrack" />').append(e('<div class="walkme-jspDrag" />').append(e('<div class="walkme-jspDragLeft" />'),e('<div class="walkme-jspDragRight" />'))),e('<div class="walkme-jspCap walkme-jspCapRight" />'))),a(z),fe=z.find(">.walkme-jspHorizontalBar"),pe=fe.find(">.walkme-jspTrack"),ne=pe.find(">.walkme-jspDrag"),W.showArrows&&(me=e('<a class="walkme-jspArrow walkme-jspArrowLeft" />').bind("mousedown.walkme-jsp",p(-1,0)).bind("click.walkme-jsp",N),ve=e('<a class="walkme-jspArrow walkme-jspArrowRight" />').bind("mousedown.walkme-jsp",p(1,0)).bind("click.walkme-jsp",N),W.arrowScrollOnHover&&(me.bind("mouseover.walkme-jsp",p(-1,0,me)),ve.bind("mouseover.walkme-jsp",p(1,0,ve))),f(pe,W.horizontalArrowPositions,me,ve)),ne.hover(function(){ne.addClass("walkme-jspHover")},function(){ne.removeClass("walkme-jspHover")}).bind("mousedown.walkme-jsp",function(t){e(W.containerDoc).find("html").bind("dragstart.walkme-jsp selectstart.walkme-jsp",N),ne.addClass("walkme-jspActive");var n=t.pageX-ne.position().left;return e(W.containerDoc).find("html").bind("mousemove.walkme-jsp",function(e){b(e.pageX-n,!1)}).bind("mouseup.walkme-jsp mouseleave.walkme-jsp",v),!1}),ge=z.innerWidth(),c())}function c(){z.find(">.walkme-jspHorizontalBar>.walkme-jspCap:visible,>.walkme-jspHorizontalBar>.walkme-jspArrow").each(function(){ge-=e(this).outerWidth()}),pe.width(ge+"px"),ie=0}function d(){if($&&J){var t=pe.outerHeight(),n=ae.outerWidth();ue-=t,e(fe).find(">.walkme-jspCap:visible,>.walkme-jspArrow").each(function(){ge+=e(this).outerWidth()}),ge-=n,H-=n,Q-=t,pe.parent().append(e('<div class="walkme-jspCorner" />').css("width",t+"px")),a(pe.parent()),u(),c()}$&&V.width(z.outerWidth()-be+"px"),q=V.outerHeight(),X=H>q?1:q/H,$&&(he=Math.ceil(1/K*ge),he>W.horizontalDragMaxWidth?he=W.horizontalDragMaxWidth:he<W.horizontalDragMinWidth&&(he=W.horizontalDragMinWidth),ne.width(he+"px"),re=ge-he,S(ie)),J&&(le=Math.ceil(1/X*ue),le>W.verticalDragMaxHeight?le=W.verticalDragMaxHeight:le<W.verticalDragMinHeight&&(le=W.verticalDragMinHeight),Z.height(le+"px"),ee=ue-le+W.dragMaxYOffset,w(te))}function f(e,t,n,r){var i,o="before",a="after";"os"==t&&(t=/Mac/.test(navigator.platform)?"after":"split"),t==o?a=t:t==a&&(o=t,i=n,n=r,r=i),e[o](n)[a](r)}function p(e,t,n){return function(){return g(e,t,this,n),this.blur(),!1}}function g(t,n,r,i){r=e(r).addClass("walkme-jspActive");var o,a,s=!0,u=function(){0!==t&&Te.scrollByX(t*W.arrowButtonSpeed),0!==n&&Te.scrollByY(n*W.arrowButtonSpeed),a=setTimeout(u,s?W.initialDelay:W.arrowRepeatFreq),s=!1};u(),o=i?"mouseout.walkme-jsp":"mouseup.walkme-jsp",i=i||e(W.containerDoc).find("html"),i.bind(o,function(){r.removeClass("walkme-jspActive"),a&&clearTimeout(a),a=null,i.unbind(o)})}function h(){m(),J&&ae.bind("mousedown.walkme-jsp",function(t){if(t.originalTarget===n||t.originalTarget==t.currentTarget){var r,i=e(this),o=i.offset(),a=t.pageY-o.top-te,s=!0,u=function(){var e=i.offset(),n=t.pageY-e.top-le/2,o=H*W.scrollPagePercent,c=ee*o/(q-H);if(0>a)te-c>n?Te.scrollByY(-o):y(n);else{if(!(a>0))return void l();n>te+c?Te.scrollByY(o):y(n)}r=setTimeout(u,s?W.initialDelay:W.trackClickRepeatFreq),s=!1},l=function(){r&&clearTimeout(r),r=null,e(W.containerDoc).unbind("mouseup.walkme-jsp",l)};return u(),e(W.containerDoc).bind("mouseup.walkme-jsp",l),!1}}),$&&pe.bind("mousedown.walkme-jsp",function(t){if(t.originalTarget===n||t.originalTarget==t.currentTarget){var r,i=e(this),o=i.offset(),a=t.pageX-o.left-ie,s=!0,u=function(){var e=i.offset(),n=t.pageX-e.left-he/2,o=Q*W.scrollPagePercent,c=re*o/(Y-Q);if(0>a)ie-c>n?Te.scrollByX(-o):b(n);else{if(!(a>0))return void l();n>ie+c?Te.scrollByX(o):b(n)}r=setTimeout(u,s?W.initialDelay:W.trackClickRepeatFreq),s=!1},l=function(){r&&clearTimeout(r),r=null,e(W.containerDoc).unbind("mouseup.walkme-jsp",l)};return u(),e(W.containerDoc).bind("mouseup.walkme-jsp",l),!1}})}function m(){pe&&pe.unbind("mousedown.walkme-jsp"),ae&&ae.unbind("mousedown.walkme-jsp")}function v(){e(W.containerDoc).find("html").unbind("dragstart.walkme-jsp selectstart.walkme-jsp mousemove.walkme-jsp mouseup.walkme-jsp mouseleave.walkme-jsp"),Z&&Z.removeClass("walkme-jspActive"),ne&&ne.removeClass("walkme-jspActive")}function y(e,t){J&&(0>e?e=0:e>ee&&(e=ee),t===n&&(t=W.animateScroll),t?Te.animate(Z,"top",e,w):(Z.css("top",e),w(e)))}function w(e){e===n&&(e=Z.position().top),z.scrollTop(0),te=e;var t=0===te,i=te==ee,o=e/ee,a=-o*(q-H);(Ie!=t||Ee!=i)&&(Ie=t,Ee=i,r.trigger("walkme-jsp-arrow-change",[Ie,Ee,Ce,ke])),T(t,i),V.css("top",a);try{r.trigger("walkme-jsp-scroll-y",[-a,t,i]).trigger("scroll")}catch(s){}}function b(e,t){$&&(0>e?e=0:e>re&&(e=re),t===n&&(t=W.animateScroll),t?Te.animate(ne,"left",e,S):(ne.css("left",e),S(e)))}function S(e){e===n&&(e=ne.position().left),z.scrollTop(0),ie=e;var t=0===ie,i=ie==re,o=e/re,a=-o*(Y-Q);(Ce!=t||ke!=i)&&(Ce=t,ke=i,r.trigger("walkme-jsp-arrow-change",[Ie,Ee,Ce,ke])),I(t,i),V.css("left",a);try{r.trigger("walkme-jsp-scroll-x",[-a,t,i]).trigger("scroll")}catch(s){}}function T(e,t){W.showArrows&&(ce[e?"addClass":"removeClass"]("walkme-jspDisabled"),de[t?"addClass":"removeClass"]("walkme-jspDisabled"))}function I(e,t){W.showArrows&&(me[e?"addClass":"removeClass"]("walkme-jspDisabled"),ve[t?"addClass":"removeClass"]("walkme-jspDisabled"))}function C(e,t){var n=e/(q-H);y(n*ee,t)}function E(e,t){var n=e/(Y-Q);b(n*re,t)}function k(t,n,r){var i,o,a,s,u,l,c,d,f,p=0,g=0;try{i=e(t)}catch(h){return}for(o=i.outerHeight(),a=i.outerWidth(),z.scrollTop(0),z.scrollLeft(0);!i.is(".walkme-jspPane");)if(p+=i.position().top,g+=i.position().left,i=i.offsetParent(),/^body|html$/i.test(i[0].nodeName))return;s=x(),l=s+H,s>p||n?d=p-W.verticalGutter:p+o>l&&(d=p-H+o+W.verticalGutter),isNaN(d)||C(d,r),u=_(),c=u+Q,u>g||n?f=g-W.horizontalGutter:g+a>c&&(f=g-Q+a+W.horizontalGutter),isNaN(f)||E(f,r)}function _(){return-V.position().left}function x(){return-V.position().top}function P(){var e=q-H;return e>20&&e-x()<10}function D(){var e=Y-Q;return e>20&&e-_()<10}function A(){z.unbind(Pe).bind(Pe,function(e,t,n,r){var i=ie,o=te;return Te.scrollBy(n*W.mouseWheelSpeed,-r*W.mouseWheelSpeed,!1),i==ie&&o==te})}function O(){z.unbind(Pe)}function N(){return!1}function M(){V.find(":input,a").unbind("focus.walkme-jsp").bind("focus.walkme-jsp",function(e){k(e.target,!1)})}function L(){V.find(":input,a").unbind("focus.walkme-jsp")}function B(){function t(){var e=ie,t=te;switch(n){case 40:Te.scrollByY(W.keyboardSpeed,!1);break;case 38:Te.scrollByY(-W.keyboardSpeed,!1);break;case 34:case 32:Te.scrollByY(H*W.scrollPagePercent,!1);break;case 33:Te.scrollByY(-H*W.scrollPagePercent,!1);break;case 39:Te.scrollByX(W.keyboardSpeed,!1);break;case 37:Te.scrollByX(-W.keyboardSpeed,!1)}return i=e!=ie||t!=te}var n,i,o=[];$&&o.push(fe[0]),J&&o.push(oe[0]),V.focus(function(){r.focus()}),W.setTabIndex&&r.attr("tabindex",0),r.unbind("keydown.walkme-jsp keypress.walkme-jsp").bind("keydown.walkme-jsp",function(r){if(r.target===this||o.length&&e(r.target).closest(o).length){var a=ie,s=te;switch(r.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:n=r.keyCode,t();break;case 35:C(q-H),n=null;break;case 36:C(0),n=null}return i=r.keyCode==n&&a!=ie||s!=te,!i}}).bind("keypress.walkme-jsp",function(e){return e.keyCode==n&&t(),!i}),W.hideFocus?(r.css("outline","none"),"hideFocus"in z[0]&&r.attr("hideFocus",!0)):(r.css("outline",""),"hideFocus"in z[0]&&r.attr("hideFocus",!1))}function F(){W.setTabIndex&&r.attr("tabindex","-1").removeAttr("tabindex"),r.unbind("keydown.walkme-jsp keypress.walkme-jsp")}function j(){if(location.hash&&location.hash.length>1){var t,n,r=escape(location.hash.substr(1));try{t=e("#"+r+', a[name="'+r+'"]')}catch(i){return}t.length&&V.find(r)&&(0===z.scrollTop()?n=setInterval(function(){z.scrollTop()>0&&(k(t,!0),e(W.containerDoc).scrollTop(z.position().top),clearInterval(n))},50):(k(t,!0),e(W.containerDoc).scrollTop(z.position().top)))}}function R(){e(xe(W.containerDoc)).data("walkme-jspHijack")||(e(xe(W.containerDoc)).data("walkme-jspHijack",!0),e(xe(W.containerDoc)).delegate("a[href*=#]","click",function(n){var r,i,o,a,s,u,l=this.href.substr(0,this.href.indexOf("#")),c=location.href;if(-1!==location.href.indexOf("#")&&(c=location.href.substr(0,location.href.indexOf("#"))),l===c){r=escape(this.href.substr(this.href.indexOf("#")+1));try{i=e("#"+r+', a[name="'+r+'"]')}catch(d){return}i.length&&(o=i.closest(".walkme-jspScrollable"),a=o.data("walkme-jsp"),a.scrollToElement(i,!0),o[0].scrollIntoView&&(s=e(t).scrollTop(),u=i.offset().top,(s>u||u>s+e(t).height())&&o[0].scrollIntoView()),n.preventDefault())}}))}function U(){var e,t,n,r,i,o=!1;z.unbind("touchstart.walkme-jsp touchmove.walkme-jsp touchend.walkme-jsp click.walkme-jsp-touchclick").bind("touchstart.walkme-jsp",function(a){var s=a.originalEvent.touches[0];e=_(),t=x(),n=s.pageX,r=s.pageY,i=!1,o=!0}).bind("touchmove.walkme-jsp",function(a){if(o){var s=a.originalEvent.touches[0],u=ie,l=te;return Te.scrollTo(e+n-s.pageX,t+r-s.pageY),i=i||Math.abs(n-s.pageX)>5||Math.abs(r-s.pageY)>5,u==ie&&l==te}}).bind("touchend.walkme-jsp",function(e){o=!1}).bind("click.walkme-jsp-touchclick",function(e){return i?(i=!1,!1):void 0})}function G(){var e=x(),t=_();r.removeClass("walkme-jspScrollable").unbind(".walkme-jsp"),r.replaceWith(_e.append(V.children())),_e.scrollTop(e),_e.scrollLeft(t),ye&&clearInterval(ye)}var W,V,Q,H,z,Y,q,K,X,J,$,Z,ee,te,ne,re,ie,oe,ae,se,ue,le,ce,de,fe,pe,ge,he,me,ve,ye,we,be,Se,Te=this,Ie=!0,Ce=!0,Ee=!1,ke=!1,_e=r.clone(!1,!1).empty(),xe=xe,Pe=e.fn.mwheelIntent?"mwheelIntent.walkme-jsp":"mousewheel.walkme-jsp";"border-box"===r.css("box-sizing")?(we=0,be=0):(we=r.css("paddingTop")+" "+r.css("paddingRight")+" "+r.css("paddingBottom")+" "+r.css("paddingLeft"),be=(parseInt(r.css("paddingLeft"),10)||0)+(parseInt(r.css("paddingRight"),10)||0)),e.extend(Te,{reinitialise:function(t){t=e.extend({},W,t),o(t)},scrollToElement:function(e,t,n){k(e,t,n)},scrollTo:function(e,t,n){E(e,n),C(t,n)},scrollToX:function(e,t){E(e,t)},scrollToY:function(e,t){C(e,t)},scrollToPercentX:function(e,t){E(e*(Y-Q),t)},scrollToPercentY:function(e,t){C(e*(q-H),t)},scrollBy:function(e,t,n){Te.scrollByX(e,n),Te.scrollByY(t,n)},scrollByX:function(e,t){var n=_()+Math[0>e?"floor":"ceil"](e),r=n/(Y-Q);b(r*re,t)},scrollByY:function(e,t){var n=x()+Math[0>e?"floor":"ceil"](e),r=n/(q-H);y(r*ee,t)},positionDragX:function(e,t){b(e,t)},positionDragY:function(e,t){y(e,t)},animate:function(e,t,n,r){var i={};i[t]=n,e.animate(i,{duration:W.animateDuration,easing:W.animateEase,queue:!1,step:r})},getContentPositionX:function(){return _()},getContentPositionY:function(){return x()},getContentWidth:function(){return Y},getContentHeight:function(){return q},getPercentScrolledX:function(){return _()/(Y-Q)},getPercentScrolledY:function(){return x()/(q-H)},getIsScrollableH:function(){return $},getIsScrollableV:function(){return J},getContentPane:function(){return V},scrollToBottom:function(e){y(ee,e)},hijackInternalLinks:e.noop,destroy:function(){G()}}),o(i)}return r=e.extend({},e.fn.jScrollPane.defaults,r),e.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){r[this]=r[this]||r.speed}),this.each(function(){var t=e(this),n=t.data("walkme-jsp");n?n.reinitialise(r):(e("script",t).filter('[type="text/javascript"],:not([type])').remove(),n=new i(t,r),t.data("walkme-jsp",n))})},e.fn.jScrollPane.defaults={containerDoc:document,setTabIndex:!0,alwaysScrollVertical:!1,alwaysScrollHorizontal:!1,dragMaxYOffset:0,showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:n,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}}(wmjQuery,this),function(e){function t(t){var i,o=t||window.event,a=[].slice.call(arguments,1),s=0,u=0,l=0,c=0,d=0;return t=e.event.fix(o),t.type="mousewheel",o.wheelDelta&&(s=o.wheelDelta),o.detail&&(s=-1*o.detail),o.deltaY&&(l=-1*o.deltaY,s=l),o.deltaX&&(u=o.deltaX,s=-1*u),void 0!==o.wheelDeltaY&&(l=o.wheelDeltaY),void 0!==o.wheelDeltaX&&(u=-1*o.wheelDeltaX),c=Math.abs(s),(!n||n>c)&&(n=c),d=Math.max(Math.abs(l),Math.abs(u)),(!r||r>d)&&(r=d),i=s>0?"floor":"ceil",s=Math[i](s/n),u=Math[i](u/r),l=Math[i](l/r),a.unshift(t,s,u,l),(e.event.dispatch||e.event.handle).apply(this,a)}var n,r,i=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],o="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(e.event.fixHooks)for(var a=i.length;a;)e.event.fixHooks[i[--a]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=o.length;e;)this.addEventListener(o[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=o.length;e;)this.removeEventListener(o[--e],t,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(wmjQuery),function(e){var t,n={vertical:{x:!1,y:!0},horizontal:{x:!0,y:!1},both:{x:!0,y:!0},x:{x:!0,y:!1},y:{x:!1,y:!0}},r={duration:"fast",direction:"both"},i=function(t,n){n=n||(document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(t,null):t.currentStyle);var r=document.defaultView&&document.defaultView.getComputedStyle?!0:!1,i={top:parseFloat(r?n.borderTopWidth:e.css(t,"borderTopWidth"))||0,left:parseFloat(r?n.borderLeftWidth:e.css(t,"borderLeftWidth"))||0,bottom:parseFloat(r?n.borderBottomWidth:e.css(t,"borderBottomWidth"))||0,right:parseFloat(r?n.borderRightWidth:e.css(t,"borderRightWidth"))||0};return{top:i.top,left:i.left,bottom:i.bottom,right:i.right,vertical:i.top+i.bottom,horizontal:i.left+i.right}},o=function(n){var r=e(window),o=t.test(n[0].nodeName);return{border:o?{top:0,left:0,bottom:0,right:0}:i(n[0]),scroll:{top:(o?r:n).scrollTop(),left:(o?r:n).scrollLeft()},scrollbar:{right:o?0:n.innerWidth()-n[0].clientWidth,bottom:o?0:n.innerHeight()-n[0].clientHeight},rect:function(){var e=n[0].getBoundingClientRect();return{top:o?0:e.top,left:o?0:e.left,bottom:o?n[0].clientHeight:e.bottom,right:o?n[0].clientWidth:e.right}}()}};e.fn.extend({scrollintoview:function(i){i=e.extend({},r,i),i.direction=n["string"==typeof i.direction&&i.direction.toLowerCase()]||n.both;var a="";i.direction.x===!0&&(a="horizontal"),i.direction.y===!0&&(a=a?"both":"vertical"),t="html"==i.rootElement?/^(?:html)$/i:/^(?:body)$/i;var s=this.eq(0),u=i.elementToFindScrollableFor.parent().closest(":scrollable("+a+")");if(!(u.length>0))return!1;"html"==i.rootElement&&u[0].tagName&&u[0].tagName.toUpperCase&&"BODY"==u[0].tagName.toUpperCase()&&(u=u.parent()),u=u.eq(0);var l={e:o(s),s:o(u)};if(i.heightLimit&&u.height()<200)return!1;var c={top:l.e.rect.top-(l.s.rect.top+l.s.border.top),bottom:l.s.rect.bottom-l.s.border.bottom-l.s.scrollbar.bottom-l.e.rect.bottom,left:l.e.rect.left-(l.s.rect.left+l.s.border.left),right:l.s.rect.right-l.s.border.right-l.s.scrollbar.right-l.e.rect.right},d=0,f={top:c.top,bottom:c.bottom};if(i.endScroll){var p=i.endScroll.scrollOptions;d="px"==p.unit?p.distance:(l.s.rect.bottom-i.endScroll.balloonHeight)*parseFloat(p.distance)/100,c.top>0&&c.bottom<0&&(d+=i.endScroll.totalDrawnHeight-l.s.rect.bottom),p.force&&(f.top-=d)}else c.top-=50,c.bottom-=50;var g={};return i.direction.y===!0&&(f.top<0?g.scrollTop=l.s.scroll.top+c.top-d:f.top>0&&f.bottom<0&&(g.scrollTop=l.s.scroll.top+Math.min(c.top,-c.bottom)-d)),i.direction.x===!0&&(c.left<0?g.scrollLeft=l.s.scroll.left+c.left:c.left>0&&c.right<0&&(g.scrollLeft=l.s.scroll.left+Math.min(c.left,-c.right))),g.scrollTop||g.scrollLeft?(t.test(u[0].nodeName)&&(u=e("html,body")),u.animate(g,i.duration).eq(0).queue(function(t){e.isFunction(i.complete)&&i.complete.call(u[0]),t()}),!0):!1}});var a={auto:!0,scroll:!0,visible:!1,hidden:!1};e.extend(e.expr[":"],{scrollable:function(e,r,i,o){var s=n["string"==typeof i[3]&&i[3].toLowerCase()]||n.both,u=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null):e.currentStyle,l={x:a[u.overflowX.toLowerCase()]||!1,y:a[u.overflowY.toLowerCase()]||!1,isRoot:t.test(e.nodeName)};if(!l.x&&!l.y&&!l.isRoot||"hidden"==u.overflowY.toLowerCase())return!1;var c={height:{scroll:e.scrollHeight,client:e.clientHeight},width:{scroll:e.scrollWidth,client:e.clientWidth},scrollableX:function(){return(l.x||l.isRoot)&&this.width.scroll>this.width.client},scrollableY:function(){return(l.y||l.isRoot)&&this.height.scroll>this.height.client}};return s.y&&c.scrollableY()||s.x&&c.scrollableX()}})}(mtjQuery);var _makeTutorialEv={Ev:function(src){return eval(src)}};if(void 0==window._makeTutorial&&(_walkMe=_makeTutorial=new ClassMakeTutorial,_makeTutorial.initFailed&&(_walkMe=_makeTutorial=void 0)),window._makeTutorial&&void 0==window.WalkMeAPI)var WalkMeAPI=new ClassWalkMeAPI;